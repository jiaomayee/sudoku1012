import{r as e,a as t,R as n,u as o,b as r,L as i,B as l,d as a,e as s}from"./react-vendor-b3f8d475.js";import{l as c}from"./utils-c38e29a9.js";import{a as d}from"./axios-8e1cd5bd.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var u={exports:{}},h={},p=e,f=Symbol.for("react.element"),g=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,y=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function b(e,t,n){var o,r={},i=null,l=null;for(o in void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(l=t.ref),t)m.call(t,o)&&!x.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===r[o]&&(r[o]=t[o]);return{$$typeof:f,type:e,key:i,ref:l,props:r,_owner:y.current}}h.Fragment=g,h.jsx=b,h.jsxs=b,u.exports=h;var v=u.exports,w={},C=t;function S(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=S(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function k(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=S(e))&&(o&&(o+=" "),o+=t);return o}w.createRoot=C.createRoot,w.hydrateRoot=C.hydrateRoot;const $=e=>"number"==typeof e&&!isNaN(e),T=e=>"string"==typeof e,A=e=>"function"==typeof e,z=e=>T(e)||A(e)?e:null,j=t=>e.isValidElement(t)||T(t)||A(t)||$(t);function P(t){let{enter:o,exit:r,appendPosition:i=!1,collapse:l=!0,collapseDuration:a=300}=t;return function(t){let{children:s,position:c,preventExitTransition:d,done:u,nodeRef:h,isIn:p}=t;const f=i?`${o}--${c}`:o,g=i?`${r}--${c}`:r,m=e.useRef(0);return e.useLayoutEffect(()=>{const e=h.current,t=f.split(" "),n=o=>{o.target===h.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==o.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),e.useEffect(()=>{const e=h.current,t=()=>{e.removeEventListener("animationend",t),l?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:o,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=o+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)})})}(e,u,a):u()};p||(d?t():(m.current=1,e.className+=` ${g}`,e.addEventListener("animationend",t)))},[p]),n.createElement(n.Fragment,null,s)}}function E(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const q={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(e=>e!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},I=e=>{let{theme:t,type:o,...r}=e;return n.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${o})`,...r})},R={info:function(e){return n.createElement(I,{...e},n.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return n.createElement(I,{...e},n.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return n.createElement(I,{...e},n.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return n.createElement(I,{...e},n.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return n.createElement("div",{className:"Toastify__spinner"})}};function N(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function M(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function W(e){let{closeToast:t,theme:o,ariaLabel:r="close"}=e;return n.createElement("button",{className:`Toastify__close-button Toastify__close-button--${o}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},n.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},n.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function D(e){let{delay:t,isRunning:o,closeToast:r,type:i="default",hide:l,className:a,style:s,controlledProgress:c,progress:d,rtl:u,isIn:h,theme:p}=e;const f=l||c&&0===d,g={...s,animationDuration:`${t}ms`,animationPlayState:o?"running":"paused",opacity:f?0:1};c&&(g.transform=`scaleX(${d})`);const m=k("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),y=A(a)?a({rtl:u,type:i,defaultClassName:m}):k(m,a);return n.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:y,style:g,[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{h&&r()}})}const F=t=>{const{isRunning:o,preventExitTransition:r,toastRef:i,eventHandlers:l}=function(t){const[n,o]=e.useState(!1),[r,i]=e.useState(!1),l=e.useRef(null),a=e.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,s=e.useRef(t),{autoClose:c,pauseOnHover:d,closeToast:u,onClick:h,closeOnClick:p}=t;function f(e){if(t.draggable){"touchstart"===e.nativeEvent.type&&e.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",x),document.addEventListener("mouseup",b),document.addEventListener("touchmove",x),document.addEventListener("touchend",b);const n=l.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=n.getBoundingClientRect(),n.style.transition="",a.x=N(e.nativeEvent),a.y=M(e.nativeEvent),"x"===t.draggableDirection?(a.start=a.x,a.removalDistance=n.offsetWidth*(t.draggablePercent/100)):(a.start=a.y,a.removalDistance=n.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent/100))}}function g(e){if(a.boundingRect){const{top:n,bottom:o,left:r,right:i}=a.boundingRect;"touchend"!==e.nativeEvent.type&&t.pauseOnHover&&a.x>=r&&a.x<=i&&a.y>=n&&a.y<=o?y():m()}}function m(){o(!0)}function y(){o(!1)}function x(e){const o=l.current;a.canDrag&&o&&(a.didMove=!0,n&&y(),a.x=N(e),a.y=M(e),a.delta="x"===t.draggableDirection?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),o.style.transform=`translate${t.draggableDirection}(${a.delta}px)`,o.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function b(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",b);const e=l.current;if(a.canDrag&&a.didMove&&e){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),void t.closeToast();e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform=`translate${t.draggableDirection}(0)`,e.style.opacity="1"}}e.useEffect(()=>{s.current=t}),e.useEffect(()=>(l.current&&l.current.addEventListener("d",m,{once:!0}),A(t.onOpen)&&t.onOpen(e.isValidElement(t.children)&&t.children.props),()=>{const t=s.current;A(t.onClose)&&t.onClose(e.isValidElement(t.children)&&t.children.props)}),[]),e.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",m),window.addEventListener("blur",y)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",y))}),[t.pauseOnFocusLoss]);const v={onMouseDown:f,onTouchStart:f,onMouseUp:g,onTouchEnd:g};return c&&d&&(v.onMouseEnter=y,v.onMouseLeave=m),p&&(v.onClick=e=>{h&&h(e),a.canCloseOnClick&&u()}),{playToast:m,pauseToast:y,isRunning:n,preventExitTransition:r,toastRef:l,eventHandlers:v}}(t),{closeButton:a,children:s,autoClose:c,onClick:d,type:u,hideProgressBar:h,closeToast:p,transition:f,position:g,className:m,style:y,bodyClassName:x,bodyStyle:b,progressClassName:v,progressStyle:w,updateId:C,role:S,progress:$,rtl:T,toastId:z,deleteToast:j,isIn:P,isLoading:E,iconOut:q,closeOnClick:I,theme:R}=t,F=k("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":I}),L=A(m)?m({rtl:T,position:g,type:u,defaultClassName:F}):k(F,m),B=!!$||!c,O={closeToast:p,type:u,theme:R};let H=null;return!1===a||(H=A(a)?a(O):e.isValidElement(a)?e.cloneElement(a,O):W(O)),n.createElement(f,{isIn:P,done:j,position:g,preventExitTransition:r,nodeRef:i},n.createElement("div",{id:z,onClick:d,className:L,...l,style:y,ref:i},n.createElement("div",{...P&&{role:S},className:A(x)?x({type:u}):k("Toastify__toast-body",x),style:b},null!=q&&n.createElement("div",{className:k("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},q),n.createElement("div",null,s)),H,n.createElement(D,{...C&&!B?{key:`pb-${C}`}:{},rtl:T,theme:R,delay:c,isRunning:o,isIn:P,closeToast:p,hide:h,type:u,style:w,className:v,controlledProgress:B,progress:$||0})))},L=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},B=P(L("bounce",!0));P(L("slide",!0)),P(L("zoom")),P(L("flip"));const O=e.forwardRef((t,o)=>{const{getToastToRender:r,containerRef:i,isToastActive:l}=function(t){const[,n]=e.useReducer(e=>e+1,0),[o,r]=e.useState([]),i=e.useRef(null),l=e.useRef(new Map).current,a=e=>-1!==o.indexOf(e),s=e.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:a,getToast:e=>l.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:n}=s.props;!n||t&&s.containerId!==t||(s.count-=s.queue.length,s.queue=[])}function d(e){r(t=>null==e?[]:t.filter(t=>t!==e))}function u(){const{toastContent:e,toastProps:t,staleId:n}=s.queue.shift();p(e,t,n)}function h(t,o){let{delay:r,staleId:a,...c}=o;if(!j(t)||(h=c,!i.current||s.props.enableMultiContainer&&h.containerId!==s.props.containerId||l.has(h.toastId)&&null==h.updateId))return;var h;const{toastId:f,updateId:g,data:m}=c,{props:y}=s,x=()=>d(f),b=null==g;b&&s.count++;const v={...y,style:y.toastStyle,key:s.toastKey++,...Object.fromEntries(Object.entries(c).filter(e=>{let[t,n]=e;return null!=n})),toastId:f,updateId:g,data:m,closeToast:x,isIn:!1,className:z(c.className||y.toastClassName),bodyClassName:z(c.bodyClassName||y.bodyClassName),progressClassName:z(c.progressClassName||y.progressClassName),autoClose:!c.isLoading&&(w=c.autoClose,C=y.autoClose,!1===w||$(w)&&w>0?w:C),deleteToast(){const e=E(l.get(f),"removed");l.delete(f),q.emit(4,e);const t=s.queue.length;if(s.count=null==f?s.count-s.displayedToast:s.count-1,s.count<0&&(s.count=0),t>0){const e=null==f?s.props.limit:1;if(1===t||1===e)s.displayedToast++,u();else{const n=e>t?t:e;s.displayedToast=n;for(let e=0;e<n;e++)u()}}else n()}};var w,C;v.iconOut=function(t){let{theme:n,type:o,isLoading:r,icon:i}=t,l=null;const a={theme:n,type:o};return!1===i||(A(i)?l=i(a):e.isValidElement(i)?l=e.cloneElement(i,a):T(i)||$(i)?l=i:r?l=R.spinner():o in R&&(l=R[o](a))),l}(v),A(c.onOpen)&&(v.onOpen=c.onOpen),A(c.onClose)&&(v.onClose=c.onClose),v.closeButton=y.closeButton,!1===c.closeButton||j(c.closeButton)?v.closeButton=c.closeButton:!0===c.closeButton&&(v.closeButton=!j(y.closeButton)||y.closeButton);let S=t;e.isValidElement(t)&&!T(t.type)?S=e.cloneElement(t,{closeToast:x,toastProps:v,data:m}):A(t)&&(S=t({closeToast:x,toastProps:v,data:m})),y.limit&&y.limit>0&&s.count>y.limit&&b?s.queue.push({toastContent:S,toastProps:v,staleId:a}):$(r)?setTimeout(()=>{p(S,v,a)},r):p(S,v,a)}function p(e,t,n){const{toastId:o}=t;n&&l.delete(n);const i={content:e,props:t};l.set(o,i),r(e=>[...e,o].filter(e=>e!==n)),q.emit(4,E(i,null==i.props.updateId?"added":"updated"))}return e.useEffect(()=>(s.containerId=t.containerId,q.cancelEmit(3).on(0,h).on(1,e=>i.current&&d(e)).on(5,c).emit(2,s),()=>{l.clear(),q.emit(3,s)}),[]),e.useEffect(()=>{s.props=t,s.isToastActive=a,s.displayedToast=o.length}),{getToastToRender:function(e){const n=new Map,o=Array.from(l.values());return t.newestOnTop&&o.reverse(),o.forEach(e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,t=>e(t[0],t[1]))},containerRef:i,isToastActive:a}}(t),{className:a,style:s,rtl:c,containerId:d}=t;function u(e){const t=k("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":c});return A(a)?a({position:e,rtl:c,defaultClassName:t}):k(t,z(a))}return e.useEffect(()=>{o&&(o.current=i.current)},[]),n.createElement("div",{ref:i,className:"Toastify",id:d},r((e,t)=>{const o=t.length?{...s}:{...s,pointerEvents:"none"};return n.createElement("div",{className:u(e),style:o,key:`container-${e}`},t.map((e,o)=>{let{content:r,props:i}=e;return n.createElement(F,{...i,isIn:l(i.toastId),style:{...i.style,"--nth":o+1,"--len":t.length},key:`toast-${i.key}`},r)}))}))});O.displayName="ToastContainer",O.defaultProps={position:"top-right",transition:B,autoClose:5e3,closeButton:W,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let H,_=new Map,X=[],Y=1;function G(){return""+Y++}function Z(e){return e&&(T(e.toastId)||$(e.toastId))?e.toastId:G()}function U(e,t){return _.size>0?q.emit(0,e,t):X.push({content:e,options:t}),t.toastId}function J(e,t){return{...t,type:t&&t.type||e,toastId:Z(t)}}function V(e){return(t,n)=>U(t,J(e,n))}function K(e,t){return U(e,J("default",t))}K.loading=(e,t)=>U(e,J("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),K.promise=function(e,t,n){let o,{pending:r,error:i,success:l}=t;r&&(o=T(r)?K.loading(r,n):K.loading(r.render,{...n,...r}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(e,t,r)=>{if(null==t)return void K.dismiss(o);const i={type:e,...a,...n,data:r},l=T(t)?{render:t}:t;return o?K.update(o,{...i,...l}):K(l.render,{...i,...l}),r},c=A(e)?e():e;return c.then(e=>s("success",l,e)).catch(e=>s("error",i,e)),c},K.success=V("success"),K.info=V("info"),K.error=V("error"),K.warning=V("warning"),K.warn=K.warning,K.dark=(e,t)=>U(e,J("default",{theme:"dark",...t})),K.dismiss=e=>{_.size>0?q.emit(1,e):X=X.filter(t=>null!=e&&t.options.toastId!==e)},K.clearWaitingQueue=function(e){return void 0===e&&(e={}),q.emit(5,e)},K.isActive=e=>{let t=!1;return _.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},K.update=function(e,t){void 0===t&&(t={}),setTimeout(()=>{const n=function(e,t){let{containerId:n}=t;const o=_.get(n||H);return o&&o.getToast(e)}(e,t);if(n){const{props:o,content:r}=n,i={delay:100,...o,...t,toastId:t.toastId||e,updateId:G()};i.toastId!==e&&(i.staleId=e);const l=i.render||r;delete i.render,U(l,i)}},0)},K.done=e=>{K.update(e,{progress:1})},K.onChange=e=>(q.on(4,e),()=>{q.off(4,e)}),K.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},K.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},q.on(2,e=>{H=e.containerId||e,_.set(H,e),X.forEach(e=>{q.emit(0,e.content,e.options)}),X=[]}).on(3,e=>{_.delete(e.containerId||e),0===_.size&&q.off(0).off(1).off(5)});const Q=e.createContext(),ee={light:{background:"#f5f5f5",surface:"#ffffff",text:"#333333",textSecondary:"#666666",primary:"#4a6cf7",secondary:"#f5a623",success:"#4cd964",warning:"#ffcc00",error:"#ff3b30",disabled:"#cccccc",border:"#e0e0e0",gridLine:"#e0e0e0",gridLineThick:"#cccccc",highlight:"#e6f0ff",mediaQueries:{small:"@media (max-width: 640px)",medium:"@media (max-width: 768px)",large:"@media (max-width: 1024px)"}},dark:{background:"#121212",surface:"#1e1e1e",text:"#f5f5f5",textSecondary:"#b0b0b0",primary:"#6482f7",secondary:"#ffb74d",success:"#66df80",warning:"#ffe066",error:"#ff5757",disabled:"#666666",border:"#333333",gridLine:"#333333",gridLineThick:"#444444",highlight:"#1a237e",mediaQueries:{small:"@media (max-width: 640px)",medium:"@media (max-width: 768px)",large:"@media (max-width: 1024px)"}}},te=({children:t})=>{const[n,o]=e.useState(localStorage.getItem("themeMode")||"light"),[r,i]=e.useState(()=>{if("system"===n){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;return ee[e?"dark":"light"]}return ee[n]});e.useEffect(()=>{let e;if("system"===n){const t=window.matchMedia("(prefers-color-scheme: dark)").matches;e=ee[t?"dark":"light"]}else e=ee[n];i(e)},[n]);e.useEffect(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{if("system"===n){const t=e.matches;i(ee[t?"dark":"light"])}};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[n]);const l={theme:r,themeMode:n,toggleTheme:()=>{const e="light"===n?"dark":"light";o(e),localStorage.setItem("themeMode",e)},setLightTheme:()=>{o("light"),localStorage.setItem("themeMode","light")},setDarkTheme:()=>{o("dark"),localStorage.setItem("themeMode","dark")},setSystemTheme:()=>{o("system"),localStorage.setItem("themeMode","system")}};return v.jsx(Q.Provider,{value:l,children:t})},ne=()=>{const t=e.useContext(Q);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},oe={"zh-CN":{home:"首页",game:"游戏",techniques:"技巧",alsXZIdentifyRegions:"Almost Locked Set XZ-Rule: ALS1={als1Cells} {als1Candidates}, ALS2={als2Cells} {als2Candidates}, X={x}, Z={z}",alsXZIdentifyKeyNumbers:"关键数字：限制候选数X={x}是两个ALS区域共享的唯一候选数，而消除候选数Z={z}在两个区域中都存在。",alsXZAnalyzeDistribution:"在ALS区域1中，数字{x}只出现一次，而数字{z}可能出现在多个单元格；在ALS区域2中，数字{x}也只出现一次，数字{z}同样存在于多个单元格中。",alsXZDetermineScope:"影响范围：找出同时与两个ALS区域中的{z}相关的单元格，即{targetCells}。",alsXZEliminateCandidates:"逻辑推理：无论限制候选数X={x}出现在哪个ALS区域，都会导致对应的ALS区域中的Z={z}必须出现，因此目标单元格{targetCells}中不可能存在Z={z}。",alsXZVerifyResult:"从目标单元格{targetCells}中移除候选数{z}。",alsXZSummary:"Almost Locked Set XZ-Rule: ALS1={als1Cells} {als1Candidates}, ALS2={als2Cells} {als2Candidates}, X={x}, Z={z} => 从{targetCells}中移除候选数{z}",alsXZTechnique:"ALS-XZ技巧",homePage:{welcomeTitle:"欢迎来到数独学习应用",welcomeSubtitle:"提升您的数独技能，学习从基础到高级的解题技巧。适合各级别玩家，让您的数独之旅更加精彩！",startGame:"开始游戏",learnTechniques:"学习技巧",multiDifficulty:"多种难度",multiDifficultyDesc:"从简单到专家级别的数独谜题，适合不同水平的玩家，循序渐进提升您的技能。",techniqueLearning:"技巧学习",techniqueLearningDesc:"详细的解题技巧讲解，从唯一候选数到高级技巧，帮助您掌握数独的精髓。",progressTracking:"进度追踪",progressTrackingDesc:"记录您的游戏进度和技巧掌握情况，分析您的表现，持续进步。",realTimeHints:"实时提示",realTimeHintsDesc:"遇到困难时获得智能提示，帮助您理解下一步的解题思路和技巧应用。",quickStart:"快速开始",yourProgress:"您的进度",puzzlesStarted:"开始的谜题",puzzlesCompleted:"完成的谜题",puzzlesSolved:"独立解决",gameMinutes:"游戏分钟"},loading:"加载中...",generatingNewPuzzle:"生成新谜题...",loadingGame:"加载游戏...",gamePaused:"游戏已暂停",clickToResume:"点击任意位置继续",progress:"进度",statistics:"统计",settings:"设置",ok:"确定",cancel:"取消",save:"保存",delete:"删除",edit:"编辑",back:"返回",yes:"是",no:"否",newGame:"新建游戏",pauseTimer:"暂停计时",resume:"继续",gameCompleted:"游戏已完成",hint:"技巧提示",notes:"候选数",learningMode:"学习",gameMode:"游戏",switchToLearningMode:"切换到学习模式",switchToGameMode:"切换到游戏模式",learningModeActive:"当前学习模式，已开启技巧辅助",gameModeActive:"当前游戏模式，已关闭技巧辅助",learningModeDescription:"提供技巧学习辅助，帮助您学习数独解题技巧。",gameModeDescription:"关闭技巧学习辅助功能，专注于游戏体验。",gameCompletedMessage:"恭喜！您成功完成了这个数独！",generatePuzzleFailed:"生成谜题失败，请重试",generatePuzzleFailedRefresh:"生成谜题失败，请刷新页面重试",selectDifficulty:"选择难度",difficultyDescription:{easy:"初学者友好，空格较少",medium:"进阶挑战，需要一定技巧",hard:"专家级别，逻辑推理",expert:"极高难度，需要高级技巧"},beginnerChallenge:"初学者入门",beginnerDescription:"适合数独新手的简单谜题，空格较少，容易上手。",timeEasy:"约5分钟",intermediateChallenge:"进阶挑战",intermediateDescription:"需要掌握基本技巧的中等难度谜题，提升解题能力。",timeMedium:"约10分钟",expertChallenge:"专家级别",expertDescription:"高难度谜题，需要熟练运用各种解题技巧。",timeHard:"约15分钟",masterChallenge:"大师挑战",masterDescription:"极高难度，需要掌握高级技巧才能解决的谜题。",timeExpert:"约20分钟",dailyChallenge:"每日挑战",dailyDescription:"每天更新的特别谜题，检验你的数独水平。",timeDaily:"约12分钟",specialChallenge:"特殊谜题",specialDescription:"非常规布局或特殊规则的创新数独挑战。",timeSpecial:"约18分钟",startGame:"开始游戏",startNewGame:"开始新游戏",clearAllProgress:"清空所有进度",allProgress:"全部进度",inProgress:"进行中",completed:"已完成",paused:"已暂停",sudokuGame:"数独游戏",difficulty:"挑战",startTime:"开始时间",lastUpdated:"最后更新",completionProgress:"完成进度",continueGame:"继续游戏",deleteProgress:"删除进度",noProgress:"暂无游戏进度",noFilteredProgress:"没有符合筛选条件的游戏进度",noStartedGames:"您还没有开始任何数独游戏",confirmClearAllProgress:"确认清空所有进度",confirmDeleteProgress:"确认删除进度",clearAllProgressWarning:"此操作将删除所有游戏进度，且无法恢复。确定要继续吗？",deleteProgressWarning:"此操作将删除选中的游戏进度，且无法恢复。确定要继续吗？",confirmDelete:"确认删除",settingsPageTitle:"设置",language:"语言",theme:"主题",lightTheme:"浅色主题",darkTheme:"深色主题",systemTheme:"跟随系统",customTheme:"自定义主题",editTheme:"编辑主题",saveChanges:"保存更改",themeSelection:"主题选择",gameSettings:"游戏设置",soundEffects:"音效",autoCheck:"自动检查",showHints:"显示提示",confirm:"确认",continue:"继续",complete:"完成",start:"开始",pause:"暂停",time:"时间",easy:"简单",medium:"中等",hard:"困难",expert:"专家",custom:"自定义",invalidSudoku:"数独不符合规则，请检查棋盘数据",noSolution:"该数独不可解，请检查棋盘数据",notUniqueSolution:"该数独不仅有一个解，请修改棋盘数据",validationError:"验证失败，请检查棋盘数据",languageSwitch:"切换语言",languageOptions:{"zh-CN":"中文","en-US":"English"},welcomeTitle:"欢迎免费玩数独、学习数独高阶技巧",welcomeContent:"我们提供免费的在线数独游戏，让您随时享受解谜的乐趣。无论您是初学者还是数独高手，都能在这里找到适合自己的挑战。同时，我们精心设计了数独技巧学习模块，帮助您掌握从初级到高级的数独解法，提升解题能力。本项目在GitHub上免费开源，欢迎访问和贡献。",rulesTitle:"数独基本规则",rulesContent:"数独是一种基于逻辑的数字填充游戏，标准数独由9×9网格组成，分为9个3×3的子网格。游戏目标是在空格中填入数字1-9，使得每行、每列和每个3×3子网格中的数字不重复。玩家需要利用已知数字，通过逻辑推理填充剩余空格，完成整个数独。",techniquesTitle:"数独技巧介绍",techniquesContent:"数独技巧可分为多个难度等级：<br><strong>基础技巧</strong>：唯一数法（Singles）、宫排除法（Block/Box Line Reduction）、显式数对（Naked Pairs）、隐式数对（Hidden Pairs）、显式三链数（Naked Triples）<br><strong>进阶技巧</strong>：X-Wing、剑鱼（Swordfish）、XY-Wing、XYZ-Wing、唯一矩形（UR Type 1）<br><strong>高阶技巧</strong>：简单链（Simple Chains）、XY-Chain、ALS-XZ Rule、唯一矩形（UR Type 2-4）、双值格链（AIC）",pointingPairs:"指向对法",boxLineReduction:"宫行列删减法",swordfish:"剑鱼法",jellyfish:"水母法",skyscraper:"摩天楼法",twoStringKite:"双绳风筝法",emptyRectangle:"空矩形法",uniquenessRectangle:"唯一矩形法",hiddenRectangle:"隐藏矩形法",uniqueRectangleType1:"唯一矩形类型1",uniqueRectangleType2:"唯一矩形类型2",uniqueRectangleType3:"唯一矩形类型3",uniqueRectangleType4:"唯一矩形类型4",xYChain:"XY链",xChain:"X链",simpleColoring:"简单着色法",forcingChain:"强制链",alternatingInferenceChain:"交替推理链",niceLoop:"尼斯环",alS_XZ:"ALS-XZ规则",alS_XY_Wing:"ALS-XY-Wing",alS_Wing:"ALS-Wing",deathBlossom:"死亡绽放",sueDeCoq:"Sue De Coq",sdc:"Sue De Coq",wXYZ_Wing:"WXYZ-Wing",remotePairs:"远程数对",bivalueUniversalGrave:"双值格全墓地",almostLockedSet:"几乎锁定集",loadGameFailed:"加载游戏失败，请稍后重试",deleteProgressFailed:"删除进度失败，请稍后重试",clearProgressFailed:"清空进度失败，请稍后重试",startPractice:"开始练习{techniqueName}技巧！",updateAvailable:"网站有新版本可用！",updateNow:"立即更新",aboutUs:"关于我们",customSudoku:"自定义数独",help:"使用帮助",sudokuRules:"数独规则",contactUs:"联系我们",copyright:"版权所有",version:"版本",appName:"SudokuTech",themeSaved:"主题已保存",themeReset:"主题已重置",themeExported:"主题已导出",themeImported:"主题导入成功",themeImportFailed:"主题导入失败: ",enterPencilMode:"进入铅笔模式，可以添加候选数字",exitPencilMode:"退出铅笔模式，返回正常输入",notesCalculated:"已为所有空白格子计算并填充候选数",foundRandomTechnique:"随机发现技巧：",findSingleCandidateCell:"查找仅有唯一可填数字的单元格",cellOnlyHasSingleCandidate:"单元格{position}只有唯一可填数字{value}",fillNumber:"填入数字{value}",findHiddenSingleInRegion:"在{regionType}{regionNum}中查找隐藏的唯一数字",numberOnlyInPosition:"数字{value}在{regionType}{regionNum}中只能出现在{position}",row:"行",col:"列",box:"宫",multipleCells:"多单元格",error:"错误",nakedSingleTechnique:"唯一余数",nakedPairTechnique:"显性数对",hiddenPairTechnique:"隐性数对",nakedTripleTechnique:"显性三链数",hiddenTripleTechnique:"隐性三链数",xWingTechnique:"X-Wing",yWingTechnique:"Y-Wing",pointingPairsTechnique:"指向对",boxLineReductionTechnique:"宫线摒除",swordfishTechnique:"剑鱼",xyzWingTechnique:"XYZ-Wing",jellyfishTechnique:"水母法",alsXZTechnique:"ALS-XZ技巧",alsXZ:"ALS-XZ技巧",sdcTechnique:"Sue De Coq技巧",sdc:"Sue De Coq技巧",sdcIdentifySDCCells:"Sue De Coq: SDC单元格={sdcCells}，候选数={sdcCandidates}",sdcIdentifyGroups:"组A（{lineType}{lineIndex}）={groupACells} 候选数{groupACandidates}，组B（第{boxIndex}宫）={groupBCells} 候选数{groupBCandidates}",sdcAnalyzeIntersection:"分析候选数分布：组A的候选数{groupACandidates}只能出现在{lineType}{lineIndex}的其他宫中，组B的候选数{groupBCandidates}只能出现在第{boxIndex}宫的其他{lineType}中。",sdcVerifySeparation:"验证候选数分离：组A和组B的候选数无交集，它们的并集{allCandidates}完全覆盖SDC单元格的候选数。",sdcEliminateFromLine:"从{lineType}{lineIndex}的目标单元格{targetCells}中删除组B的候选数{boxCandidates}。",sdcEliminateFromBox:"从第{boxIndex}宫的目标单元格{targetCells}中删除组A的候选数{lineCandidates}。",sdcVerifyResult:"完成删除，共从{count}个单元格中删除候选数。",uniquenessTechnique:"唯一性技巧",avoidableRectangleTechnique:"可避免矩形技巧",uniquenessDescription:"通过分析可能导致多解的模式来消除候选数",arType1IdentifyPattern:"可避免矩形 Type 1: 矩形单元格={arCells}，基础数寸={basePair}",arType1IdentifyExtra:"单元格{cellsWithExtra}含有额外候选数",arType1IdentifyNoExtra:"单元格{cellsWithoutExtra}仅含有基础数寸",arType1Eliminate:"从{targetCells}中删除{totalCount}个候选数",nakedSingle:"唯一数法",hiddenSingleRow:"隐性唯一数法(行)",hiddenSingleCol:"隐性唯一数法(列)",hiddenSingleBox:"隐性唯一数法(宫)",nakedPairsRow:"显性数对法(行)",nakedPairsCol:"显性数对法(列)",nakedPairsBox:"显性数对法(宫)",hiddenPairsRow:"隐性数对法(行)",hiddenPairsCol:"隐性数对法(列)",hiddenPairsBox:"隐性数对法(宫)",nakedTripleRow:"显性三链数法(行)",nakedTripleCol:"显性三链数法(列)",nakedTripleBox:"显性三链数法(宫)",hiddenTripleRow:"隐性三链数法(行)",hiddenTripleCol:"隐性三链数法(列)",hiddenTripleBox:"隐性三链数法(宫)",swordfishRow:"剑鱼法(行)",swordfishCol:"剑鱼法(列)",xyzWing:"XYZ-Wing法",jellyfish:"水母法",unknownTechnique:"未知技巧",rowSuffix:"(行)",colSuffix:"(列)",boxSuffix:"(宫)",nakedPair:"显性数对法",nakedPairRow:"行显性数对",nakedPairCol:"列显性数对",nakedPairBox:"宫显性数对",hiddenPair:"隐性数对法",hiddenPairRow:"行隐性数对",hiddenPairCol:"列隐性数对",hiddenPairBox:"宫隐性数对",nakedTriple:"显性三链数法",hiddenTriple:"隐性三链数法",notesSingleTechnique:"候选数唯一法",uniqueness_1:"唯一矩形类型1",uniqueness_avoidable_rectangle_1:"可避免矩形类型1",uniqueness_avoidable_rectangle_2:"可避免矩形类型2",uniqueness_bug_plus_1:"BUG+1",keyboardTab:"键盘",techniquesTab:"技巧",solutionTab:"解题",pencilMode:"铅笔模式",undoAction:"撤销",clearCell:"清空单元格",fillCandidates:"刷新候选数",applyTechnique:"应用",nextStep:"下一步",apply:"应用",manualHandle:"手动处理",manualHandleTechnique:"Manual",solutionSteps:"解题步骤",selectTechniqueFirst:"请先从技巧列表中选择一个技巧",noTechniquesAvailable:"没有可用的技巧",refreshCandidatesTooltip:"点击刷新候选数并加载所有技巧求解",candidatesTab:"候选数",hintsTab:"提示",solveStep:"解题一步",solveAll:"全部解题",relatedPosition:"相关位置: {position}",relatedNumber:"涉及数字: {number}",analysisCompleted:"分析完成",findPairInRegion:"在{regionType}{regionNum}中查找数对",foundNakedPair:"发现数字{numbers}的显性数对，位于单元格{cells}",removeCandidatesFromTargets:"这些数字只能出现在这两个单元格中，需要从目标单元格{targets}中删除候选数{numbers}",findHiddenPairInRegion:"在{regionType}{regionNum}中查找只能出现在两个单元格中的数字对",foundNumbersOnlyInCells:"发现数字{numbers}只能出现在单元格{cells}",removeOtherCandidates:"目标单元格{cells}中只能填入数字{numbers}，需要移除其他候选数",findTripleInRegion:"在{regionType}{regionNum}中查找三链数",foundNakedTriple:"发现数字{numbers}的显性三链数，位于单元格{cells}",findPointingPairsInBox:"在第{boxNum}宫，数字{number}只能出现在第{lineNum}{lineType}",removePointingPairsFromTargets:"从第{lineNum}{lineType}的目标单元格{targets}中移除候选数{number}",findBoxLineReductionInLine:"在第{lineNum}{lineType}，数字{number}只能出现在第{boxNum}宫",removeBoxLineReductionFromTargets:"从第{boxNum}宫的目标单元格{targets}中移除候选数{number}",findHiddenTripleInRegion:"在{regionType}{regionNum}中查找只能出现在三个单元格中的数字组",findXWingInWings:"在{wingType}中查找数字{number}的X-Wing结构",xWingFormRectangle:"数字{number}在源单元格{sourceCells}中形成矩形结构",removeXWingFromTargets:"从目标单元格{targets}中移除候选数{number}",findYWingStructure:"发现Y-Wing结构：枢纽{anchor}，翼{xz}和{yz}",yWingShareCandidates:"枢纽{anchor}与翼{xz}共享候选数{x}，枢纽{anchor}与翼{yz}共享候选数{y}，翼{xz}和{yz}都包含候选数{z}",removeYWingFromTargets:"从目标单元格{targets}中移除候选数{number}",findSwordfishInWings:"在{wingType}中查找数字{number}的Swordfish结构",swordfishFormStructure:"数字{number}在源单元格{sourceCells}中形成三行三列的结构",removeSwordfishFromTargets:"从目标单元格{targets}中移除候选数{number}",findXYZWingStructure:"发现XYZ-Wing结构：枢纽{anchor}，翼{xz}和{yz}",xyzWingShareCandidates:"枢纽{anchor}与翼{xz}共享候选数{x}，枢纽{anchor}与翼{yz}共享候选数{y}，翼{xz}和{yz}都包含候选数{z}",removeXYZWingFromTargets:"从目标单元格{targets}中移除候选数{number}",findJellyfishInWings:"在{wingType}中查找数字{number}的Jellyfish结构",jellyfishFormStructure:"数字{number}在源单元格{sourceCells}中形成四行四列的结构",removeJellyfishFromTargets:"从目标单元格{targets}中移除候选数{number}",findJellyfishInRows:"在第{rows}行中查找数字{number}的Jellyfish结构",findJellyfishInCols:"在第{cols}列中查找数字{number}的Jellyfish结构",jellyfishRowFormStructure:"数字{number}在第{rows}行和第{cols}列中形成四行四列的结构",jellyfishColFormStructure:"数字{number}在第{cols}列和第{rows}行中形成四行四列的结构",techniqueLearningTitle:"数独技巧学习",techniqueLearningDescription:"点击技巧卡片了解详情，掌握各种数独解题方法",close:"关闭",techniqueDescription:"技巧说明",techniqueSteps:"使用步骤",techniqueExamples:"示例",techniqueDiagram:"图例",highlightedCell:"高亮单元格",filledCell:"已填充单元格",relatedCell:"相关单元格",exampleExplanation:"第(%row%,%col%)位为%value%（该%type%缺少数字%value%）",rowCandidate:"行",colCandidate:"列",boxCandidate:"宫",nakedSingleExplain:"该行只欠缺数字2",hiddenSingleExplain:"数字5的候选数仅在第1行第1列的位置",nakedPairExplain:"第1行第1列和第1行第2列的候选数仅有{3,7}",hiddenPairExplain:"数字4和6仅出现在第1行第1列和第1行第2列",pointingPairsExplain:"数字8在第1个宫格中仅出现在第1行",boxLineReductionExplain:"数字8在第1行仅出现在第1个宫格",nakedTripleExplain:"第1行的第1列、第2列、第3列的候选数仅有{2,3,4}",hiddenTripleExplain:"数字3、5、7仅出现在第1行的第1列、第2列、第3列",xWingExplain:"数字6在第1行第1列、第8行第1列以及第1行第5列、第8行第5列",yWingExplain:"枢纽(1,1)与两个Y-翼共享候选数",startPracticeButton:"开始练习",mastered:"已掌握",learning:"学习中",practiceCount:"练习次数",masteryLevel:"掌握度",nakedSingleTechniqueDescription:"最简单的数独技巧，当一个格子只有一个可能的数字时填入该数字。",nakedSingleTechniqueDetail:"唯一候选数是最基础的数独解题技巧。当一个空格子所在的行、列和3x3宫格中已经包含了除一个数字外的所有其他数字时，这个空格子只能填入剩下的那个数字。",nakedSingleStep1:"观察一个空格子",nakedSingleStep2:"检查该格子所在的行，列出已经存在的数字",nakedSingleStep3:"检查该格子所在的列，列出已经存在的数字",nakedSingleStep4:"检查该格子所在的3x3宫格，列出已经存在的数字",nakedSingleStep5:"如果以上三个区域已经包含了除一个数字外的所有其他数字（1-9），则填入剩下的那个数字",nakedSingleExample:"例如：一个格子所在的行包含数字1、2、3、4、5、6、7、9，所在的列包含数字1、2、3、4、5、6、8，所在的宫格包含数字1、2、3、4、5、7、8、9。那么这个格子只能填入数字8。",hiddenSingleTechniqueDescription:"当一个数字只能出现在某一行、列或宫格的某个特定格子时，填入该数字。",hiddenSingleTechniqueDetail:"隐性唯一技巧比唯一候选数稍微复杂一些。当一个数字在某一行、列或3x3宫格中只能出现在一个特定的空格子时，即使该格子可能有其他候选数，但这个数字必须填入该格子。",hiddenSingleStep1:"选择一个数字（1-9）",hiddenSingleStep2:"检查某一行，确定该数字可能的放置位置",hiddenSingleStep3:"如果在该行中，该数字只能放在一个特定格子，则填入该数字",hiddenSingleStep4:"对每一列和每个3x3宫格重复同样的检查",hiddenSingleExample:"例如：在某一行中，数字5只能放在某个特定格子中，尽管该格子可能还有其他候选数（如2和5），但因为数字5在该行中没有其他可能的放置位置，所以这个格子必须填入5。",nakedPairTechniqueDescription:"当两个格子在同一区域（行、列或宫格）中具有相同的两个候选数时，可以排除该区域其他格子中这两个数字。",nakedPairTechniqueDetail:"数对技巧是一种排除法技巧。当在同一行、列或3x3宫格中有两个格子都只有相同的两个候选数时，这两个数字必须分别填入这两个格子，因此可以从该区域的其他格子的候选数中排除这两个数字。",nakedPairStep1:"在同一行、列或3x3宫格中寻找两个格子",nakedPairStep2:"确认这两个格子恰好有相同的两个候选数",nakedPairStep3:"从该区域的其他格子的候选数中排除这两个数字",nakedPairExample:"例如：在同一行中，两个格子都只有候选数3和7。这意味着这两个数字必须分别填入这两个格子，因此该行的其他格子中不可能是3或7，可以从它们的候选数中排除这两个数字。",hiddenPairTechniqueDescription:"当两个数字只能出现在同一区域的两个特定格子中时，可以排除这两个格子中的其他候选数。",hiddenPairTechniqueDetail:"隐性数对是数对的一种变体。当在同一行、列或3x3宫格中，两个特定的数字只能出现在两个特定的格子中时，这两个格子必须包含这两个数字，可以排除这两个格子中的其他候选数。",hiddenPairStep1:"在同一行、列或3x3宫格中选择两个数字",hiddenPairStep2:"检查这两个数字是否只能出现在该区域的两个特定格子中",hiddenPairStep3:"如果是，则可以从这两个格子中排除所有其他候选数，只保留这两个数字",hiddenPairExample:"例如：在同一行中，数字4和6只能出现在两个特定的格子中，尽管这两个格子可能有其他候选数。这意味着这两个格子必须包含数字4和6，所以可以从这两个格子中删除其他候选数。",pointingPairsTechniqueDescription:"当一个数字在某个3x3宫格中只能出现在同一行或同一列时，可以排除该行或列中其他宫格内该数字的可能性。",pointingPairsTechniqueDetail:"指向对技巧利用3x3宫格和行/列的关系进行排除。当在某个3x3宫格中，一个数字只能出现在同一行或同一列的格子中时，这个数字在该行或列的其他3x3宫格中就不能出现在相同的行或列位置。",pointingPairsStep1:"选择一个3x3宫格",pointingPairsStep2:"对于某个数字，检查它在该宫格中可能的位置",pointingPairsStep3:"如果这些位置全部位于同一行或同一列",pointingPairsStep4:"则可以从该行或列的其他3x3宫格中排除该数字出现在相同行或列位置的可能性",pointingPairsExample:"例如：在某个3x3宫格中，数字2只能出现在该宫格的第一行的两个格子中。这意味着在这一行的其他3x3宫格中，数字2不能出现在第一行的位置。",boxLineReductionTechniqueDescription:"当一个数字在某一行或列中只能出现在同一个3x3宫格内时，可以排除该宫格中其他格子的该数字可能性。",boxLineReductionTechniqueDetail:"宫行列排除是指向对的反向应用。当在某一行或列中，一个数字只能出现在某个特定的3x3宫格中时，可以排除该宫格中其他格子出现该数字的可能性。",boxLineReductionStep1:"选择某一行或列",boxLineReductionStep2:"对于某个数字，检查它在该行或列中可能的位置",boxLineReductionStep3:"如果这些位置全部位于同一个3x3宫格中",boxLineReductionStep4:"则可以从该3x3宫格的其他格子中排除该数字",boxLineReductionExample:"例如：在某一行中，数字8只能出现在该行的前三个格子（属于第一个3x3宫格）。这意味着在第一个3x3宫格中，数字8只能出现在这三个格子中，可以从该宫格的其他六个格子中排除数字8。",nakedTripleTechniqueDescription:"当同一行、列或3x3宫格中的三个格子恰好有相同的三个候选数时，可以排除该区域其他格子中这三个候选数。",nakedTripleTechniqueDetail:"显性三链数是显性数对的扩展。当在同一行、列或3x3宫格中，三个格子的候选数恰好是三个相同的数字时（可以是两个数字的组合），就可以从该区域其他格子中删除这三个数字的候选数。",nakedTripleStep1:"在同一行、列或3x3宫格中寻找三个格子",nakedTripleStep2:"确认这三个格子的候选数恰好是相同的三个数字",nakedTripleStep3:"从该区域的其他格子的候选数中排除这三个数字",nakedTripleExample:"例如：在同一行中，三个格子的候选数分别为{2,3,4}、{2,3}、{2,4}。这意味着这三个数字（2、3、4）必须分别填入这三个格子，可以从该行的其他格子中排除数字2、3、4。",hiddenTripleTechniqueDescription:"当三个数字只能出现在同一区域的三个特定格子中时，可以排除这三个格子中其他候选数。",hiddenTripleTechniqueDetail:"隐性三链数是隐性数对的扩展。当在同一行、列或3x3宫格中，三个特定的数字只能出现在三个特定的格子中时，这三个格子必须包含这三个数字，可以从这三个格子中删除所有其他候选数。",hiddenTripleStep1:"在同一行、列或3x3宫格中选择三个数字",hiddenTripleStep2:"检查这三个数字是否只能出现在该区域的三个特定格子中",hiddenTripleStep3:"如果是，则可以从这三个格子中排除所有其他候选数，只保留这三个数字",hiddenTripleExample:"例如：在同一列中，数字3、5、7只能出现在三个特定的格子中。这三个格子可能有其他候选数，但这三个格子必须包含数字3、5、7，所以可以从这三个格子中删除其他候选数。",sdcTechniqueDescription:"通过分析宫与行/列的交叉单元格中的候选数分布来消除候选数。",sdcTechniqueDetail:"Sue De Coq是一种高级技巧，结合了宫和行/列的关系。当在一个宫中，同一行或同一列的两个单元格的候选数合集可以被分为两组时，一组只能出现在该行/列的其他宫中，另一组只能出现在该宫的其他行/列中，就可以删除相关的候选数。",sdcStep1:"在一个宫中找到2个空单元格，它们在同一行或同一列",sdcStep2:"计算这两个单元格的候选数并集（N个数字，N>=3）",sdcStep3:"分析该行/列在其他宫中的候选数（组A）",sdcStep4:"分析该宫在其他行/列中的候选数（组B）",sdcStep5:"如果组A和组B的并集恰好覆盖SDC单元格的所有候选数，则可以删除相关候选数",sdcStep6:"从组A单元格中删除只在组B中出现的数字",sdcStep7:"从组B单元格中删除只在组A中出现的数字",sdcExample:"例如：在第1宫的第1行中，两个单元格的候选数合集为{2,3,4,5}。第1行的其他宫中包含候选数{2,3}（组A），第1宫的其他行中包含候选数{4,5}（组B）。因为组A和组B的并集{2,3,4,5}恰好覆盖SDC单元格的所有候选数，所以可以从组A中删除{4,5}，从组B中删除{2,3}。",xWingTechniqueDescription:"当某个数字在两行（或两列）中只出现在相同的两列（或两行）中时，可以排除这四个格子交集外的该数字。",xWingTechniqueDetail:"X-Wing是一种高级消除技巧。当在两行中，某个数字都只出现在相同的两列中，这四个格子形成矩形时，可以排除这两列中其他行的该数字候选数。",xWingStep1:"选择某个数字，检查两行中该数字的位置分布",xWingStep2:"如果该数字在两行中都只出现在相同的两列中",xWingStep3:"则这四个格子形成了X-Wing结构",xWingStep4:"可以从这两列中的其他行排除该数字",xWingExample:"例如：数字6在第1行只出现在第2列和第5列，在第8行也只出现在第2列和第5列，形成了一个矩形。那么在第2列和第5列的其他行中，都可以排除数字6。",yWingTechniqueDescription:"由三个双候选数格子组成的结构，通过它们的关联关系可以排除某些候选数。",yWingTechniqueDetail:"Y-Wing（也叫XZ-Wing）是由三个格子组成的高级技巧。其中一个格子（称为枢纽）与另外两个格子各共享一个候选数，而这两个格子共享第三个候选数。根据这个结构的逻辑，可以从某些格子中排除候选数。",yWingStep1:"寻找一个格子（枢纽），它有两个候选数X和Y",yWingStep2:"在与枢纽相关的其他格子中，找到有候选数X和Z的格子（称为X-翼）",yWingStep3:"找到有候选数Y和Z的格子（称为Y-翼）",yWingStep4:"从所有同时与X-翼和Y-翼相关的格子中排除候选数Z",yWingExample:"例如：格子A有候选数{1,2}，格子B有候选数{1,3}，格子C有候选数{2,3}。如果A和B在同一区域，A和C在同一区域，但B和C不在同一区域，则可以从同时与B和C相关的格子中排除候选数3。",cellNotEmpty:"该单元格已有数字，无法填充候选数",cellPrefilled:"该单元格为预填数字，无法填充候选数",cellCandidatesFilled:"已为单元格({row},{col})计算并填充候选数！",selectCellForCandidates:"请先选择一个空白单元格",candidatesFilled:"已为所有空白格子计算并填充候选数！",emptyCandidateCellsFound:"发现无候选数的空白单元格，重新计算候选数...",candidatesComplete:"候选数正确完整，直接计算技巧机会！",candidateErrorDetected:"存在候选数删减错误，数据刷新",manualCandidateRemovalRequired:"请手动清除选定候选数",pairTechniqueIdentified:"技巧已识别，请手动移除相关候选数",candidatesIncompleteTitle:"需刷新候选数",candidatesIncompleteMessage:"需刷新候选数，提供更多技巧机会！",noTechniquesAvailableTitle:"没有可用技巧",noTechniquesAvailableMessage:"没有可用技巧，提供一个数独答案",noTechniquesHelpTitle:"没有可用技巧",noTechniquesHelpMessage:"当前已无可用技巧，基于回溯法提供帮助继续游戏",noTechniquesHelpConfirm:"是",noTechniquesHelpCancel:"否"},"en-US":{home:"Home",game:"Game",techniques:"Techniques",alsXZIdentifyRegions:"Almost Locked Set XZ-Rule: ALS1={als1Cells} {als1Candidates}, ALS2={als2Cells} {als2Candidates}, X={x}, Z={z}",alsXZIdentifyKeyNumbers:"Key numbers: Restricted candidate X={x} is the only candidate shared by both ALS regions, while elimination candidate Z={z} exists in both regions.",alsXZAnalyzeDistribution:"In ALS Region 1, number {x} appears only once, while number {z} may appear in multiple cells; in ALS Region 2, number {x} also appears only once, and number {z} also exists in multiple cells.",alsXZDetermineScope:"Scope of influence: Identify cells related to {z} in both ALS regions, which are {targetCells}.",alsXZEliminateCandidates:"Logical reasoning: Regardless of which ALS region the restricted candidate X={x} appears in, it will lead to Z={z} must appear in the corresponding ALS region, so Z={z} cannot exist in the target cell {targetCells}.",alsXZVerifyResult:"Remove candidate {z} from target cell {targetCells}.",alsXZSummary:"Almost Locked Set XZ-Rule: ALS1={als1Cells} {als1Candidates}, ALS2={als2Cells} {als2Candidates}, X={x}, Z={z} => Remove candidate {z} from {targetCells}",alsXZTechnique:"ALS-XZ Rule",homePage:{welcomeTitle:"Welcome to Sudoku Learning App",welcomeSubtitle:"Enhance your Sudoku skills, learn solving techniques from basic to advanced levels. Suitable for players of all levels, making your Sudoku journey more exciting!",startGame:"Start Game",learnTechniques:"Learn Techniques",multiDifficulty:"Multiple Difficulty Levels",multiDifficultyDesc:"Sudoku puzzles from easy to expert levels, suitable for players of different levels, gradually improving your skills.",techniqueLearning:"Technique Learning",techniqueLearningDesc:"Detailed explanations of solving techniques, from naked singles to advanced techniques, helping you master the essence of Sudoku.",progressTracking:"Progress Tracking",progressTrackingDesc:"Record your game progress and technique mastery, analyze your performance, and keep improving.",realTimeHints:"Real-time Hints",realTimeHintsDesc:"Get smart hints when you encounter difficulties, helping you understand the next solving steps and technique applications.",quickStart:"Quick Start",yourProgress:"Your Progress",puzzlesStarted:"Puzzles Started",puzzlesCompleted:"Puzzles Completed",puzzlesSolved:"Solved Independently",gameMinutes:"Game Minutes"},welcomeContent:"We offer free online Sudoku games for you to enjoy puzzle-solving anytime. Whether you are a beginner or a Sudoku expert, you can find suitable challenges here. Meanwhile, we have carefully designed a Sudoku technique learning module to help you master Sudoku solving methods from beginner to advanced levels and improve your solving skills. This project is free and open-source on GitHub, welcome to visit and contribute.",rulesTitle:"Basic Sudoku Rules",rulesContent:"Sudoku is a logic-based number placement puzzle. A standard Sudoku consists of a 9×9 grid divided into nine 3×3 subgrids. The objective is to fill the grid with digits from 1 to 9, such that each row, column, and each of the nine 3×3 subgrids contains all of the digits from 1 to 9 without repetition. Players need to use known numbers to logically deduce the remaining empty cells to complete the Sudoku.",techniquesTitle:"Sudoku Techniques Introduction",techniquesContent:"Sudoku techniques can be divided into multiple difficulty levels:<br><strong>Basic Techniques</strong>: Singles, Block/Box Line Reduction, Naked Pairs, Hidden Pairs, Naked Triples<br><strong>Intermediate Techniques</strong>: X-Wing, Swordfish, XY-Wing, XYZ-Wing, Unique Rectangle (Type 1)<br><strong>Advanced Techniques</strong>: Simple Chains, XY-Chain, ALS-XZ Rule, Unique Rectangle (Types 2-4), Alternating Inference Chains (AIC)",home:"Home",game:"Game",techniques:"Techniques",loading:"Loading...",generatingNewPuzzle:"Generating new puzzle...",loadingGame:"Loading game...",gamePaused:"Game Paused",clickToResume:"Click anywhere to resume",progress:"Progress",statistics:"Statistics",settings:"Settings",ok:"OK",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",back:"Back",yes:"Yes",no:"No",newGame:"New Game",pauseTimer:"Pause Timer",resume:"Resume",gameCompleted:"Game Completed",hint:"Hint",notes:"Notes",learningMode:"Learning",gameMode:"Game",switchToLearningMode:"Switch to Learning Mode",switchToGameMode:"Switch to Game Mode",learningModeActive:"Current learning mode, technique assistance enabled",gameModeActive:"Current game mode, technique assistance disabled",learningModeDescription:"Provides technique learning assistance to help you learn Sudoku solving techniques.",gameModeDescription:"Disables technique learning assistance for a focused gaming experience.",gameCompletedMessage:"Congratulations! You have successfully completed this Sudoku!",foundRandomTechnique:"Random technique found: ",findSingleCandidateCell:"Find cell with only one possible number",cellOnlyHasSingleCandidate:"Cell {position} only has one possible number {value}",fillNumber:"Fill number {value}",findHiddenSingleInRegion:"Find hidden single in {regionType} {regionNum}",numberOnlyInPosition:"Number {value} can only appear in position {position} in {regionType} {regionNum}",row:"row",col:"column",box:"box",multipleCells:"Multiple cells",selectDifficulty:"Select Difficulty",difficultyDescription:{easy:"Beginner friendly, fewer empty cells",medium:"Intermediate challenge, requires some skills",hard:"Expert level, logical reasoning",expert:"Extremely difficult, requires advanced techniques",custom:"Your custom Sudoku puzzle"},beginnerChallenge:"Beginner Introduction",beginnerDescription:"Simple puzzles for Sudoku beginners with fewer empty cells, easy to get started.",timeEasy:"~5 minutes",intermediateChallenge:"Intermediate Challenge",intermediateDescription:"Medium difficulty puzzles requiring basic techniques to enhance solving abilities.",timeMedium:"~10 minutes",expertChallenge:"Expert Level",expertDescription:"High difficulty puzzles requiring proficient use of various solving techniques.",timeHard:"~15 minutes",masterChallenge:"Master Challenge",masterDescription:"Extremely difficult puzzles that require advanced techniques to solve.",timeExpert:"~20 minutes",dailyChallenge:"Daily Challenge",dailyDescription:"Specially updated puzzles every day to test your Sudoku skills.",timeDaily:"~12 minutes",specialChallenge:"Special Puzzles",specialDescription:"Innovative Sudoku challenges with unconventional layouts or special rules.",timeSpecial:"~18 minutes",startGame:"Start Game",startNewGame:"Start New Game",clearAllProgress:"Clear All Progress",allProgress:"All Progress",inProgress:"In Progress",completed:"Completed",paused:"Paused",sudokuGame:"Sudoku Game",difficulty:"Challenges",startTime:"Start Time",lastUpdated:"Last Updated",completionProgress:"Completion Progress",continueGame:"Continue Game",deleteProgress:"Delete Progress",error:"Mistake",noProgress:"No Game Progress",noFilteredProgress:"No game progress matches the filter criteria",updateAvailable:"New version available!",updateNow:"Update Now",noStartedGames:"You haven't started any Sudoku games yet",confirmClearAllProgress:"Confirm Clear All Progress",confirmDeleteProgress:"Confirm Delete Progress",clearAllProgressWarning:"This action will delete all game progress and cannot be undone. Are you sure you want to continue?",deleteProgressWarning:"This action will delete the selected game progress and cannot be undone. Are you sure you want to continue?",confirmDelete:"Confirm Delete",settingsPageTitle:"Settings",language:"Language",theme:"Theme",lightTheme:"Light Theme",darkTheme:"Dark Theme",systemTheme:"System Theme",customTheme:"Custom Theme",editTheme:"Edit Theme",saveChanges:"Save Changes",themeSelection:"Theme Selection",gameSettings:"Game Settings",soundEffects:"Sound Effects",autoCheck:"Auto Check",showHints:"Show Hints",confirm:"Confirm",continue:"Continue",complete:"Complete",start:"Start",pause:"Pause",time:"Time",easy:"Easy",medium:"Medium",hard:"Hard",expert:"Expert",custom:"Custom",invalidSudoku:"Sudoku does not meet the rules, please check the board data",noSolution:"This Sudoku is unsolvable, please check the board data",notUniqueSolution:"This Sudoku has more than one solution, please modify the board data",validationError:"Validation failed, please check the board data",languageSwitch:"Switch Language",languageOptions:{"zh-CN":"Chinese","en-US":"English"},welcomeTitle:"Welcome to play Sudoku for free, learn advanced Sudoku techniques",welcomeContent:"We provide free online Sudoku games for you to enjoy puzzle-solving anytime. Whether you are a beginner or a Sudoku expert, you can find suitable challenges here. Meanwhile, we have carefully designed a Sudoku technique learning module to help you master Sudoku solving methods from beginner to advanced levels and improve your solving skills. This project is free and open-source on GitHub, welcome to visit and contribute.",rulesTitle:"Basic Sudoku Rules",rulesContent:"Sudoku is a logic-based number placement puzzle. A standard Sudoku consists of a 9×9 grid divided into nine 3×3 subgrids. The objective is to fill the grid with digits from 1 to 9, such that each row, column, and each of the nine 3×3 subgrids contains all of the digits from 1 to 9 without repetition. Players need to use known numbers to logically deduce the remaining empty cells to complete the Sudoku.",techniquesTitle:"Sudoku Techniques Introduction",techniquesContent:"Sudoku techniques can be divided into multiple difficulty levels:<br><strong>Basic Techniques</strong>: Singles, Block/Box Line Reduction, Naked Pairs, Hidden Pairs, Naked Triples<br><strong>Intermediate Techniques</strong>: X-Wing, Swordfish, XY-Wing, XYZ-Wing, Unique Rectangle (Type 1)<br><strong>Advanced Techniques</strong>: Simple Chains, XY-Chain, ALS-XZ Rule, Unique Rectangle (Types 2-4), Alternating Inference Chains (AIC)",pointingPairs:"Pointing Pairs",boxLineReduction:"Box-Line Reduction",swordfish:"Swordfish",jellyfish:"Jellyfish",skyscraper:"Skyscraper",twoStringKite:"Two-String Kite",emptyRectangle:"Empty Rectangle",uniquenessRectangle:"Uniqueness Rectangle",hiddenRectangle:"Hidden Rectangle",uniqueRectangleType1:"Unique Rectangle Type 1",uniqueRectangleType2:"Unique Rectangle Type 2",uniqueRectangleType3:"Unique Rectangle Type 3",uniqueRectangleType4:"Unique Rectangle Type 4",xYChain:"XY-Chain",xChain:"X-Chain",simpleColoring:"Simple Coloring",forcingChain:"Forcing Chain",alternatingInferenceChain:"Alternating Inference Chain",niceLoop:"Nice Loop",alS_XZ:"ALS-XZ Rule",alS_XY_Wing:"ALS-XY-Wing",alS_Wing:"ALS-Wing",deathBlossom:"Death Blossom",sueDeCoq:"Sue De Coq",sdc:"Sue De Coq",wXYZ_Wing:"WXYZ-Wing",remotePairs:"Remote Pairs",bivalueUniversalGrave:"Bivalue Universal Grave",almostLockedSet:"Almost Locked Set",loadGameFailed:"Failed to load game, please try again later",deleteProgressFailed:"Failed to delete progress, please try again later",clearProgressFailed:"Failed to clear progress, please try again later",startPractice:"Start practicing {techniqueName} technique!",updateAvailable:"New version available!",updateNow:"Update Now",aboutUs:"About Us",customSudoku:"Custom Sudoku",help:"Help",sudokuRules:"Sudoku Rules",contactUs:"Contact Us",copyright:"All Rights Reserved",version:"Version",appName:"SudokuTech",themeSaved:"Theme saved",themeReset:"Theme reset",themeExported:"Theme exported",themeImported:"Theme imported successfully",themeImportFailed:"Theme import failed: ",enterPencilMode:"Enter Pencil Mode, you can add candidate numbers",exitPencilMode:"Exit Pencil Mode, return to normal input",notesCalculated:"Candidates calculated and filled for all blank cells!",foundRandomTechnique:"Random technique found: ",findSingleCandidateCell:"Find cell with only one possible number",cellOnlyHasSingleCandidate:"Cell {position} only has one possible number {value}",fillNumber:"Fill number {value}",findHiddenSingleInRegion:"Find hidden single in {regionType} {regionNum}",numberOnlyInPosition:"Number {value} can only appear in position {position} in {regionType} {regionNum}",row:"row",col:"column",box:"box",multipleCells:"Multiple cells",error:"Error",nakedSingleTechnique:"Naked Single",nakedPairTechnique:"Naked Pair",hiddenPairTechnique:"Hidden Pair",nakedTripleTechnique:"Naked Triple",hiddenTripleTechnique:"Hidden Triple",xWingTechnique:"X-Wing",yWingTechnique:"Y-Wing",pointingPairsTechnique:"Pointing Pairs",boxLineReductionTechnique:"Box-Line Reduction",swordfishTechnique:"Swordfish",xyzWingTechnique:"XYZ-Wing",jellyfishTechnique:"Jellyfish",alsXZTechnique:"ALS-XZ Rule",alsXZ:"ALS-XZ Rule",sdcTechnique:"Sue De Coq",sdc:"Sue De Coq",sdcIdentifySDCCells:"Sue De Coq: SDC cells={sdcCells}, candidates={sdcCandidates}",sdcIdentifyGroups:"Group A ({lineType} {lineIndex})={groupACells} candidates {groupACandidates}, Group B (box {boxIndex})={groupBCells} candidates {groupBCandidates}",sdcAnalyzeIntersection:"Analyze candidate distribution: Group A candidates {groupACandidates} can only appear in other boxes of {lineType} {lineIndex}, Group B candidates {groupBCandidates} can only appear in other {lineType}s of box {boxIndex}.",sdcVerifySeparation:"Verify candidate separation: Group A and Group B candidates have no intersection, their union {allCandidates} completely covers the SDC cells' candidates.",sdcEliminateFromLine:"Remove Group B candidates {boxCandidates} from target cells {targetCells} in {lineType} {lineIndex}.",sdcEliminateFromBox:"Remove Group A candidates {lineCandidates} from target cells {targetCells} in box {boxIndex}.",sdcVerifyResult:"Elimination complete, removed candidates from {count} cells in total.",uniquenessTechnique:"Uniqueness Techniques",avoidableRectangleTechnique:"Avoidable Rectangle Technique",uniquenessDescription:"Eliminate candidates by analyzing patterns that could lead to multiple solutions",arType1IdentifyPattern:"Avoidable Rectangle Type 1: Rectangle cells={arCells}, base pair={basePair}",arType1IdentifyExtra:"Cell {cellsWithExtra} has extra candidates",arType1IdentifyNoExtra:"Cells {cellsWithoutExtra} have only base pair",arType1Eliminate:"Remove {totalCount} candidates from {targetCells}",nakedSingle:"Naked Single",hiddenSingleRow:"Hidden Single (Row)",hiddenSingleCol:"Hidden Single (Column)",hiddenSingleBox:"Hidden Single (Box)",nakedPairsRow:"Naked Pairs (Row)",nakedPairsCol:"Naked Pairs (Column)",nakedPairsBox:"Naked Pairs (Box)",hiddenPairsRow:"Hidden Pairs (Row)",hiddenPairsCol:"Hidden Pairs (Column)",hiddenPairsBox:"Hidden Pairs (Box)",nakedTripleRow:"Naked Triples (Row)",nakedTripleCol:"Naked Triples (Column)",nakedTripleBox:"Naked Triples (Box)",hiddenTripleRow:"Hidden Triples (Row)",hiddenTripleCol:"Hidden Triples (Column)",hiddenTripleBox:"Hidden Triples (Box)",swordfishRow:"Swordfish (Row)",swordfishCol:"Swordfish (Column)",xyzWing:"XYZ-Wing",jellyfish:"Jellyfish",unknownTechnique:"Unknown Technique",rowSuffix:"(Row)",colSuffix:"(Column)",boxSuffix:"(Box)",nakedPair:"Naked Pair",nakedPairRow:"Row Naked Pair",nakedPairCol:"Column Naked Pair",nakedPairBox:"Box Naked Pair",hiddenPair:"Hidden Pair",hiddenPairRow:"Row Hidden Pair",hiddenPairCol:"Column Hidden Pair",hiddenPairBox:"Box Hidden Pair",nakedTriple:"Naked Triple",hiddenTriple:"Hidden Triple",notesSingleTechnique:"Notes Single",uniqueness_1:"唯一矩形类型1",uniqueness_avoidable_rectangle_1:"可避免矩形类型1",uniqueness_avoidable_rectangle_2:"可避免矩形类型2",uniqueness_bug_plus_1:"BUG+1",type1:"类型1",type2:"类型2",keyboardTab:"Keyboard",techniquesTab:"Techniques",solutionTab:"Solution",pencilMode:"Pencil Mode",undoAction:"Undo",clearCell:"Clear Cell",fillCandidates:"Fill Candidates",applyTechnique:"Apply",nextStep:"Next",apply:"Apply",manualHandle:"Manual",manualHandleTechnique:"Manual",solutionSteps:"Solution Steps",selectTechniqueFirst:"Please select a technique from the list first",noTechniquesAvailable:"No techniques available",refreshCandidatesTooltip:"Click to refresh candidates and load all technique solutions",noTechniquesHelpTitle:"No Techniques Available",noTechniquesHelpMessage:"No techniques available, provide help to continue the game based on backtracking method",noTechniquesHelpConfirm:"Yes",noTechniquesHelpCancel:"No",candidatesTab:"Candidates",hintsTab:"Hints",solveStep:"Solve Step",solveAll:"Solve All",relatedPosition:"Related Position: {position}",relatedNumber:"Related Number: {number}",analysisCompleted:"Analysis Completed",findPairInRegion:"Find pair in {regionType} {regionNum}",foundNakedPair:"Found naked pair of numbers {numbers} in cells {cells}",removeCandidatesFromTargets:"These numbers can only appear in these two cells, need to remove candidates {numbers} from target cells {targets}",findHiddenPairInRegion:"Find numbers that can only appear in two cells in {regionType} {regionNum}",foundNumbersOnlyInCells:"Found numbers {numbers} can only appear in cells {cells}",removeOtherCandidates:"Target cells {cells} can only contain numbers {numbers}, need to remove other candidates",findTripleInRegion:"Find triple in {regionType} {regionNum}",foundNakedTriple:"Found naked triple of numbers {numbers} in cells {cells}",findPointingPairsInBox:"In box {boxNum}, number {number} can only appear in {lineType} {lineNum}",removePointingPairsFromTargets:"Remove candidate {number} from target cells {targets} in {lineType} {lineNum}",findBoxLineReductionInLine:"In {lineType} {lineNum}, number {number} can only appear in box {boxNum}",removeBoxLineReductionFromTargets:"Remove candidate {number} from target cells {targets} in box {boxNum}",findHiddenTripleInRegion:"Find number group that can only appear in three cells in {regionType} {regionNum}",findXWingInWings:"Find X-Wing structure for number {number} in {wingType}",xWingFormRectangle:"Number {number} forms a rectangular structure in source cells {sourceCells}",removeXWingFromTargets:"Remove candidate {number} from target cells {targets}",findYWingStructure:"Found Y-Wing structure: anchor {anchor}, wings {xz} and {yz}",yWingShareCandidates:"Anchor {anchor} shares candidate {x} with wing {xz}, anchor {anchor} shares candidate {y} with wing {yz}, wings {xz} and {yz} both contain candidate {z}",removeYWingFromTargets:"Remove candidate {number} from target cells {targets}",findSwordfishInWings:"Find Swordfish structure for number {number} in {wingType}",swordfishFormStructure:"Number {number} forms a 3-row 3-column structure in source cells {sourceCells}",removeSwordfishFromTargets:"Remove candidate {number} from target cells {targets}",findXYZWingStructure:"Found XYZ-Wing structure: anchor {anchor}, wings {xz} and {yz}",xyzWingShareCandidates:"Anchor {anchor} shares candidate {x} with wing {xz}, anchor {anchor} shares candidate {y} with wing {yz}, wings {xz} and {yz} both contain candidate {z}",removeXYZWingFromTargets:"Remove candidate {number} from target cells {targets}",findJellyfishInWings:"Find Jellyfish structure for number {number} in {wingType}",jellyfishFormStructure:"Number {number} forms a 4-row 4-column structure in source cells {sourceCells}",removeJellyfishFromTargets:"Remove candidate {number} from target cells {targets}",findJellyfishInRows:"Find Jellyfish structure for number {number} in rows {rows}",findJellyfishInCols:"Find Jellyfish structure for number {number} in columns {cols}",jellyfishRowFormStructure:"Number {number} forms a 4-row 4-column structure in rows {rows} and columns {cols}",jellyfishColFormStructure:"Number {number} forms a 4-row 4-column structure in columns {cols} and rows {rows}",aboutUs:"About Us",customSudoku:"Custom Sudoku",help:"Help",sudokuRules:"Sudoku Rules",contactUs:"Contact Us",copyright:"All Rights Reserved",version:"Version",appName:"SudokuTech",techniqueLearningTitle:"Sudoku Techniques Learning",techniqueLearningDescription:"Click on technique cards to learn details and master various Sudoku solving methods",close:"Close",techniqueDescription:"Technique Description",techniqueSteps:"Usage Steps",techniqueExamples:"Examples",techniqueDiagram:"Diagram",highlightedCell:"Highlighted Cell",filledCell:"Filled Cell",relatedCell:"Related Cell",exampleExplanation:"Position (%row%,%col%) is %value% (this %type% is missing %value%)",rowCandidate:"row",colCandidate:"column",boxCandidate:"box",nakedSingleExplain:"This row is missing digit 2",hiddenSingleExplain:"Digit 5 can only appear at row 1 column 1",nakedPairExplain:"Row 1 column 1 and row 1 column 2 have only candidates {3,7}",hiddenPairExplain:"Digits 4 and 6 can only appear in row 1 column 1 and row 1 column 2",pointingPairsExplain:"Digit 8 in box 1 can only appear in row 1",boxLineReductionExplain:"Digit 8 in row 1 can only appear in box 1",nakedTripleExplain:"Row 1 columns 1, 2, 3 have only candidates {2,3,4}",hiddenTripleExplain:"Digits 3, 5, 7 can only appear in row 1 columns 1, 2, 3",xWingExplain:"Digit 6 is at row 1 column 1, row 8 column 1 and row 1 column 5, row 8 column 5",yWingExplain:"Pivot (1,1) shares candidates with two Y-wings",startPracticeButton:"Start Practice",mastered:"Mastered",learning:"Learning",practiceCount:"Practice Count",masteryLevel:"Mastery Level",nakedSingleTechniqueDescription:"The simplest Sudoku technique. Fill in the only possible number when a cell has only one candidate.",nakedSingleTechniqueDetail:"Naked Single is the most basic Sudoku solving technique. When a blank cell has all numbers except one already present in its row, column, and 3x3 box, that blank cell must contain the remaining number.",nakedSingleStep1:"Observe a blank cell",nakedSingleStep2:"Check the row the cell is in and list the existing numbers",nakedSingleStep3:"Check the column the cell is in and list the existing numbers",nakedSingleStep4:"Check the 3x3 box the cell is in and list the existing numbers",nakedSingleStep5:"If the above three areas contain all numbers except one (1-9), fill in the remaining number",nakedSingleExample:"Example: A cell has numbers 1, 2, 3, 4, 5, 6, 7, 9 in its row, numbers 1, 2, 3, 4, 5, 6, 8 in its column, and numbers 1, 2, 3, 4, 5, 7, 8, 9 in its box. Then this cell must be filled with the number 8.",hiddenSingleTechniqueDescription:"Fill in a number when it can only appear in a specific cell within a row, column, or box.",hiddenSingleTechniqueDetail:"Hidden Single is slightly more complex than Naked Single. When a number can only appear in one specific blank cell within a row, column, or 3x3 box, that number must be placed in that cell, even if the cell has other candidates.",hiddenSingleStep1:"Select a number (1-9)",hiddenSingleStep2:"Check a row to determine where the number could be placed",hiddenSingleStep3:"If the number can only be placed in one specific cell in that row, fill in that number",hiddenSingleStep4:"Repeat the same check for each column and each 3x3 box",hiddenSingleExample:"Example: In a row, number 5 can only be placed in a specific cell. Even though that cell might have other candidates (like 2 and 5), since number 5 has no other possible placement in that row, this cell must be filled with 5.",nakedPairTechniqueDescription:"When two cells in the same area (row, column, or box) have the same two candidates, these two numbers can be eliminated from other cells in that area.",nakedPairTechniqueDetail:"Naked Pair is an elimination technique. When two cells in the same row, column, or 3x3 box each have exactly the same two candidates, these two numbers must be placed in these two cells, so they can be eliminated from other cells in that area.",nakedPairStep1:"Find two cells in the same row, column, or 3x3 box",nakedPairStep2:"Confirm that these two cells have exactly the same two candidates",nakedPairStep3:"Eliminate these two numbers from the candidates of other cells in that area",nakedPairExample:"Example: In the same row, two cells have only candidates 3 and 7. This means these two numbers must be placed in these two cells, so 3 and 7 cannot appear in other cells in that row and can be eliminated from their candidates.",hiddenPairTechniqueDescription:"When two numbers can only appear in two specific cells within the same area, other candidates can be eliminated from these two cells.",hiddenPairTechniqueDetail:"Hidden Pair is a variation of the Pair technique. When two specific numbers can only appear in two specific cells within the same row, column, or 3x3 box, those two cells must contain those two numbers, and other candidates can be eliminated from these two cells.",hiddenPairStep1:"Select two numbers in the same row, column, or 3x3 box",hiddenPairStep2:"Check if these two numbers can only appear in two specific cells in that area",hiddenPairStep3:"If yes, eliminate all other candidates from these two cells, leaving only these two numbers",hiddenPairExample:"Example: In the same row, numbers 4 and 6 can only appear in two specific cells, even though those cells might have other candidates. This means these two cells must contain numbers 4 and 6, so other candidates can be removed from these cells.",pointingPairsTechniqueDescription:"When a number can only appear in the same row or column within a 3x3 box, it can be eliminated from other boxes in that row or column.",pointingPairsTechniqueDetail:"Pointing Pairs technique uses the relationship between 3x3 boxes and rows/columns for elimination. When a number can only appear in cells of the same row or column within a 3x3 box, that number cannot appear in the same row or column position in other 3x3 boxes of that row or column.",pointingPairsStep1:"Select a 3x3 box",pointingPairsStep2:"For a specific number, check its possible positions in that box",pointingPairsStep3:"If these positions are all in the same row or column",pointingPairsStep4:"Eliminate the possibility of that number appearing in the same row or column position in other 3x3 boxes of that row or column",pointingPairsExample:"Example: In a 3x3 box, number 2 can only appear in the first row of that box. This means that in other 3x3 boxes of that row, number 2 cannot appear in the first row position.",boxLineReductionTechniqueDescription:"When a number can only appear within one 3x3 box in a row or column, it can be eliminated from other cells in that box.",boxLineReductionTechniqueDetail:"Box-Line Reduction is the reverse application of Pointing Pairs. When a number can only appear in a specific 3x3 box within a row or column, it can be eliminated from other cells in that box.",boxLineReductionStep1:"Select a row or column",boxLineReductionStep2:"For a specific number, check its possible positions in that row or column",boxLineReductionStep3:"If these positions are all in the same 3x3 box",boxLineReductionStep4:"Eliminate that number from other cells in that 3x3 box",boxLineReductionExample:"Example: In a row, number 8 can only appear in the first three cells (belonging to the first 3x3 box). This means that in the first 3x3 box, number 8 can only appear in these three cells, and can be eliminated from the other six cells in that box.",nakedTripleTechniqueDescription:"When three cells in the same area have exactly the same three candidates, these three numbers can be eliminated from other cells in that area.",nakedTripleTechniqueDetail:"Naked Triple is an extension of Naked Pair. When three cells in the same row, column, or 3x3 box have exactly the same three candidates (possibly containing subsets), these three numbers must be placed in these three cells, and can be eliminated from other cells in that area.",nakedTripleStep1:"Find three cells in the same row, column, or 3x3 box",nakedTripleStep2:"Confirm that these three cells have exactly the same three candidates",nakedTripleStep3:"Eliminate these three numbers from the candidates of other cells in that area",nakedTripleExample:"Example: In the same row, three cells have candidates {2,3,4}, {2,3}, and {2,4} respectively. This means these three numbers (2, 3, 4) must be placed in these three cells, and can be eliminated from other cells in that row.",hiddenTripleTechniqueDescription:"When three numbers can only appear in three specific cells within the same area, other candidates can be eliminated from these three cells.",hiddenTripleTechniqueDetail:"Hidden Triple is an extension of Hidden Pair. When three specific numbers can only appear in three specific cells within the same row, column, or 3x3 box, those three cells must contain those three numbers, and other candidates can be eliminated from these three cells.",hiddenTripleStep1:"Select three numbers in the same row, column, or 3x3 box",hiddenTripleStep2:"Check if these three numbers can only appear in three specific cells in that area",hiddenTripleStep3:"If yes, eliminate all other candidates from these three cells, leaving only these three numbers",hiddenTripleExample:"Example: In the same column, numbers 3, 5, and 7 can only appear in three specific cells. Even though these cells might have other candidates, they must contain numbers 3, 5, and 7, so other candidates can be removed from these cells.",sdcTechniqueDescription:"Eliminate candidates by analyzing the distribution of candidates in cells at the intersection of a box and a row/column.",sdcTechniqueDetail:"Sue De Coq is an advanced technique that combines the relationships between boxes and rows/columns. When in a box, two cells in the same row or column have a candidate set that can be divided into two groups, one group can only appear in other boxes of that row/column, and the other group can only appear in other rows/columns of that box, then related candidates can be eliminated.",sdcStep1:"Find 2 empty cells in a box that are in the same row or column",sdcStep2:"Calculate the union of candidates for these two cells (N numbers, N>=3)",sdcStep3:"Analyze the candidates of that row/column in other boxes (Group A)",sdcStep4:"Analyze the candidates of that box in other rows/columns (Group B)",sdcStep5:"If the union of Group A and Group B exactly covers all candidates of the SDC cells, candidates can be eliminated",sdcStep6:"Remove numbers that only appear in Group B from Group A cells",sdcStep7:"Remove numbers that only appear in Group A from Group B cells",sdcExample:"Example: In box 1, row 1, two cells have a candidate set of {2,3,4,5}. Other boxes in row 1 contain candidates {2,3} (Group A), and other rows in box 1 contain candidates {4,5} (Group B). Since the union of Group A and Group B {2,3,4,5} exactly covers all candidates of the SDC cells, {4,5} can be removed from Group A and {2,3} can be removed from Group B.",xWingTechniqueDescription:"When a number appears in only two cells in each of two rows (or columns), and these cells form a rectangle with the same two columns (or rows), the number can be eliminated from other cells in those columns (or rows).",xWingTechniqueDetail:"X-Wing is an advanced elimination technique. When a number appears in exactly two cells in two different rows, and these cells are in the same two columns, a rectangle is formed. In this case, the number can be eliminated from other cells in those two columns.",xWingStep1:"Select a number and check its distribution in two rows",xWingStep2:"If the number appears only in two cells in each row, and these cells are in the same two columns",xWingStep3:"Then these four cells form an X-Wing structure",xWingStep4:"The number can be eliminated from other rows in those two columns",xWingExample:"Example: Number 6 appears only in columns 2 and 5 in row 1, and also only in columns 2 and 5 in row 8, forming a rectangle. Then in columns 2 and 5, number 6 can be eliminated from all other rows.",yWingTechniqueDescription:"A structure of three cells with two candidates each that are related through shared candidates can be used to eliminate candidates.",yWingTechniqueDetail:"Y-Wing (also called XZ-Wing) is an advanced technique formed by three cells with two candidates each. One cell (called the anchor) shares one candidate with each of the other two cells, and those two cells share a third candidate. Through this structure, certain candidates can be eliminated from related cells.",yWingStep1:"Find a cell (anchor) that has two candidates X and Y",yWingStep2:"In related cells, find a cell with candidates X and Z (called the X-wing)",yWingStep3:"Find a cell with candidates Y and Z (called the Y-wing)",yWingStep4:"Eliminate candidate Z from all cells that are related to both the X-wing and Y-wing",yWingExample:"Example: Cell A has candidates {1,2}, Cell B has candidates {1,3}, Cell C has candidates {2,3}. If A and B share a region, A and C share a region, but B and C do not, then candidate 3 can be eliminated from all cells related to both B and C.",cellNotEmpty:"Cell already has a number, cannot fill candidates",cellPrefilled:"Cell is prefilled, cannot fill candidates",cellCandidatesFilled:"Candidates calculated and filled for cell ({row},{col})!",selectCellForCandidates:"Please select a blank cell first",candidatesFilled:"Candidates calculated and filled for all blank cells!",emptyCandidateCellsFound:"Found blank cells with no candidates, recalculating candidates...",candidatesComplete:"Candidates are correct and complete, directly calculating technique opportunities!",candidateErrorDetected:"Candidate deletion error detected, refreshing data",manualCandidateRemovalRequired:"Please manually clear the selected candidates",pairTechniqueIdentified:"Technique identified, please manually remove related candidates",candidatesIncompleteTitle:"Need to refresh candidates",candidatesIncompleteMessage:"Need to refresh candidates, more technique opportunities available!",noTechniquesAvailableTitle:"No techniques available",noTechniquesAvailableMessage:"No techniques available, provide a Sudoku answer"}},re=e.createContext(),ie=({children:t})=>{const[n,o]=e.useState(()=>{const e=localStorage.getItem("language");return e||"en-US"}),r={language:n,t:(e,t={})=>{if(!e)return e;let o=oe[n];const r=e.split(".");for(const n of r){if(!o||"object"!=typeof o)return e;o=o[n]}return void 0===o?e:"string"==typeof o&&Object.keys(t).length>0?o.replace(/\{([^}]+)\}/g,(e,n)=>void 0!==t[n]?t[n]:e):o},changeLanguage:e=>{o(e),localStorage.setItem("language",e)},availableLanguages:[{code:"zh-CN",name:"中文简体"},{code:"en-US",name:"English"}]};return v.jsx(re.Provider,{value:r,children:t})},le=()=>{const t=e.useContext(re);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},ae=e.createContext(),se=({children:t})=>{const{t:n}=le(),[o,r]=e.useState(!1),[i,l]=e.useState(""),[a,s]=e.useState(0);e.useEffect(()=>{""===i&&l(n("loading"))},[n]);const c=e=>{s(e=>e+1),l(e||n("loading")),r(!0)},d=()=>{s(e=>{const t=Math.max(0,e-1);return 0===t&&r(!1),t})},u={isLoading:o,loadingMessage:i,loadingCount:a,startLoading:c,stopLoading:d,resetLoading:()=>{s(0),r(!1),l(n("loading"))},executeWithLoading:async(e,t="加载中...")=>{try{c(t);return await e()}catch(n){throw n}finally{d()}}};return v.jsx(ae.Provider,{value:u,children:t})},ce=()=>{const t=e.useContext(ae);if(!t)throw new Error("useLoading must be used within a LoadingProvider");return t},de=e.createContext(),ue=({children:t})=>{const[n,o]=e.useState("game");return v.jsx(de.Provider,{value:{mode:n,setMode:o},children:t})},he={"/":{title:"Sudoku Advanced Techniques - Learn & Master Expert Sudoku Strategies",description:"Free open-source Sudoku game platform focused on advanced techniques. Learn X-Wing, XY-Wing, Swordfish, and expert puzzle solving.",keywords:"sudoku,advanced sudoku techniques,X-Wing solution,XY-Wing sudoku,expert sudoku"},"/home":{title:"Sudoku Learning Platform - Advanced Techniques & Expert Challenges",description:"Master advanced Sudoku solving techniques with interactive tutorials and practice challenges.",keywords:"sudoku learning,sudoku techniques,sudoku tutorial,expert sudoku"},"/game":{title:"Play Sudoku - Advanced Techniques Learning Game | SudokuTech",description:"Play challenging Sudoku puzzles and learn advanced solving techniques in real-time.",keywords:"play sudoku,sudoku game,sudoku puzzle solver,sudoku strategies"},"/techniques":{title:"Sudoku Advanced Techniques Tutorial - X-Wing, Swordfish & More",description:"Complete guide to advanced Sudoku techniques including X-Wing, XY-Wing, Swordfish, BUG+1, and ALS-XZ solving strategies.",keywords:"sudoku techniques,X-Wing,XY-Wing,Swordfish,BUG+1,ALS-XZ,sudoku solving"},"/challenges":{title:"Expert Sudoku Challenges - Master & Expert Difficulty Puzzles",description:"Challenge yourself with expert and master level Sudoku puzzles. Test your skills and improve your solving speed.",keywords:"sudoku challenges,expert sudoku,master sudoku,difficult sudoku puzzles"},"/difficulty":{title:"Expert Sudoku Challenges - Master & Expert Difficulty Puzzles",description:"Challenge yourself with expert and master level Sudoku puzzles. Test your skills and improve your solving speed.",keywords:"sudoku challenges,expert sudoku,master sudoku,difficult sudoku puzzles"},"/progress":{title:"Your Sudoku Progress - Track Learning & Mastery | SudokuTech",description:"Monitor your Sudoku solving progress and track your technique mastery levels.",keywords:"sudoku progress,learning tracker,sudoku statistics"},"/stats":{title:"Sudoku Statistics - Analyze Your Solving Performance",description:"Detailed statistics and analytics of your Sudoku solving performance and technique usage.",keywords:"sudoku stats,solving analysis,technique statistics"},"/settings":{title:"Settings - Customize Your Sudoku Experience",description:"Configure your preferences for the Sudoku learning platform.",keywords:"sudoku settings,preferences,configuration"}},pe=()=>{const t=o();return e.useEffect(()=>{const e=(e=>{if(he[e])return he[e];for(const[t,n]of Object.entries(he))if(e.startsWith(t)&&"/"!==t)return n;return he["/"]})(t.pathname);document.title=e.title;let n=document.querySelector('meta[name="description"]');n?n.content=e.description:(n=document.createElement("meta"),n.name="description",n.content=e.description,document.head.appendChild(n));let o=document.querySelector('meta[name="keywords"]');o?o.content=e.keywords:(o=document.createElement("meta"),o.name="keywords",o.content=e.keywords,document.head.appendChild(o));const r=document.querySelector('meta[property="og:title"]');r&&(r.content=e.title.split(" |")[0].trim());const i=document.querySelector('meta[property="og:description"]');i&&(i.content=e.description);const l=document.querySelector('meta[name="twitter:title"]');l&&(l.content=e.title.split(" |")[0].trim());const a=document.querySelector('meta[name="twitter:description"]');a&&(a.content=e.description),"localhost"!==window.location.hostname&&fe(window.location.href)},[t.pathname]),null},fe=e=>{try{(new Image).src="https://www.google.com/ping?sitemap="+encodeURIComponent(e)}catch(t){}try{(new Image).src="https://ssl.bing.com/webmaster/api.svc/ping?siteMap="+encodeURIComponent(e)}catch(t){}};var ge=function(){return ge=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ge.apply(this,arguments)};function me(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var ye="-ms-",xe="-moz-",be="-webkit-",ve="comm",we="rule",Ce="decl",Se="@keyframes",ke=Math.abs,$e=String.fromCharCode,Te=Object.assign;function Ae(e){return e.trim()}function ze(e,t){return(e=t.exec(e))?e[0]:e}function je(e,t,n){return e.replace(t,n)}function Pe(e,t,n){return e.indexOf(t,n)}function Ee(e,t){return 0|e.charCodeAt(t)}function qe(e,t,n){return e.slice(t,n)}function Ie(e){return e.length}function Re(e){return e.length}function Ne(e,t){return t.push(e),e}function Me(e,t){return e.filter(function(e){return!ze(e,t)})}var We=1,De=1,Fe=0,Le=0,Be=0,Oe="";function He(e,t,n,o,r,i,l,a){return{value:e,root:t,parent:n,type:o,props:r,children:i,line:We,column:De,length:l,return:"",siblings:a}}function _e(e,t){return Te(He("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Xe(e){for(;e.root;)e=_e(e.root,{children:[e]});Ne(e,e.siblings)}function Ye(){return Be=Le>0?Ee(Oe,--Le):0,De--,10===Be&&(De=1,We--),Be}function Ge(){return Be=Le<Fe?Ee(Oe,Le++):0,De++,10===Be&&(De=1,We++),Be}function Ze(){return Ee(Oe,Le)}function Ue(){return Le}function Je(e,t){return qe(Oe,e,t)}function Ve(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ke(e){return Ae(Je(Le-1,tt(91===e?e+2:40===e?e+1:e)))}function Qe(e){for(;(Be=Ze())&&Be<33;)Ge();return Ve(e)>2||Ve(Be)>3?"":" "}function et(e,t){for(;--t&&Ge()&&!(Be<48||Be>102||Be>57&&Be<65||Be>70&&Be<97););return Je(e,Ue()+(t<6&&32==Ze()&&32==Ge()))}function tt(e){for(;Ge();)switch(Be){case e:return Le;case 34:case 39:34!==e&&39!==e&&tt(Be);break;case 40:41===e&&tt(e);break;case 92:Ge()}return Le}function nt(e,t){for(;Ge()&&e+Be!==57&&(e+Be!==84||47!==Ze()););return"/*"+Je(t,Le-1)+"*"+$e(47===e?e:Ge())}function ot(e){for(;!Ve(Ze());)Ge();return Je(e,Le)}function rt(e){return function(e){return Oe="",e}(it("",null,null,null,[""],e=function(e){return We=De=1,Fe=Ie(Oe=e),Le=0,[]}(e),0,[0],e))}function it(e,t,n,o,r,i,l,a,s){for(var c=0,d=0,u=l,h=0,p=0,f=0,g=1,m=1,y=1,x=0,b="",v=r,w=i,C=o,S=b;m;)switch(f=x,x=Ge()){case 40:if(108!=f&&58==Ee(S,u-1)){-1!=Pe(S+=je(Ke(x),"&","&\f"),"&\f",ke(c?a[c-1]:0))&&(y=-1);break}case 34:case 39:case 91:S+=Ke(x);break;case 9:case 10:case 13:case 32:S+=Qe(f);break;case 92:S+=et(Ue()-1,7);continue;case 47:switch(Ze()){case 42:case 47:Ne(at(nt(Ge(),Ue()),t,n,s),s);break;default:S+="/"}break;case 123*g:a[c++]=Ie(S)*y;case 125*g:case 59:case 0:switch(x){case 0:case 125:m=0;case 59+d:-1==y&&(S=je(S,/\f/g,"")),p>0&&Ie(S)-u&&Ne(p>32?st(S+";",o,n,u-1,s):st(je(S," ","")+";",o,n,u-2,s),s);break;case 59:S+=";";default:if(Ne(C=lt(S,t,n,c,d,r,a,b,v=[],w=[],u,i),i),123===x)if(0===d)it(S,t,C,C,v,i,u,a,w);else switch(99===h&&110===Ee(S,3)?100:h){case 100:case 108:case 109:case 115:it(e,C,C,o&&Ne(lt(e,C,C,0,0,r,a,b,r,v=[],u,w),w),r,w,u,a,o?v:w);break;default:it(S,C,C,C,[""],w,0,a,w)}}c=d=p=0,g=y=1,b=S="",u=l;break;case 58:u=1+Ie(S),p=f;default:if(g<1)if(123==x)--g;else if(125==x&&0==g++&&125==Ye())continue;switch(S+=$e(x),x*g){case 38:y=d>0?1:(S+="\f",-1);break;case 44:a[c++]=(Ie(S)-1)*y,y=1;break;case 64:45===Ze()&&(S+=Ke(Ge())),h=Ze(),d=u=Ie(b=S+=ot(Ue())),x++;break;case 45:45===f&&2==Ie(S)&&(g=0)}}return i}function lt(e,t,n,o,r,i,l,a,s,c,d,u){for(var h=r-1,p=0===r?i:[""],f=Re(p),g=0,m=0,y=0;g<o;++g)for(var x=0,b=qe(e,h+1,h=ke(m=l[g])),v=e;x<f;++x)(v=Ae(m>0?p[x]+" "+b:je(b,/&\f/g,p[x])))&&(s[y++]=v);return He(e,t,n,0===r?we:a,s,c,d,u)}function at(e,t,n,o){return He(e,t,n,ve,$e(Be),qe(e,2,-2),0,o)}function st(e,t,n,o,r){return He(e,t,n,Ce,qe(e,0,o),qe(e,o+1,-1),o,r)}function ct(e,t,n){switch(function(e,t){return 45^Ee(e,0)?(((t<<2^Ee(e,0))<<2^Ee(e,1))<<2^Ee(e,2))<<2^Ee(e,3):0}(e,t)){case 5103:return be+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return be+e+e;case 4789:return xe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return be+e+xe+e+ye+e+e;case 5936:switch(Ee(e,t+11)){case 114:return be+e+ye+je(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return be+e+ye+je(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return be+e+ye+je(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return be+e+ye+e+e;case 6165:return be+e+ye+"flex-"+e+e;case 5187:return be+e+je(e,/(\w+).+(:[^]+)/,be+"box-$1$2"+ye+"flex-$1$2")+e;case 5443:return be+e+ye+"flex-item-"+je(e,/flex-|-self/g,"")+(ze(e,/flex-|baseline/)?"":ye+"grid-row-"+je(e,/flex-|-self/g,""))+e;case 4675:return be+e+ye+"flex-line-pack"+je(e,/align-content|flex-|-self/g,"")+e;case 5548:return be+e+ye+je(e,"shrink","negative")+e;case 5292:return be+e+ye+je(e,"basis","preferred-size")+e;case 6060:return be+"box-"+je(e,"-grow","")+be+e+ye+je(e,"grow","positive")+e;case 4554:return be+je(e,/([^-])(transform)/g,"$1"+be+"$2")+e;case 6187:return je(je(je(e,/(zoom-|grab)/,be+"$1"),/(image-set)/,be+"$1"),e,"")+e;case 5495:case 3959:return je(e,/(image-set\([^]*)/,be+"$1$`$1");case 4968:return je(je(e,/(.+:)(flex-)?(.*)/,be+"box-pack:$3"+ye+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+be+e+e;case 4200:if(!ze(e,/flex-|baseline/))return ye+"grid-column-align"+qe(e,t)+e;break;case 2592:case 3360:return ye+je(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(e,n){return t=n,ze(e.props,/grid-\w+-end/)})?~Pe(e+(n=n[t].value),"span",0)?e:ye+je(e,"-start","")+e+ye+"grid-row-span:"+(~Pe(n,"span",0)?ze(n,/\d+/):+ze(n,/\d+/)-+ze(e,/\d+/))+";":ye+je(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(e){return ze(e.props,/grid-\w+-start/)})?e:ye+je(je(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return je(e,/(.+)-inline(.+)/,be+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ie(e)-1-t>6)switch(Ee(e,t+1)){case 109:if(45!==Ee(e,t+4))break;case 102:return je(e,/(.+:)(.+)-([^]+)/,"$1"+be+"$2-$3$1"+xe+(108==Ee(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Pe(e,"stretch",0)?ct(je(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return je(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(t,n,o,r,i,l,a){return ye+n+":"+o+a+(r?ye+n+"-span:"+(i?l:+l-+o)+a:"")+e});case 4949:if(121===Ee(e,t+6))return je(e,":",":"+be)+e;break;case 6444:switch(Ee(e,45===Ee(e,14)?18:11)){case 120:return je(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+be+(45===Ee(e,14)?"inline-":"")+"box$3$1"+be+"$2$3$1"+ye+"$2box$3")+e;case 100:return je(e,":",":"+ye)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return je(e,"scroll-","scroll-snap-")+e}return e}function dt(e,t){for(var n="",o=0;o<e.length;o++)n+=t(e[o],o,e,t)||"";return n}function ut(e,t,n,o){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ce:return e.return=e.return||e.value;case ve:return"";case Se:return e.return=e.value+"{"+dt(e.children,o)+"}";case we:if(!Ie(e.value=e.props.join(",")))return""}return Ie(n=dt(e.children,o))?e.return=e.value+"{"+n+"}":""}function ht(e,t,n,o){if(e.length>-1&&!e.return)switch(e.type){case Ce:return void(e.return=ct(e.value,e.length,n));case Se:return dt([_e(e,{value:je(e.value,"@","@"+be)})],o);case we:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,function(t){switch(ze(t,o=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Xe(_e(e,{props:[je(t,/:(read-\w+)/,":-moz-$1")]})),Xe(_e(e,{props:[t]})),Te(e,{props:Me(n,o)});break;case"::placeholder":Xe(_e(e,{props:[je(t,/:(plac\w+)/,":"+be+"input-$1")]})),Xe(_e(e,{props:[je(t,/:(plac\w+)/,":-moz-$1")]})),Xe(_e(e,{props:[je(t,/:(plac\w+)/,ye+"input-$1")]})),Xe(_e(e,{props:[t]})),Te(e,{props:Me(n,o)})}return""})}}var pt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ft="undefined"!=typeof process&&void 0!==process.env&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",gt="active",mt="data-styled-version",yt="6.1.19",xt="/*!sc*/\n",bt="undefined"!=typeof window&&"undefined"!=typeof document,vt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&void 0!=={}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={}.REACT_APP_SC_DISABLE_SPEEDY&&{}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&void 0!=={}.SC_DISABLE_SPEEDY&&""!=={}.SC_DISABLE_SPEEDY&&("false"!=={}.SC_DISABLE_SPEEDY&&{}.SC_DISABLE_SPEEDY)),wt=Object.freeze([]),Ct=Object.freeze({});var St=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),kt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,$t=/(^-|-$)/g;function Tt(e){return e.replace(kt,"-").replace($t,"")}var At=/(a)(d)/gi,zt=function(e){return String.fromCharCode(e+(e>25?39:97))};function jt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=zt(t%52)+n;return(zt(t%52)+n).replace(At,"$1-$2")}var Pt,Et=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},qt=function(e){return Et(5381,e)};function It(e){return"string"==typeof e&&!0}var Rt="function"==typeof Symbol&&Symbol.for,Nt=Rt?Symbol.for("react.memo"):60115,Mt=Rt?Symbol.for("react.forward_ref"):60112,Wt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Dt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ft={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Lt=((Pt={})[Mt]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Pt[Nt]=Ft,Pt);function Bt(e){return("type"in(t=e)&&t.type.$$typeof)===Nt?Ft:"$$typeof"in e?Lt[e.$$typeof]:Wt;var t}var Ot=Object.defineProperty,Ht=Object.getOwnPropertyNames,_t=Object.getOwnPropertySymbols,Xt=Object.getOwnPropertyDescriptor,Yt=Object.getPrototypeOf,Gt=Object.prototype;function Zt(e,t,n){if("string"!=typeof t){if(Gt){var o=Yt(t);o&&o!==Gt&&Zt(e,o,n)}var r=Ht(t);_t&&(r=r.concat(_t(t)));for(var i=Bt(e),l=Bt(t),a=0;a<r.length;++a){var s=r[a];if(!(s in Dt||n&&n[s]||l&&s in l||i&&s in i)){var c=Xt(t,s);try{Ot(e,s,c)}catch(d){}}}}return e}function Ut(e){return"function"==typeof e}function Jt(e){return"object"==typeof e&&"styledComponentId"in e}function Vt(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Kt(e,t){if(0===e.length)return"";for(var n=e[0],o=1;o<e.length;o++)n+=t?t+e[o]:e[o];return n}function Qt(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function en(e,t,n){if(void 0===n&&(n=!1),!n&&!Qt(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var o=0;o<t.length;o++)e[o]=en(e[o],t[o]);else if(Qt(t))for(var o in t)e[o]=en(e[o],t[o]);return e}function tn(e,t){Object.defineProperty(e,"toString",{value:t})}function nn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var on=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,o=n.length,r=o;e>=r;)if((r<<=1)<0)throw nn(16,"".concat(e));this.groupSizes=new Uint32Array(r),this.groupSizes.set(n),this.length=r;for(var i=o;i<r;i++)this.groupSizes[i]=0}for(var l=this.indexOfGroup(e+1),a=(i=0,t.length);i<a;i++)this.tag.insertRule(l,t[i])&&(this.groupSizes[e]++,l++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),o=n+t;this.groupSizes[e]=0;for(var r=n;r<o;r++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],o=this.indexOfGroup(e),r=o+n,i=o;i<r;i++)t+="".concat(this.tag.getRule(i)).concat(xt);return t},e}(),rn=new Map,ln=new Map,an=1,sn=function(e){if(rn.has(e))return rn.get(e);for(;ln.has(an);)an++;var t=an++;return rn.set(e,t),ln.set(t,e),t},cn=function(e,t){an=t+1,rn.set(e,t),ln.set(t,e)},dn="style[".concat(ft,"][").concat(mt,'="').concat(yt,'"]'),un=new RegExp("^".concat(ft,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),hn=function(e,t,n){for(var o,r=n.split(","),i=0,l=r.length;i<l;i++)(o=r[i])&&e.registerName(t,o)},pn=function(e,t){for(var n,o=(null!==(n=t.textContent)&&void 0!==n?n:"").split(xt),r=[],i=0,l=o.length;i<l;i++){var a=o[i].trim();if(a){var s=a.match(un);if(s){var c=0|parseInt(s[1],10),d=s[2];0!==c&&(cn(d,c),hn(e,d,s[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(a)}}},fn=function(e){for(var t=document.querySelectorAll(dn),n=0,o=t.length;n<o;n++){var r=t[n];r&&r.getAttribute(ft)!==gt&&(pn(e,r),r.parentNode&&r.parentNode.removeChild(r))}};var gn=function(e){var t,n,o=document.head,r=e||o,i=document.createElement("style"),l=(t=r,(n=Array.from(t.querySelectorAll("style[".concat(ft,"]"))))[n.length-1]),a=void 0!==l?l.nextSibling:null;i.setAttribute(ft,gt),i.setAttribute(mt,yt);var s="undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null;return s&&i.setAttribute("nonce",s),r.insertBefore(i,a),i},mn=function(){function e(e){this.element=gn(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,o=t.length;n<o;n++){var r=t[n];if(r.ownerNode===e)return r}throw nn(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(n){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),yn=function(){function e(e){this.element=gn(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),xn=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),bn=bt,vn={isServer:!bt,useCSSOMInjection:!vt},wn=function(){function e(e,t,n){void 0===e&&(e=Ct),void 0===t&&(t={});var o=this;this.options=ge(ge({},vn),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&bt&&bn&&(bn=!1,fn(this)),tn(this,function(){return function(e){for(var t=e.getTag(),n=t.length,o="",r=function(n){var r,i=(r=n,ln.get(r));if(void 0===i)return"continue";var l=e.names.get(i),a=t.getGroup(n);if(void 0===l||!l.size||0===a.length)return"continue";var s="".concat(ft,".g").concat(n,'[id="').concat(i,'"]'),c="";void 0!==l&&l.forEach(function(e){e.length>0&&(c+="".concat(e,","))}),o+="".concat(a).concat(s,'{content:"').concat(c,'"}').concat(xt)},i=0;i<n;i++)r(i);return o}(o)})}return e.registerId=function(e){return sn(e)},e.prototype.rehydrate=function(){!this.server&&bt&&fn(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ge(ge({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=this.options,t=e.useCSSOMInjection,n=e.target,o=e.isServer?new xn(n):t?new mn(n):new yn(n),new on(o)));var e,t,n,o},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(sn(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(sn(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(sn(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Cn=/&/g,Sn=/^\s*\/\/.*$/gm;function kn(e,t){return e.map(function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(e){return"".concat(t," ").concat(e)})),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=kn(e.children,t)),e})}var $n=new wn,Tn=function(e){var t,n,o,r=void 0===e?Ct:e,i=r.options,l=void 0===i?Ct:i,a=r.plugins,s=void 0===a?wt:a,c=function(e,o,r){return r.startsWith(n)&&r.endsWith(n)&&r.replaceAll(n,"").length>0?".".concat(t):e},d=s.slice();d.push(function(e){e.type===we&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Cn,n).replace(o,c))}),l.prefix&&d.push(ht),d.push(ut);var u=function(e,r,i,a){void 0===r&&(r=""),void 0===i&&(i=""),void 0===a&&(a="&"),t=a,n=r,o=new RegExp("\\".concat(n,"\\b"),"g");var s=e.replace(Sn,""),c=rt(i||r?"".concat(i," ").concat(r," { ").concat(s," }"):s);l.namespace&&(c=kn(c,l.namespace));var u,h,p,f=[];return dt(c,(u=d.concat((p=function(e){return f.push(e)},function(e){e.root||(e=e.return)&&p(e)})),h=Re(u),function(e,t,n,o){for(var r="",i=0;i<h;i++)r+=u[i](e,t,n,o)||"";return r})),f};return u.hash=s.length?s.reduce(function(e,t){return t.name||nn(15),Et(e,t.name)},5381).toString():"",u}(),An=n.createContext({shouldForwardProp:void 0,styleSheet:$n,stylis:Tn});function zn(){return e.useContext(An)}An.Consumer,n.createContext(void 0);var jn=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Tn);var o=n.name+t.hash;e.hasNameForId(n.id,o)||e.insertRules(n.id,o,t(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,tn(this,function(){throw nn(12,String(n.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=Tn),this.name+e.hash},e}(),Pn=function(e){return e>="A"&&e<="Z"};function En(e){for(var t="",n=0;n<e.length;n++){var o=e[n];if(1===n&&"-"===o&&"-"===e[0])return e;Pn(o)?t+="-"+o.toLowerCase():t+=o}return t.startsWith("ms-")?"-"+t:t}var qn=function(e){return null==e||!1===e||""===e},In=function(e){var t,n,o=[];for(var r in e){var i=e[r];e.hasOwnProperty(r)&&!qn(i)&&(Array.isArray(i)&&i.isCss||Ut(i)?o.push("".concat(En(r),":"),i,";"):Qt(i)?o.push.apply(o,me(me(["".concat(r," {")],In(i),!1),["}"],!1)):o.push("".concat(En(r),": ").concat((t=r,null==(n=i)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in pt||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return o};function Rn(e,t,n,o){return qn(e)?[]:Jt(e)?[".".concat(e.styledComponentId)]:Ut(e)?!Ut(r=e)||r.prototype&&r.prototype.isReactComponent||!t?[e]:Rn(e(t),t,n,o):e instanceof jn?n?(e.inject(n,o),[e.getName(o)]):[e]:Qt(e)?In(e):Array.isArray(e)?Array.prototype.concat.apply(wt,e.map(function(e){return Rn(e,t,n,o)})):[e.toString()];var r}var Nn=qt(yt),Mn=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ut(n)&&!Jt(n))return!1}return!0}(e),this.componentId=t,this.baseHash=Et(Nn,t),this.baseStyle=n,wn.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))o=Vt(o,this.staticRulesId);else{var r=Kt(Rn(this.rules,e,t,n)),i=jt(Et(this.baseHash,r)>>>0);if(!t.hasNameForId(this.componentId,i)){var l=n(r,".".concat(i),void 0,this.componentId);t.insertRules(this.componentId,i,l)}o=Vt(o,i),this.staticRulesId=i}else{for(var a=Et(this.baseHash,n.hash),s="",c=0;c<this.rules.length;c++){var d=this.rules[c];if("string"==typeof d)s+=d;else if(d){var u=Kt(Rn(d,e,t,n));a=Et(a,u+c),s+=u}}if(s){var h=jt(a>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(s,".".concat(h),void 0,this.componentId)),o=Vt(o,h)}}return o},e}(),Wn=n.createContext(void 0);Wn.Consumer;var Dn={};function Fn(t,o,r){var i,l=Jt(t),a=t,s=!It(t),c=o.attrs,d=void 0===c?wt:c,u=o.componentId,h=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Tt(e);Dn[n]=(Dn[n]||0)+1;var o="".concat(n,"-").concat(function(e){return jt(qt(e)>>>0)}(yt+n+Dn[n]));return t?"".concat(t,"-").concat(o):o}(o.displayName,o.parentComponentId):u,p=o.displayName,f=void 0===p?It(i=t)?"styled.".concat(i):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(i),")"):p,g=o.displayName&&o.componentId?"".concat(Tt(o.displayName),"-").concat(o.componentId):o.componentId||h,m=l&&a.attrs?a.attrs.concat(d).filter(Boolean):d,y=o.shouldForwardProp;if(l&&a.shouldForwardProp){var x=a.shouldForwardProp;if(o.shouldForwardProp){var b=o.shouldForwardProp;y=function(e,t){return x(e,t)&&b(e,t)}}else y=x}var v=new Mn(r,g,l?a.componentStyle:void 0);function w(t,o){return function(t,o,r){var i=t.attrs,l=t.componentStyle,a=t.defaultProps,s=t.foldedComponentIds,c=t.styledComponentId,d=t.target,u=n.useContext(Wn),h=zn(),p=t.shouldForwardProp||h.shouldForwardProp,f=function(e,t,n){return void 0===n&&(n=Ct),e.theme!==n.theme&&e.theme||t||n.theme}(o,u,a)||Ct,g=function(e,t,n){for(var o,r=ge(ge({},t),{className:void 0,theme:n}),i=0;i<e.length;i+=1){var l=Ut(o=e[i])?o(r):o;for(var a in l)r[a]="className"===a?Vt(r[a],l[a]):"style"===a?ge(ge({},r[a]),l[a]):l[a]}return t.className&&(r.className=Vt(r.className,t.className)),r}(i,o,f),m=g.as||d,y={};for(var x in g)void 0===g[x]||"$"===x[0]||"as"===x||"theme"===x&&g.theme===f||("forwardedAs"===x?y.as=g.forwardedAs:p&&!p(x,m)||(y[x]=g[x]));var b,v,w,C=(b=l,v=g,w=zn(),b.generateAndInjectStyles(v,w.styleSheet,w.stylis)),S=Vt(s,c);return C&&(S+=" "+C),g.className&&(S+=" "+g.className),y[It(m)&&!St.has(m)?"class":"className"]=S,r&&(y.ref=r),e.createElement(m,y)}(C,t,o)}w.displayName=f;var C=n.forwardRef(w);return C.attrs=m,C.componentStyle=v,C.displayName=f,C.shouldForwardProp=y,C.foldedComponentIds=l?Vt(a.foldedComponentIds,a.styledComponentId):"",C.styledComponentId=g,C.target=l?a.target:t,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=l?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o=0,r=t;o<r.length;o++)en(e,r[o],!0);return e}({},a.defaultProps,e):e}}),tn(C,function(){return".".concat(C.styledComponentId)}),s&&Zt(C,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function Ln(e,t){for(var n=[e[0]],o=0,r=t.length;o<r;o+=1)n.push(t[o],e[o+1]);return n}var Bn=function(e){return Object.assign(e,{isCss:!0})};function On(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ut(e)||Qt(e))return Bn(Rn(Ln(wt,me([e],t,!0))));var o=e;return 0===t.length&&1===o.length&&"string"==typeof o[0]?Rn(o):Bn(Rn(Ln(o,t)))}function Hn(e,t,n){if(void 0===n&&(n=Ct),!t)throw nn(1,t);var o=function(o){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return e(t,n,On.apply(void 0,me([o],r,!1)))};return o.attrs=function(o){return Hn(e,t,ge(ge({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},o.withConfig=function(o){return Hn(e,t,ge(ge({},n),o))},o}var _n=function(e){return Hn(Fn,e)},Xn=_n;St.forEach(function(e){Xn[e]=_n(e)});const Yn=Xn.nav`
  background-color: #2196F3;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  margin: 0;
  padding: 0;
`,Gn=Xn.div`
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 20px;
  
  /* 竖屏显示时减小标题栏高度 */
  @media (max-width: 768px) and (orientation: portrait) {
    padding: 8px 16px;
  }
`,Zn=Xn(i)`
  color: white;
  font-size: 20px;
  font-weight: bold;
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 8px;
  
  /* 竖屏显示时减小字体大小 */
  @media (max-width: 768px) and (orientation: portrait) {
    font-size: 16px;
    gap: 6px;
  }
`,Un=Xn.img`
  width: 28px;
  height: 28px;
  object-fit: contain;
  
  /* 竖屏显示时减小图标尺寸 */
  @media (max-width: 768px) and (orientation: portrait) {
    width: 22px;
    height: 22px;
  }
`,Jn=Xn.div`
  position: relative;
`,Vn=Xn.button`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  border: none;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  padding: 8px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  min-height: 36px;
  
  /* 竖屏显示时减小按钮尺寸 */
  @media (max-width: 768px) and (orientation: portrait) {
    padding: 6px 12px;
    font-size: 12px;
    min-height: 30px;
    gap: 6px;
  }
  
  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surfaceHover)||"#f8f9fa"}};
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.1);
    transform: translateY(-1px);
  }
  
  &:active {
    transform: translateY(0);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
`,Kn=Xn.div`
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 4px;
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  border: 1px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  border-radius: 4px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  overflow: hidden;
  z-index: 1001;
`,Qn=Xn.button`
  background-color: transparent;
  border: none;
  width: 110px;
  padding: 10px 12px;
  text-align: left;
  cursor: pointer;
  font-size: 13px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  transition: background-color 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  
  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.background)||"#f5f5f5"}};
  }
  
  &.selected {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)?`${e.theme.primary}22`:"#4a6cf722"}};
    color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
    font-weight: 600;
  }
`;Xn.span`
  width: 20px;
  height: 14px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 6px;
  font-size: 12px;
  font-weight: bold;
`;const eo=({langCode:e,size:t=20})=>"zh-CN"===e?v.jsxs("svg",{width:t,height:.667*t,viewBox:"0 0 30 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("rect",{width:"30",height:"20",fill:"#DE2910"}),v.jsx("path",{d:"M4 3 L6 4.5 L4 6 L3 4.5 Z",fill:"#FFDE00"}),v.jsx("path",{d:"M7.5 1.5 L8 2.5 L9 2.5 L8.25 3.25 L8.5 4 L7.5 3.25 L6.5 4 L6.75 3.25 L6 2.5 L7 2.5 Z",fill:"#FFDE00",transform:"rotate(-30 7.5 3)"}),v.jsx("path",{d:"M9.5 2.5 L10 3.5 L11 3.5 L10.25 4.25 L10.5 5 L9.5 4.25 L8.5 5 L8.75 4.25 L8 3.5 L9 3.5 Z",fill:"#FFDE00",transform:"rotate(-10 9.5 4)"}),v.jsx("path",{d:"M9.5 5.5 L10 6.5 L11 6.5 L10.25 7.25 L10.5 8 L9.5 7.25 L8.5 8 L8.75 7.25 L8 6.5 L9 6.5 Z",fill:"#FFDE00",transform:"rotate(70 9.5 7)"}),v.jsx("path",{d:"M7.5 7 L8 8 L9 8 L8.25 8.75 L8.5 9.5 L7.5 8.75 L6.5 9.5 L6.75 8.75 L6 8 L7 8 Z",fill:"#FFDE00",transform:"rotate(110 7.5 8.5)"})]}):v.jsxs("svg",{width:t,height:.667*t,viewBox:"0 0 30 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("rect",{width:"30",height:"20",fill:"#B22234"}),v.jsx("rect",{y:"2",width:"30",height:"2",fill:"white"}),v.jsx("rect",{y:"6",width:"30",height:"2",fill:"white"}),v.jsx("rect",{y:"10",width:"30",height:"2",fill:"white"}),v.jsx("rect",{y:"14",width:"30",height:"2",fill:"white"}),v.jsx("rect",{y:"18",width:"30",height:"2",fill:"white"}),v.jsx("rect",{width:"12",height:"11",fill:"#3C3B6E"}),v.jsxs("g",{fill:"white",children:[v.jsx("rect",{x:"1",y:"1",width:"1",height:"1"}),v.jsx("rect",{x:"3",y:"1",width:"1",height:"1"}),v.jsx("rect",{x:"5",y:"1",width:"1",height:"1"}),v.jsx("rect",{x:"7",y:"1",width:"1",height:"1"}),v.jsx("rect",{x:"9",y:"1",width:"1",height:"1"}),v.jsx("rect",{x:"1",y:"3",width:"1",height:"1"}),v.jsx("rect",{x:"3",y:"3",width:"1",height:"1"}),v.jsx("rect",{x:"5",y:"3",width:"1",height:"1"}),v.jsx("rect",{x:"7",y:"3",width:"1",height:"1"}),v.jsx("rect",{x:"9",y:"3",width:"1",height:"1"}),v.jsx("rect",{x:"1",y:"5",width:"1",height:"1"}),v.jsx("rect",{x:"3",y:"5",width:"1",height:"1"}),v.jsx("rect",{x:"5",y:"5",width:"1",height:"1"}),v.jsx("rect",{x:"7",y:"5",width:"1",height:"1"}),v.jsx("rect",{x:"9",y:"5",width:"1",height:"1"}),v.jsx("rect",{x:"1",y:"7",width:"1",height:"1"}),v.jsx("rect",{x:"3",y:"7",width:"1",height:"1"}),v.jsx("rect",{x:"5",y:"7",width:"1",height:"1"}),v.jsx("rect",{x:"7",y:"7",width:"1",height:"1"}),v.jsx("rect",{x:"9",y:"7",width:"1",height:"1"}),v.jsx("rect",{x:"1",y:"9",width:"1",height:"1"}),v.jsx("rect",{x:"3",y:"9",width:"1",height:"1"}),v.jsx("rect",{x:"5",y:"9",width:"1",height:"1"}),v.jsx("rect",{x:"7",y:"9",width:"1",height:"1"}),v.jsx("rect",{x:"9",y:"9",width:"1",height:"1"})]})]}),to=()=>v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:v.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})}),no=()=>{ne();const{language:t,changeLanguage:n}=le(),o=r(),[i,l]=e.useState(!1);e.useEffect(()=>{const e=e=>{e.target.closest(".language-selector")||l(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const a=e=>{n(e),l(!1)};return v.jsx(Yn,{children:v.jsxs(Gn,{children:[v.jsxs(Zn,{to:"/",children:[v.jsx(Un,{src:"/sudoku-app-logo.svg",alt:"Sudoku Logo"}),"SudokuTech"]}),v.jsxs("div",{style:{display:"flex",gap:"10px"},children:[v.jsxs(Jn,{className:"language-selector",children:[v.jsxs(Vn,{onClick:()=>{l(!i)},children:[v.jsx(eo,{langCode:t,size:20}),"zh-CN"===t?"中文":"English"]}),i&&v.jsxs(Kn,{children:[v.jsxs(Qn,{className:"zh-CN"===t?"selected":"",onClick:()=>a("zh-CN"),children:[v.jsx(eo,{langCode:"zh-CN",size:16}),"中文"]}),v.jsxs(Qn,{className:"en-US"===t?"selected":"",onClick:()=>a("en-US"),children:[v.jsx(eo,{langCode:"en-US",size:16}),"English"]})]})]}),v.jsx(Vn,{onClick:()=>{o("/settings")},title:"设置",children:v.jsx(to,{})})]})]})})},oo=Xn.footer`
  background-color: ${e=>e.theme.surface};
  color: ${e=>e.theme.textSecondary};
  padding: 20px 0;
  margin-top: auto;
  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
`,ro=Xn.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  ${e=>e.theme.mediaQueries.small} {
    padding: 0 15px;
  }
`,io=Xn.div`
  display: flex;
  gap: 20px;
  margin-bottom: 15px;
  flex-wrap: wrap;
  justify-content: center;
  ${e=>e.theme.mediaQueries.small} {
    gap: 15px;
  }
`,lo=Xn.a`
  color: ${e=>e.theme.textSecondary};
  text-decoration: none;
  transition: color 0.2s ease;
  
  &:hover {
    color: ${e=>e.theme.primary};
  }
`,ao=Xn.div`
  font-size: 14px;
  line-height: 1.5;
`,so=Xn.div`
  font-size: 12px;
  margin-top: 10px;
`,co=()=>{const{theme:e}=ne(),{t:t}=le(),n=(new Date).getFullYear();return v.jsx(oo,{theme:e,children:v.jsxs(ro,{theme:e,children:[v.jsxs(io,{theme:e,children:[v.jsx(lo,{href:"/",theme:e,children:t("home")}),v.jsx(lo,{href:"/game",theme:e,children:t("startGame")}),v.jsx(lo,{href:"/techniques",theme:e,children:t("techniques")}),v.jsx(lo,{href:"/challenges",theme:e,children:t("difficulty")}),v.jsx(lo,{href:"/custom",theme:e,children:t("customSudoku")}),v.jsx(lo,{href:"#",theme:e,children:t("aboutUs")})]}),v.jsxs(ao,{theme:e,children:["© ",n," ",t("appName")," ",t("copyright")]}),v.jsxs(so,{theme:e,children:[t("version")," ","1.0.6"]})]})})},uo=Xn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 15px;
`,ho=Xn.div`
  width: 50px;
  height: 50px;
  border: 4px solid ${e=>e.theme.background};
  border-top: 4px solid ${e=>e.theme.primary};
  border-radius: 50%;
  animation: spin 1s linear infinite;
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`,po=Xn.div`
  color: ${e=>e.theme.text};
  font-size: 16px;
  font-weight: 500;
`,fo=({showMessage:e=!0})=>{const{theme:t}=ne(),{loadingMessage:n}=ce();return v.jsxs(uo,{children:[v.jsx(ho,{theme:t}),e&&v.jsx(po,{theme:t,children:n})]})},go=Xn.div`
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.background)||"#f5f5f5"}};
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  transition: background-color 0.3s ease, color 0.3s ease;
`,mo=Xn.main`
  flex: 1;
  padding: 20px;
  max-width: 1200px;
  width: 100%;
  margin: 0 auto;
  @media (max-width: 640px) {
    padding: 15px;
  }
`,yo=Xn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
`;function xo({children:e}){const{theme:t}=ne(),{isLoading:n}=ce();return v.jsxs(ue,{children:[v.jsx(pe,{}),v.jsxs(go,{theme:t,children:[v.jsx(no,{}),v.jsx(mo,{children:e}),v.jsx(co,{}),n&&v.jsx(yo,{children:v.jsx(fo,{})})]})]})}const bo=e.createContext(),vo=({children:t})=>{const[n,o]=e.useState(null),[r,i]=e.useState(!1),[l,a]=e.useState({puzzlesStarted:0,puzzlesCompleted:0,puzzlesSolved:0,totalTimePlayed:0,favoriteDifficulty:"medium"}),[s,d]=e.useState({nakedSingles:{mastered:0,practiced:0},hiddenSingles:{mastered:0,practiced:0},nakedPairs:{mastered:0,practiced:0},hiddenPairs:{mastered:0,practiced:0},pointingPairs:{mastered:0,practiced:0},boxLineReduction:{mastered:0,practiced:0}}),u=e.useRef(!1);e.useEffect(()=>{h()},[]);const h=async()=>{try{let e=await c.getItem("userId");e||(e="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),await c.setItem("userId",e),u.current||(u.current=!0,K.success("欢迎使用数独学习应用！",{position:"top-right",autoClose:2e3}))),o(e),i(!0);const t=await c.getItem(`stats_${e}`);t&&a(t);const n=await c.getItem(`techniques_${e}`);n&&d(n)}catch(e){console.error("初始化用户失败:",e),K.error("初始化用户数据失败",{position:"top-right",autoClose:2e3})}},p=async(e,t)=>{try{const o={...s,[e]:{...s[e],...t}};d(o),n&&await c.setItem(`techniques_${n}`,o)}catch(o){console.error("更新技巧学习进度失败:",o)}},f={userId:n,isAuthenticated:r,userStats:l,techniquesProgress:s,updateUserStats:async e=>{try{const t={...l,...e};a(t),n&&await c.setItem(`stats_${n}`,t)}catch(t){console.error("更新用户统计失败:",t)}},updateTechniqueProgress:p,incrementTechniquePractice:async e=>{const t=s[e]||{mastered:0,practiced:0};await p(e,{practiced:t.practiced+1})},resetUserData:async()=>{try{n&&(await c.removeItem(`stats_${n}`),await c.removeItem(`techniques_${n}`),await c.removeItem(`progress_${n}`)),a({puzzlesStarted:0,puzzlesCompleted:0,puzzlesSolved:0,totalTimePlayed:0,favoriteDifficulty:"medium"}),d({nakedSingles:{mastered:0,practiced:0},hiddenSingles:{mastered:0,practiced:0},nakedPairs:{mastered:0,practiced:0},hiddenPairs:{mastered:0,practiced:0},pointingPairs:{mastered:0,practiced:0},boxLineReduction:{mastered:0,practiced:0}}),K.success("用户数据已重置",{position:"top-right",autoClose:2e3})}catch(e){console.error("重置用户数据失败:",e),K.error("重置用户数据失败",{position:"top-right",autoClose:2e3})}}};return v.jsx(bo.Provider,{value:f,children:t})},wo=()=>{const t=e.useContext(bo);if(!t)throw new Error("useUser must be used within a UserContextProvider");return t},Co=d.create({baseURL:"/",timeout:1e4,headers:{"Content-Type":"application/json"}});Co.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),Co.interceptors.response.use(e=>e.data,e=>{var t,n,o,r;const i=(null==(n=null==(t=e.response)?void 0:t.data)?void 0:n.message)||(null==(r=null==(o=e.response)?void 0:o.data)?void 0:r.error)||"请求失败，请重试";return K.error(i,{position:"top-right",autoClose:2e3}),Promise.reject(e)});const So={generatePuzzle:async e=>{try{return await Co.post("/sudoku/puzzles/generate",{difficulty:e})}catch(t){throw console.error("生成数独谜题失败:",t),t}},getRandomPuzzleByDifficulty:async e=>{try{console.log(`Fetching puzzle with difficulty: ${e}`);const t=await Co.get(`/sudoku/puzzles/random/${e}`);if(!t||!t.puzzle)return console.error("Invalid puzzle data received from server"),{puzzle:Array(9).fill().map(()=>Array(9).fill(0)),solution:Array(9).fill().map(()=>Array(9).fill(0)),difficulty:e};const{puzzle:n,solution:o,difficulty:r}=t;console.log("完整响应数据:",JSON.stringify(t));let i=o;return i&&Array.isArray(i)&&9===i.length||(console.warn("Solution data is missing or invalid"),i=Array(9).fill().map(()=>Array(9).fill(0))),{puzzle:n,solution:i,difficulty:r||e}}catch(t){return console.error("Error fetching puzzle:",t),{puzzle:Array(9).fill().map(()=>Array(9).fill(0)),solution:Array(9).fill().map(()=>Array(9).fill(0)),difficulty:e}}},getPuzzleById:async e=>{try{return await Co.get(`/sudoku/puzzles/${e}`)}catch(t){throw console.error("获取谜题失败:",t),t}},solveSudoku:async e=>{try{return await Co.post("/sudoku/solve",{board:e})}catch(t){throw console.error("求解数独失败:",t),t}},validateSudoku:async e=>{try{return await Co.post("/sudoku/validate",{board:e})}catch(t){throw console.error("验证数独失败:",t),t}},validateCustomSudoku:async e=>{try{return await Co.post("/sudoku/validate-custom",{board:e})}catch(t){throw console.error("验证自定义数独失败:",t),t}},getCandidates:async(e,t,n)=>{try{return await Co.post("/sudoku/candidates",{board:e,row:t,col:n})}catch(o){throw console.error("获取候选数失败:",o),o}},identifyTechniques:async e=>{try{return await Co.post("/sudoku/techniques",{board:e})}catch(t){throw console.error("识别技巧失败:",t),t}},getHint:async(e,t)=>{try{return await Co.post("/sudoku/hint",{board:e,solution:t})}catch(n){throw console.error("获取提示失败:",n),n}},getPuzzleList:async(e={})=>{try{return await Co.get("/sudoku/puzzles",{params:e})}catch(t){throw console.error("获取谜题列表失败:",t),t}},getPuzzleStats:async()=>{try{return await Co.get("/sudoku/puzzles/stats")}catch(e){throw console.error("获取谜题统计失败:",e),e}},getUserProgress:async e=>{try{return await Co.get(`/user/progress/${e}`)}catch(t){throw console.error("获取用户进度失败:",t),t}},saveUserProgress:async(e,t)=>{try{return await Co.post(`/user/progress/${e}`,t)}catch(n){throw console.error("保存用户进度失败:",n),n}},getActiveProgress:async()=>{try{return await Co.get("/user/progress/active")}catch(e){throw console.error("获取活跃进度失败:",e),e}},getCompletedPuzzles:async()=>{try{return await Co.get("/user/progress/completed")}catch(e){throw console.error("获取已完成谜题失败:",e),e}},deleteUserProgress:async e=>{try{return await Co.delete(`/user/progress/${e}`)}catch(t){throw console.error("删除用户进度失败:",t),t}},getUserTechniques:async()=>{try{return await Co.get("/user/techniques")}catch(e){throw console.error("获取用户技巧学习情况失败:",e),e}},updateTechniqueLearning:async(e,t)=>{try{return await Co.post(`/user/techniques/${e}`,t)}catch(n){throw console.error("更新技巧学习情况失败:",n),n}},incrementTechniquePractice:async e=>{try{return await Co.post(`/user/techniques/${e}/practice`)}catch(t){throw console.error("增加技巧练习次数失败:",t),t}},getUserStats:async()=>{try{return await Co.get("/user/stats")}catch(e){throw console.error("获取用户统计信息失败:",e),e}},healthCheck:async()=>{try{return(await d.get("/health")).data}catch(e){throw console.error("健康检查失败:",e),e}}};let ko=class{constructor(e,t){this.row=e,this.col=t,this.up=this,this.down=this,this.left=this,this.right=this,this.colHead=null}};class $o extends ko{constructor(e){super(-1,e),this.size=0}}const To=()=>Array(9).fill().map(()=>Array(9).fill(0)),Ao=new class{constructor(){this.root=new ko(-1,-1),this.colHeaders=[],this.solution=[],this.rows=[]}setupSudokuMatrix(e){this.colHeaders=[];for(let n=0;n<324;n++){const e=new $o(n);this.colHeaders.push(e)}let t=this.root;for(let n=0;n<324;n++)t.right=this.colHeaders[n],this.colHeaders[n].left=t,t=this.colHeaders[n];t.right=this.root,this.root.left=t,this.rows=[];for(let n=0;n<9;n++)for(let t=0;t<9;t++)for(let o=1;o<=9;o++){if(0!==e[n][t]&&e[n][t]!==o)continue;const r=[9*n+t,81+9*n+(o-1),162+9*t+(o-1),243+9*(3*Math.floor(n/3)+Math.floor(t/3))+(o-1)],i=[];for(let e of r){const t=new ko(this.rows.length,e);t.colHead=this.colHeaders[e],i.push(t)}for(let e=0;e<i.length;e++)i[e].left=i[(e-1+i.length)%i.length],i[e].right=i[(e+1)%i.length];for(let e of i){const t=e.colHead;e.up=t.up,t.up.down=e,e.down=t,t.up=e,t.size++}this.rows.push([n,t,o])}}selectColumn(){let e=1/0,t=null;for(let n=this.root.right;n!==this.root;n=n.right)n.size<e&&(e=n.size,t=n);return t}coverColumn(e){e.left.right=e.right,e.right.left=e.left;for(let t=e.down;t!==e;t=t.down)for(let e=t.right;e!==t;e=e.right)e.up.down=e.down,e.down.up=e.up,e.colHead.size--}uncoverColumn(e){for(let t=e.up;t!==e;t=t.up)for(let e=t.left;e!==t;e=e.left)e.up.down=e,e.down.up=e,e.colHead.size++;e.left.right=e,e.right.left=e}search(e=2){const t=[],n=()=>{if(this.root.right===this.root)return t.push([...this.solution]),t.length<e;const o=this.selectColumn();this.coverColumn(o);for(let e=o.down;e!==o;e=e.down){this.solution.push(this.rows[e.row]);for(let t=e.right;t!==e;t=t.right)this.coverColumn(t.colHead);if(!n())return!1;this.solution.pop();for(let t=e.left;t!==e;t=t.left)this.uncoverColumn(t.colHead)}return this.uncoverColumn(o),!0};return n(),t}solveSudoku(e){this.root=new ko(-1,-1),this.colHeaders=[],this.solution=[],this.rows=[],this.setupSudokuMatrix(e);const t=this.search(1);if(0===t.length)return null;const n=Array(9).fill().map(()=>Array(9).fill(0));for(let[o,r,i]of t[0])n[o][r]=i;return n}hasUniqueSolution(e){this.root=new ko(-1,-1),this.colHeaders=[],this.solution=[],this.rows=[],this.setupSudokuMatrix(e);return 1===this.search(2).length}},zo=(e,t,n,o)=>{for(let l=0;l<9;l++)if(l!==n&&e[t][l]===o)return!1;for(let l=0;l<9;l++)if(l!==t&&e[l][n]===o)return!1;const r=3*Math.floor(t/3),i=3*Math.floor(n/3);for(let l=r;l<r+3;l++)for(let r=i;r<i+3;r++)if(l!==t&&r!==n&&e[l][r]===o)return!1;return!0},jo=e=>{for(let t=0;t<9;t++)for(let n=0;n<9;n++)if(0===e[t][n])return[t,n];return null},Po=e=>{try{return Ao.hasUniqueSolution(e)}catch(t){return console.error("验证数独唯一性时出错:",t),Eo(e)}},Eo=e=>{const t=e.map(e=>[...e]);let n=0;const o=()=>{if(n>1)return;const e=jo(t);if(!e)return void n++;const[r,i]=e;for(let n=1;n<=9;n++)zo(t,r,i,n)&&(t[r][i]=n,o(),t[r][i]=0)};return o(),1===n},qo=()=>{const e=[1,2,3,4,5,6,7,8,9];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},Io=async(e="medium")=>{console.log(`开始生成${e}难度的数独题目`);const t=(()=>{console.debug("开始生成完整的数独解");for(let t=1;t<=10;t++)try{const e=To();for(let t=0;t<9;t+=3){const n=qo();let o=0;for(let r=0;r<3;r++)for(let i=0;i<3;i++)e[t+r][t+i]=n[o++]}const n=Ao.solveSudoku(e);if(n&&Ro(n))return console.debug(`成功生成完整数独解（尝试次数：${t}）`),n;const o=()=>{const t=jo(e);if(!t)return!0;const[n,r]=t,i=qo();for(const l of i)if(zo(e,n,r,l)){if(e[n][r]=l,o())return!0;e[n][r]=0}return!1};if(o()&&Ro(e))return console.debug(`使用回溯算法成功生成完整数独解（尝试次数：${t}）`),e}catch(e){console.error(`生成数独解时出错（尝试 ${t}/10）:`,e)}return console.error("超过最大尝试次数（10），无法生成有效的数独解"),null})();if(!t)return console.error("生成完整数独解失败"),null;const n=t.map(e=>[...e]);let o;switch(e){case"easy":o=40;break;case"medium":default:o=50;break;case"hard":o=55;break;case"expert":o=60}let r=0;const i=[];for(let l=0;l<9;l++)for(let e=0;e<9;e++)i.push([l,e]);for(let l=i.length-1;l>0;l--){const e=Math.floor(Math.random()*(l+1));[i[l],i[e]]=[i[e],i[l]]}for(const[l,a]of i){if(r>=o)break;const e=n[l][a];n[l][a]=0,Po(n)?(r++,console.debug(`已移除单元格(${l},${a})，当前已移除${r}/${o}个`)):n[l][a]=e}return Po(n)||console.warn(`警告：生成的${e}难度题目可能没有唯一解，尝试重新生成`),console.log(`成功生成${e}难度数独题目，保留了${81-r}个数字`),{puzzle:n,solution:t}},Ro=e=>{for(let t=0;t<9;t++){const n=new Set;for(let o=0;o<9;o++){const r=e[t][o];if(0!==r){if(n.has(r))return!1;n.add(r)}}}for(let t=0;t<9;t++){const n=new Set;for(let o=0;o<9;o++){const r=e[o][t];if(0!==r){if(n.has(r))return!1;n.add(r)}}}for(let t=0;t<3;t++)for(let n=0;n<3;n++){const o=new Set;for(let r=0;r<3;r++)for(let i=0;i<3;i++){const l=3*n+i,a=e[3*t+r][l];if(0!==a){if(o.has(a))return!1;o.add(a)}}}return!0};let No=null,Mo=null;const Wo=18e5,Do=async()=>{try{console.log("开始获取随机专家级题目");const e=await(async()=>{try{const e=Date.now();if(No&&Mo&&e-Mo<Wo)return console.log("使用缓存的专家级题目数据"),No;const t=await c.getItem("expert_puzzles_cache");if(t&&t.timestamp&&e-t.timestamp<Wo)return console.log("从localforage加载缓存的专家级题目"),No=t.data,Mo=t.timestamp,No;console.log("从JSON文件加载专家级题目");const n=await fetch("/expert_puzzles.json");if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const o=await n.json();if(!o.puzzles||!Array.isArray(o.puzzles))throw new Error("无效的专家级题目数据格式");return No=o.puzzles,Mo=e,await c.setItem("expert_puzzles_cache",{data:o.puzzles,timestamp:e}),console.log(`成功加载 ${o.puzzles.length} 个专家级题目`),o.puzzles}catch(e){return console.error("加载专家级题目失败:",e),[]}})();if(!e||0===e.length)return console.warn("没有可用的专家级题目"),null;const t=e[Math.floor(Math.random()*e.length)];if(!t||!t.puzzle||!t.solution){if(console.error("选中的谜题数据不完整:",t),e.length>1){console.log("尝试重新选择另一个谜题");const t=e.filter(e=>e&&e.puzzle&&e.solution);if(t.length>0){const e=Math.floor(Math.random()*t.length);return console.log(`重新选择有效专家级题目 #${t[e].id||"unknown"}`),t[e]}}return null}return console.log(`随机选择专家级题目 #${t.id||"unknown"}`),t}catch(e){return console.error("获取随机专家级题目失败:",e),null}},Fo=(e,t,n)=>{const o=[],r=[...e,...t];for(const[i,l]of r){const e=n[`${i}-${l}`]||[];for(const t of e)o.push({row:i,col:l,value:t})}return o},Lo=(e,t)=>{const n=[];for(let o=0;o<9;o++)for(let r=0;r<9;r++)if(0===e[o][r]){const e=t[`${o}-${r}`]||[];e.length>0&&n.push({row:o,col:r,candidates:e,box:3*Math.floor(o/3)+Math.floor(r/3)})}return n},Bo=e=>{const t=[];for(let n of["row","col","box"])for(let o=0;o<9;o++){const r=e.filter(e=>"row"===n?e.row===o:"col"===n?e.col===o:e.box===o);for(let e=2;e<=Math.min(r.length,4);e++){const i=Oo(r,e);for(let r of i){const i=new Set;r.forEach(e=>{e.candidates.forEach(e=>i.add(e))}),i.size===e+1&&t.push({cells:r.map(e=>[e.row,e.col]),candidates:Array.from(i),areaType:n,areaIndex:o})}}}return t},Oo=(e,t)=>{const n=[],o=(r,i)=>{if(i.length!==t)for(let t=r;t<e.length;t++)i.push(e[t]),o(t+1,i),i.pop();else n.push([...i])};return o(0,[]),n},Ho=(e,t)=>{const n=new Set(e.map(e=>`${e[0]}-${e[1]}`));return t.filter(e=>n.has(`${e[0]}-${e[1]}`))},_o=(e,t,n,o)=>e===n||(t===o||Math.floor(e/3)===Math.floor(n/3)&&Math.floor(t/3)===Math.floor(o/3)),Xo=(e,t,n,o)=>{const r=[];for(const[l,a]of e.cells){(o[`${l}-${a}`]||[]).includes(n)&&r.push([l,a])}const i=[];for(const[l,a]of t.cells){(o[`${l}-${a}`]||[]).includes(n)&&i.push([l,a])}if(0===r.length||0===i.length)return!1;for(const[l,a]of r)for(const[e,t]of i)if(!_o(l,a,e,t))return!1;return!0},Yo=(e,t,n,o)=>{const r=e.candidates.filter(e=>t.candidates.includes(e));for(const i of r)if(Xo(e,t,i,o))for(const r of e.candidates)if(r!==i&&t.candidates.includes(r)){const l=Go(e,t,r,n,o);if(l.length>0)return{x:i,z:r,commonCells:l}}return null},Go=(e,t,n,o,r)=>{const i=[],l=[];for(const[s,c]of e.cells){(r[`${s}-${c}`]||[]).includes(n)&&l.push([s,c])}const a=[];for(const[s,c]of t.cells){(r[`${s}-${c}`]||[]).includes(n)&&a.push([s,c])}if(0===l.length||0===a.length)return[];for(let s=0;s<9;s++)for(let n=0;n<9;n++){if(0!==o[s][n])continue;const r=e.cells.some(([e,t])=>e===s&&t===n),c=t.cells.some(([e,t])=>e===s&&t===n);if(r||c)continue;const d=l.every(([e,t])=>s===e||n===t||Math.floor(s/3)===Math.floor(e/3)&&Math.floor(n/3)===Math.floor(t/3)),u=a.every(([e,t])=>s===e||n===t||Math.floor(s/3)===Math.floor(e/3)&&Math.floor(n/3)===Math.floor(t/3));d&&u&&i.push({row:s,col:n})}return i},Zo=(e,t,n,o)=>{const r=[];for(const{row:i,col:l}of n){if(0!==e[i][l])continue;(t[`${i}-${l}`]||[]).includes(o)&&r.push({row:i,col:l,value:o})}return r},Uo=(e,t={},n=null)=>{const o=[];let r=!1;const i=[];for(let a=0;a<9;a++)for(let t=0;t<9;t++)0===e[a][t]&&i.push({row:a,col:t});e:for(let a=0;a<9;a++){const l=Math.floor(a/3);for(let s=0;s<3;s++){const c=Jo(e,t,a,3*l+s,i,n);if(c.length>0&&(o.push(...c),o.length>=5)){r=!0;break e}}}if(!r)e:for(let a=0;a<9;a++){const l=Math.floor(a/3);for(let s=0;s<3;s++){const c=Vo(e,t,a,3*s+l,i,n);if(c.length>0&&(o.push(...c),o.length>=5)){r=!0;break e}}}r?console.log(`SDC原始结果: ${o.length}条（已达到限制）`):console.log(`SDC原始结果: ${o.length}条`);const l=function(e){const t=new Set,n=[];for(const o of e){const e=JSON.stringify({sdc:o.sdcCells.sort(),v:o.sdcCandidates.sort(),cr:o.groupA.cells.sort(),cb:o.groupB.cells.sort(),rm:o.removableCandidates.map(e=>`${e.row}-${e.col}-${e.value}`).sort()});t.has(e)||(t.add(e),n.push(o))}return n}(o);console.log(`去重后: ${l.length}条`),l.sort((e,t)=>t.removableCandidates.length-e.removableCandidates.length);return l.slice(0,5)};function Jo(e,t,n,o,r,i){const l=[],a=3*(o%3),s=[];for(let c=0;c<3;c++){const o=a+c;if(0===e[n][o]){const e=t[`${n}-${o}`]||[];e.length>=2&&s.push({row:n,col:o,candidates:e})}}return s.length<2||Ko(e,t,s,n,o,!0,r,i,l),l}function Vo(e,t,n,o,r,i){const l=[],a=3*Math.floor(o/3),s=[];for(let c=0;c<3;c++){const o=a+c;if(0===e[o][n]){const e=t[`${o}-${n}`]||[];e.length>=2&&s.push({row:o,col:n,candidates:e})}}return s.length<2||Ko(e,t,s,n,o,!1,r,i,l),l}function Ko(e,t,n,o,r,i,l,a,s){const c=n.length;for(let d=0;d<c-1;d++)for(let u=d+1;u<c;u++){const c=[n[d],n[u]],h=Qo(c);h.length-c.length>=2&&er(e,t,c,h,o,r,i,l,a,s)}if(c>=3)for(let d=0;d<c-2;d++)for(let u=d+1;u<c-1;u++)for(let h=u+1;h<c;h++){const c=[n[d],n[u],n[h]],p=Qo(c);p.length-c.length>=2&&er(e,t,c,p,o,r,i,l,a,s)}}function Qo(e){const t=new Set;for(const n of e)for(const e of n.candidates)t.add(e);return Array.from(t).sort((e,t)=>e-t)}function er(e,t,n,o,r,i,l,a,s,c){const d=o.length-n.length,u=tr(o),h=function(e,t,n,o,r,i){const l=[],a=new Set(r.map(e=>`${e.row}-${e.col}`));if(o){const o=n,r=i%3;for(let n=0;n<9;n++){if(Math.floor(n/3)!==r&&0===e[o][n]){const e=`${o}-${n}`;if(!a.has(e)){const r=t[e]||[];r.length>0&&l.push({row:o,col:n,candidates:r})}}}}else{const o=n,r=Math.floor(i/3);for(let n=0;n<9;n++){if(Math.floor(n/3)!==r&&0===e[n][o]){const e=`${n}-${o}`;if(!a.has(e)){const r=t[e]||[];r.length>0&&l.push({row:n,col:o,candidates:r})}}}}return l}(e,t,r,l,n,i),p=function(e,t,n,o,r,i){const l=[],a=new Set(r.map(e=>`${e.row}-${e.col}`)),s=Math.floor(n/3),c=n%3,d=3*s,u=3*c;for(let h=0;h<3;h++)for(let n=0;n<3;n++){const r=d+h,s=u+n;if((!o||r!==i)&&((o||s!==i)&&0===e[r][s])){const e=`${r}-${s}`;if(!a.has(e)){const n=t[e]||[];n.length>0&&l.push({row:r,col:s,candidates:n})}}}return l}(e,t,i,l,n,r);0!==h.length&&0!==p.length&&function(e,t,n,o,r,i,l,a,s,c,d,u){const h=n.length;function p(f,g,m,y){const x=m&~i,b=or(m&i),v=or(x);if(b>0&&y>v&&y-v<l){let h=~m;h|=x;!function(e,t,n,o,r,i,l,a,s,c,d,u,h,p,f){const g=n.length;function m(y,x,b,v){const w=b&~a,C=or(b&a),S=or(w);if(C>0&&v-S===s){if(0!==(i&a&(b&a)))return;const s=function(e,t,n,o,r,i,l,a,s,c,d,u,h,p){const f=[],g=i&a,m=(o|a)&~i|g,y=(o|i)&~a|g,x=new Set(l.map(e=>`${c[e].row}-${c[e].col}`)),b=new Set(n.map(e=>`${e.row}-${e.col}`)),v=Math.floor(h/3),w=h%3,C=3*v,S=3*w;for(let A=0;A<3;A++)for(let n=0;n<3;n++){const o=C+A,r=S+n,i=`${o}-${r}`;if(!x.has(i)&&!b.has(i)&&0===e[o][r]){const e=t[i]||[];for(const t of e)if(1<<t-1&m){if(p&&p[o][r]===t)continue;f.push({row:o,col:r,value:t})}}}const k=new Set(r.map(e=>`${s[e].row}-${s[e].col}`));if(d){const n=u;for(let o=0;o<9;o++){const r=`${n}-${o}`;if(!k.has(r)&&!b.has(r)&&0===e[n][o]){const e=t[r]||[];for(const t of e)if(1<<t-1&y){if(p&&p[n][o]===t)continue;f.push({row:n,col:o,value:t})}}}}else{const n=u;for(let o=0;o<9;o++){const r=`${o}-${n}`;if(!k.has(r)&&!b.has(r)&&0===e[o][n]){const e=t[r]||[];for(const t of e)if(1<<t-1&y){if(p&&p[o][n]===t)continue;f.push({row:o,col:n,value:t})}}}}if(0===f.length)return null;const $=nr(i&o),T=nr(a&o);return{type:"sdc",description:"Sue De Coq技巧",sdcCells:n.map(e=>[e.row,e.col]),sdcCandidates:nr(o),lineType:d?"row":"col",lineIndex:u,boxIndex:h,groupA:{cells:r.map(e=>[s[e].row,s[e].col]),candidates:$},groupB:{cells:l.map(e=>[c[e].row,c[e].col]),candidates:T},removableCandidates:f,cells:n.map(e=>[e.row,e.col]),sourceCells:n.map(e=>[e.row,e.col]),targetCells:f.map(e=>[e.row,e.col]),values:nr(o),message:`Sue De Coq技巧：${f.length}个候选数可删除`}}(e,t,l,a,r,i,x,b,o,n,d,u,h,p);s&&s.removableCandidates.length>0&&f.push(s)}if(y<g)for(let e=y;e<g;e++){const t=tr(n[e].candidates);if(0!==(t&~c))continue;m(e+1,[...x,e],b|t,v+1)}}m(0,[],0,0)}(e,t,o,n,g,m,r,i,l-(y-v),h,a,s,c,d,u)}if(f<h)for(let e=f;e<h;e++){const t=tr(n[e].candidates),o=[...g,e],r=m|t;(r&~i)!==r&&p(e+1,o,r,y+1)}}p(0,[],0,0)}(e,t,h,p,n,u,d,l,r,i,s,c)}function tr(e){let t=0;for(const n of e)t|=1<<n-1;return t}function nr(e){const t=[];for(let n=0;n<9;n++)e&1<<n&&t.push(n+1);return t}function or(e){let t=0;for(;e;)t+=1&e,e>>=1;return t}function rr(e,t){const[n,o]=e,[r,i]=t;if(n===r||o===i)return!0;return 3*Math.floor(n/3)+Math.floor(o/3)===3*Math.floor(r/3)+Math.floor(i/3)}function ir(e,t,n){return e[`${t}-${n}`]||[]}function lr(e,t,n){return e.some(e=>e[0]===t&&e[1]===n)}const ar=(e,t,n=[])=>{const o=[];for(let r=1;r<=9;r++){const i=[];for(let t=0;t<9;t++)for(let o=0;o<9;o++)e[t][o]!==r||lr(n,t,o)||i.push({row:t,col:o,value:r});for(let l=0;l<i.length;l++)for(let a=l+1;a<i.length;a++){const s=i[l],c=i[a];if(s.row===c.row||s.col===c.col)continue;const d={row:s.row,col:c.col},u={row:c.row,col:s.col};let h=null,p=null;if(0===e[d.row][d.col]||lr(n,d.row,d.col)?0===e[u.row][u.col]||lr(n,u.row,u.col)||0===e[d.row][d.col]&&(h=u,p=d):0===e[u.row][u.col]&&(h=d,p=u),h&&p){if(ir(t,p.row,p.col).includes(r)){const e=[{type:"identify_pattern",description:"识别可避免矩形模式：三个已填单元格形成矩形，第四个为空",cells:[[s.row,s.col],[c.row,c.col],[h.row,h.col],[p.row,p.col]]},{type:"analyze_candidates",description:`空单元格${p.row+1},${p.col+1}包含候选数${r}，这会导致多解`,cells:[[p.row,p.col]]},{type:"eliminate_candidates",description:`为避免多解，删除单元格${p.row+1},${p.col+1}中的候选数${r}`,targetCells:[[p.row,p.col]],removableCandidates:[r]}];o.push({type:"uniqueness_avoidable_rectangle_1",description:"Avoidable Rectangle Type 1",arCells:[[s.row,s.col],[c.row,c.col],[h.row,h.col],[p.row,p.col]],basePair:[r,h.value||r],keyCell:[p.row,p.col],cellsWithExtra:[{row:p.row,col:p.col}],cellsWithoutExtra:[[s.row,s.col],[c.row,c.col],[h.row,h.col]],targetCells:[[p.row,p.col]],removableCandidates:[{row:p.row,col:p.col,value:r}],cells:[[s.row,s.col],[c.row,c.col],[h.row,h.col],[p.row,p.col]],values:[r,h.value||r],steps:e,message:`Avoidable Rectangle Type 1：删除r${p.row+1}c${p.col+1}的候选数${r}`})}}}}return function(e){const t=new Set,n=[];for(const o of e){const e=`${o.keyCell[0]}-${o.keyCell[1]}-${o.removableCandidates[0].value}`;t.has(e)||(t.add(e),n.push(o))}return n}(o)},sr=(e,t)=>{let n=null,o=[];for(let a=0;a<9;a++)for(let r=0;r<9;r++)if(0===e[a][r]){const e=ir(t,a,r);if(e.length>3)return[];if(3===e.length){if(n)return[];n=[a,r],o=e}}if(!n)return[];const[r,i]=n,l=function(e,t){return 3*Math.floor(e/3)+Math.floor(t/3)}(r,i);for(const a of o){let e=0,s=0,c=0;for(let n=0;n<9;n++){ir(t,r,n).includes(a)&&e++}for(let n=0;n<9;n++){ir(t,n,i).includes(a)&&s++}const d=3*Math.floor(l/3),u=l%3*3;for(let n=d;n<d+3;n++)for(let e=u;e<u+3;e++){ir(t,n,e).includes(a)&&c++}if(3===e&&3===s&&3===c){const e=o.filter(e=>e!==a).map(e=>({row:r,col:i,value:e})),t=[{type:"identify_pattern",description:"识别BUG+1模式：只有一个单元格有三个候选数，其余都是两个候选数",cells:[n]},{type:"analyze_candidates",description:`单元格${r+1},${i+1}有候选数${o.join(",")}`,cells:[n]},{type:"count_occurrences",description:`候选数${a}在行、列、宫中各出现三次，这是有效的候选数`,cells:[n]},{type:"eliminate_candidates",description:`删除单元格${r+1},${i+1}中的其他候选数${e.map(e=>e.value).join("和")}`,targetCells:[n],removableCandidates:e.map(e=>e.value)}];return[{type:"uniqueness_bug_plus_1",description:"BUG+1",threeCandidateCell:n,validCandidate:a,removableCandidates:e,cells:[n],targetCells:[n],values:o,steps:t,message:`BUG+1：删除r${r+1}c${i+1}的候选数${e.map(e=>e.value).join("和")}`}]}}return[]};const cr=(e,t,n=[])=>{const o=[],r=ar(e,t,n),i=((e,t,n=[])=>{const o=[];for(let r=1;r<=9;r++){const i=[];for(let t=0;t<9;t++)for(let o=0;o<9;o++)e[t][o]!==r||lr(n,t,o)||i.push({row:t,col:o,value:r});for(let n=0;n<i.length;n++)for(let l=n+1;l<i.length;l++){const a=i[n],s=i[l];if(a.row===s.row||a.col===s.col)continue;const c={row:a.row,col:s.col},d={row:s.row,col:a.col};if(0===e[c.row][c.col]&&0===e[d.row][d.col]){const n=ir(t,c.row,c.col),i=ir(t,d.row,d.col);if(n.includes(r)&&i.includes(r)){const l=n.filter(e=>e!==r&&i.includes(e));for(const n of l){const i=[];for(let o=0;o<9;o++)for(let r=0;r<9;r++)0===e[o][r]&&rr([o,r],[c.row,c.col])&&rr([o,r],[d.row,d.col])&&ir(t,o,r).includes(n)&&i.push({row:o,col:r,value:n});if(i.length>0){const e=[{type:"identify_pattern",description:"识别可避免矩形模式：两个对角已填，另外两个角为空",cells:[[a.row,a.col],[s.row,s.col],[c.row,c.col],[d.row,d.col]]},{type:"analyze_candidates",description:`两个空单元格${c.row+1},${c.col+1}和${d.row+1},${d.col+1}都包含候选数${r}和${n}`,cells:[[c.row,c.col],[d.row,d.col]]},{type:"find_targets",description:"找到能同时看到两个空角的单元格",targetCells:i.map(e=>[e.row,e.col])},{type:"eliminate_candidates",description:`为避免多解，删除这些单元格中的候选数${n}`,removableCandidates:[n]}];o.push({type:"uniqueness_avoidable_rectangle_2",description:"Avoidable Rectangle Type 2",arCells:[[a.row,a.col],[s.row,s.col],[c.row,c.col],[d.row,d.col]],basePair:[r,s.value],extraCandidate:n,emptyCells:[[c.row,c.col],[d.row,d.col]],removableCandidates:i,cells:[[a.row,a.col],[s.row,s.col],[c.row,c.col],[d.row,d.col]],targetCells:i.map(e=>[e.row,e.col]),values:[r,n],steps:e,message:`Avoidable Rectangle Type 2：删除能同时看到两个空角的单元格中的候选数${n}`})}}}}}}return o})(e,t,n),l=((e,t)=>{const n=[],o=[];for(let r=0;r<9;r++)for(let n=0;n<9;n++)if(0===e[r][n]){const e=ir(t,r,n);2===e.length&&o.push({row:r,col:n,candidates:e})}for(let r=0;r<o.length;r++)for(let i=r+1;i<o.length;i++){const l=o[r],a=o[i];if(l.row===a.row||l.col===a.col)continue;if(!l.candidates.every(e=>a.candidates.includes(e)))continue;const[s,c]=l.candidates,d=[l.row,a.col],u=[a.row,l.col];if(0!==e[d[0]][d[1]]||0!==e[u[0]][u[1]])continue;const h=ir(t,d[0],d[1]),p=ir(t,u[0],u[1]);let f=2,g=null;if(2===h.length&&h.includes(s)&&h.includes(c)&&f++,2===p.length&&p.includes(s)&&p.includes(c)&&f++,h.length>2&&h.includes(s)&&h.includes(c)&&(g=d),p.length>2&&p.includes(s)&&p.includes(c)&&(g=u),3===f&&g){const e=[{type:"identify_pattern",description:"识别唯一矩形模式：四个单元格形成矩形，共享两个候选数",cells:[[l.row,l.col],[a.row,a.col],[d[0],d[1]],[u[0],u[1]]]},{type:"analyze_candidates",description:`三个单元格只有候选数${s}和${c}，第四个单元格${g[0]+1},${g[1]+1}有额外候选数`,cells:[g]},{type:"eliminate_candidates",description:`为避免多解，删除单元格${g[0]+1},${g[1]+1}中的候选数${s}和${c}`,targetCells:[g],removableCandidates:[s,c]}];n.push({type:"uniqueness_1",description:"Unique Rectangle Type 1",urCells:[[l.row,l.col],[a.row,a.col],[d[0],d[1]],[u[0],u[1]]],basePair:[s,c],extraCell:g,removableCandidates:[{row:g[0],col:g[1],value:s},{row:g[0],col:g[1],value:c}],cells:[[l.row,l.col],[a.row,a.col],[d[0],d[1]],[u[0],u[1]]],targetCells:[g],values:[s,c],steps:e,message:`Unique Rectangle Type 1：删除r${g[0]+1}c${g[1]+1}的候选数${s}和${c}`})}}return n})(e,t),a=sr(e,t);return o.push(...r,...i,...l,...a),o},dr=(e,t,n)=>{const o=[],r={};for(let i=1;i<=9;i++)r[i]=[];for(let i=0;i<9;i++){if(0!==e[n][i])continue;(t[`${n}-${i}`]||[]).forEach(e=>{r[e]&&r[e].push(i)})}for(let i=1;i<=9;i++)if(1===r[i].length){const e=r[i][0],l=t[`${n}-${e}`]||[];o.push({type:"notesSingle",description:"notesSingle",row:n,col:e,value:i,cells:[[n,e]],notes:l,message:`在第${n+1}行中，候选数${i}只能填入单元格(${n+1},${e+1})`})}return o},ur=(e,t,n)=>{const o=[],r={};for(let i=1;i<=9;i++)r[i]=[];for(let i=0;i<9;i++){if(0!==e[i][n])continue;(t[`${i}-${n}`]||[]).forEach(e=>{r[e]&&r[e].push(i)})}for(let i=1;i<=9;i++)if(1===r[i].length){const e=r[i][0],l=t[`${e}-${n}`]||[];o.push({type:"notesSingle",description:"notesSingle",row:e,col:n,value:i,cells:[[e,n]],notes:l,message:`在第${n+1}列中，候选数${i}只能填入单元格(${e+1},${n+1})`})}return o},hr=(e,t,n)=>{const o=[],r=3*Math.floor(n/3),i=n%3*3,l={};for(let a=1;a<=9;a++)l[a]=[];for(let a=0;a<3;a++)for(let n=0;n<3;n++){const o=r+a,s=i+n;if(0!==e[o][s])continue;(t[`${o}-${s}`]||[]).forEach(e=>{l[e]&&l[e].push({row:o,col:s,r:a,c:n})})}for(let a=1;a<=9;a++)if(1===l[a].length){const{row:e,col:r}=l[a][0],i=t[`${e}-${r}`]||[];o.push({type:"notesSingle",description:"notesSingle",row:e,col:r,value:a,cells:[[e,r]],notes:i,message:`在第${n+1}宫中，候选数${a}只能填入单元格(${e+1},${r+1})`})}return o},pr=(e,t)=>{const n=[];for(let o=1;o<=9;o++){let r=0,i=-1;for(let n=0;n<9&&!(0===e[t][n]&&(zo(e,t,n,o)&&(r++,i=n),r>1));n++);1===r&&n.push({type:"hiddenSingleRow",description:"hiddenSingleRow",row:t,col:i,value:o,cells:[[t,i]],message:`在第${t+1}行中，数字${o}只能填入单元格(${t+1},${i+1})`})}return n},fr=(e,t)=>{const n=[];for(let o=1;o<=9;o++){let r=0,i=-1;for(let n=0;n<9&&!(0===e[n][t]&&(zo(e,n,t,o)&&(r++,i=n),r>1));n++);1===r&&n.push({type:"hiddenSingleCol",description:"hiddenSingleCol",row:i,col:t,value:o,cells:[[i,t]],message:`在第${t+1}列中，数字${o}只能填入单元格(${i+1},${t+1})`})}return n},gr=(e,t)=>{const n=[],o=3*Math.floor(t/3),r=t%3*3;for(let i=1;i<=9;i++){let l=0,a=-1,s=-1;for(let t=0;t<3;t++){for(let n=0;n<3;n++){const c=o+t,d=r+n;if(0===e[c][d]&&(zo(e,c,d,i)&&(l++,a=c,s=d),l>1))break}if(l>1)break}1===l&&n.push({type:"hiddenSingleBox",description:"hiddenSingleBox",row:a,col:s,value:i,cells:[[a,s]],message:`在第${t+1}宫中，数字${i}只能填入单元格(${a+1},${s+1})`})}return n},mr=(e,t,n,o)=>{const r=[];for(let i=0;i<9;i++){const o=[];for(let r=0;r<9;r++)if(0===e[i][r]){(t[`${i}-${r}`]||[]).includes(n)&&o.push(r)}r.push(o)}for(let i=0;i<8;i++)if(2===r[i].length)for(let l=i+1;l<9;l++)if(2===r[l].length&&r[i][0]===r[l][0]&&r[i][1]===r[l][1]){const a=r[i][0],s=r[i][1],c=[],d=[];[a,s].forEach(o=>{for(let r=0;r<9;r++)if(r!==i&&r!==l&&0===e[r][o]){(t[`${r}-${o}`]||[]).includes(n)&&(c.push([r,o]),d.push(n))}}),c.length>0&&o.push({type:"xWingRow",description:`X-Wing (Row) for number ${n}`,number:n,rows:[i,l],cols:[a,s],cells:[[i,a],[i,s],[l,a],[l,s]],targetCells:c,removableCandidates:d,message:`X-Wing技巧（行）：在第${i+1}行和第${l+1}行中，数字${n}只出现在第${a+1}列和第${s+1}列中，形成一个两行两列的矩形结构。由于这个数字在这两行中只能出现在相同的两列，因此可以确定该数字在这两列的其他行中不可能存在，可以删除第${a+1}列和第${s+1}列中除第${i+1}行和第${l+1}行外其他单元格的数字${n}候选数`})}},yr=(e,t,n,o)=>{const r=[];for(let i=0;i<9;i++){const o=[];for(let r=0;r<9;r++)if(0===e[r][i]){(t[`${r}-${i}`]||[]).includes(n)&&o.push(r)}r.push(o)}for(let i=0;i<8;i++)if(2===r[i].length)for(let l=i+1;l<9;l++)if(2===r[l].length&&r[i][0]===r[l][0]&&r[i][1]===r[l][1]){const a=r[i][0],s=r[i][1],c=[],d=[];[a,s].forEach(o=>{for(let r=0;r<9;r++)if(r!==i&&r!==l&&0===e[o][r]){(t[`${o}-${r}`]||[]).includes(n)&&(c.push([o,r]),d.push(n))}}),c.length>0&&o.push({type:"xWingCol",description:`X-Wing (Col) for number ${n}`,number:n,rows:[a,s],cols:[i,l],cells:[[a,i],[a,l],[s,i],[s,l]],targetCells:c,removableCandidates:d,message:`X-Wing技巧（列）：在第${i+1}列和第${l+1}列中，数字${n}只出现在第${a+1}行和第${s+1}行中，形成一个两行两列的矩形结构。由于这个数字在这两列中只能出现在相同的两行，因此可以确定该数字在这两行的其他列中不可能存在，可以删除第${a+1}行和第${s+1}行中除第${i+1}列和第${l+1}列外其他单元格的数字${n}候选数`})}},xr=(e,t,n,o)=>{const r=[];for(let i=0;i<9;i++){const o=[];for(let r=0;r<9;r++)if(0===e[i][r]){(t[`${i}-${r}`]||[]).includes(n)&&o.push(r)}r.push(o)}for(let i=0;i<7;i++)if(!(r[i].length<2||r[i].length>3))for(let l=i+1;l<8;l++)if(!(r[l].length<2||r[l].length>3))for(let a=l+1;a<9;a++){if(r[a].length<2||r[a].length>3)continue;const s=new Set([...r[i],...r[l],...r[a]]);if(3===s.size){const c=Array.from(s).sort((e,t)=>e-t),d=[];[i,l,a].forEach(e=>{r[e].forEach(t=>{s.has(t)&&d.push([e,t])})});const u=[],h=[];c.forEach(o=>{for(let r=0;r<9;r++)if(r!==i&&r!==l&&r!==a&&0===e[r][o]){(t[`${r}-${o}`]||[]).includes(n)&&(u.push([r,o]),h.push(n))}}),u.length>0&&o.push({type:"swordfishRow",description:`Swordfish (Row) for number ${n}`,number:n,rows:[i,l,a],cols:c,cells:d,targetCells:u,removableCandidates:h,message:`Swordfish技巧（行）：在第${i+1}行、第${l+1}行和第${a+1}行中，数字${n}只出现在第${c.map(e=>e+1).join("、")}列中，形成一个三行三列的结构。由于这个数字在这三行中只能出现在相同的三列，因此可以确定该数字在这三列的其他行中不可能存在，可以删除第${c.map(e=>e+1).join("、")}列中除这三行外其他单元格的数字${n}候选数`})}}},br=(e,t,n,o)=>{const r=[];for(let i=0;i<9;i++){const o=[];for(let r=0;r<9;r++)if(0===e[r][i]){(t[`${r}-${i}`]||[]).includes(n)&&o.push(r)}r.push(o)}for(let i=0;i<7;i++)if(!(r[i].length<2||r[i].length>3))for(let l=i+1;l<8;l++)if(!(r[l].length<2||r[l].length>3))for(let a=l+1;a<9;a++){if(r[a].length<2||r[a].length>3)continue;const s=new Set([...r[i],...r[l],...r[a]]);if(3===s.size){const c=Array.from(s).sort((e,t)=>e-t),d=[];[i,l,a].forEach(e=>{r[e].forEach(t=>{s.has(t)&&d.push([t,e])})});const u=[],h=[];c.forEach(o=>{for(let r=0;r<9;r++)if(r!==i&&r!==l&&r!==a&&0===e[o][r]){(t[`${o}-${r}`]||[]).includes(n)&&(u.push([o,r]),h.push(n))}}),u.length>0&&o.push({type:"swordfishCol",description:`Swordfish (Col) for number ${n}`,number:n,rows:c,cols:[i,l,a],cells:d,targetCells:u,removableCandidates:h,message:`Swordfish技巧（列）：在第${i+1}列、第${l+1}列和第${a+1}列中，数字${n}只出现在第${c.map(e=>e+1).join("、")}行中，形成一个三行三列的结构。由于这个数字在这三列中只能出现在相同的三行，因此可以确定该数字在这三行的其他列中不可能存在，可以删除第${c.map(e=>e+1).join("、")}行中除这三列外其他单元格的数字${n}候选数`})}}},vr=(e,t,n,o)=>{const r=[];for(let i=0;i<9;i++){const o=[];for(let r=0;r<9;r++)if(0===e[i][r]){(t[`${i}-${r}`]||[]).includes(n)&&o.push(r)}r.push(o)}for(let i=0;i<6;i++)if(!(r[i].length<2||r[i].length>4))for(let l=i+1;l<7;l++)if(!(r[l].length<2||r[l].length>4))for(let a=l+1;a<8;a++)if(!(r[a].length<2||r[a].length>4))for(let s=a+1;s<9;s++){if(r[s].length<2||r[s].length>4)continue;const c=new Set([...r[i],...r[l],...r[a],...r[s]]);if(4===c.size){const d=Array.from(c).sort((e,t)=>e-t),u=[];[i,l,a,s].forEach(e=>{r[e].forEach(t=>{c.has(t)&&u.push([e,t])})});const h=[],p=[];d.forEach(o=>{for(let r=0;r<9;r++)if(r!==i&&r!==l&&r!==a&&r!==s&&0===e[r][o]){(t[`${r}-${o}`]||[]).includes(n)&&(h.push([r,o]),p.push(n))}}),h.length>0&&o.push({type:"jellyfishRow",description:`Jellyfish (Row) for number ${n}`,number:n,rows:[i,l,a,s],cols:d,cells:u,targetCells:h,removableCandidates:p,message:`Jellyfish技巧（行）：在第${i+1}行、第${l+1}行、第${a+1}行和第${s+1}行中，数字${n}只出现在第${d.map(e=>e+1).join("、")}列中，形成一个四行四列的结构。由于这个数字在这四行中只能出现在相同的四列，因此可以确定该数字在这四列的其他行中不可能存在，可以删除第${d.map(e=>e+1).join("、")}列中除这四行外其他单元格的数字${n}候选数`})}}},wr=(e,t,n,o)=>{const r=[];for(let i=0;i<9;i++){const o=[];for(let r=0;r<9;r++)if(0===e[r][i]){(t[`${r}-${i}`]||[]).includes(n)&&o.push(r)}r.push(o)}for(let i=0;i<6;i++)if(!(r[i].length<2||r[i].length>4))for(let l=i+1;l<7;l++)if(!(r[l].length<2||r[l].length>4))for(let a=l+1;a<8;a++)if(!(r[a].length<2||r[a].length>4))for(let s=a+1;s<9;s++){if(r[s].length<2||r[s].length>4)continue;const c=new Set([...r[i],...r[l],...r[a],...r[s]]);if(4===c.size){const d=Array.from(c).sort((e,t)=>e-t),u=[];[i,l,a,s].forEach(e=>{r[e].forEach(t=>{c.has(t)&&u.push([t,e])})});const h=[],p=[];d.forEach(o=>{for(let r=0;r<9;r++)if(r!==i&&r!==l&&r!==a&&r!==s&&0===e[o][r]){(t[`${o}-${r}`]||[]).includes(n)&&(h.push([o,r]),p.push(n))}}),h.length>0&&o.push({type:"jellyfishCol",description:`Jellyfish (Col) for number ${n}`,number:n,rows:d,cols:[i,l,a,s],cells:u,targetCells:h,removableCandidates:p,message:`Jellyfish技巧（列）：在第${i+1}列、第${l+1}列、第${a+1}列和第${s+1}列中，数字${n}只出现在第${d.map(e=>e+1).join("、")}行中，形成一个四行四列的结构。由于这个数字在这四列中只能出现在相同的四行，因此可以确定该数字在这四行的其他列中不可能存在，可以删除第${d.map(e=>e+1).join("、")}行中除这四列外其他单元格的数字${n}候选数`})}}},Cr=(e,t={},n=!0,o=null,r=[])=>{const i=(e=>{const t=[];for(let n=0;n<9;n++)for(let o=0;o<9;o++){if(0!==e[n][o])continue;const r=[];for(let t=1;t<=9;t++)zo(e,n,o,t)&&r.push(t);1===r.length&&t.push({type:"nakedSingle",description:"nakedSingle",row:n,col:o,value:r[0],cells:[[n,o]],message:`单元格(${n+1},${o+1})只有数字${r[0]}可以填入`})}return t})(e),l=(e=>{const t=[],n=new Set;for(let o=0;o<9;o++){const r=pr(e,o);for(const o of r){const r=`${o.row}-${o.col}`;n.has(r)||0!==e[o.row][o.col]||(n.add(r),t.push(o))}}for(let o=0;o<9;o++){const r=fr(e,o);for(const o of r){const r=`${o.row}-${o.col}`;n.has(r)||0!==e[o.row][o.col]||(n.add(r),t.push(o))}}for(let o=0;o<9;o++){const r=gr(e,o);for(const o of r){const r=`${o.row}-${o.col}`;n.has(r)||0!==e[o.row][o.col]||(n.add(r),t.push(o))}}return t})(e),a=n&&Object.keys(t).length>0?((e,t={})=>{const n=[],o=new Set;for(let r=0;r<9;r++)for(let i=0;i<9;i++){if(0!==e[r][i])continue;const l=`${r}-${i}`,a=t[l]||[];1===a.length&&(o.add(l),n.push({type:"notesSingle",description:"notesSingle",row:r,col:i,value:a[0],cells:[[r,i]],notes:a,message:`单元格(${r+1},${i+1})只有一个候选数: ${a[0]}`}))}for(let r=0;r<9;r++){const i=dr(e,t,r);for(const t of i){const r=`${t.row}-${t.col}`;o.has(r)||0!==e[t.row][t.col]||(o.add(r),n.push(t))}}for(let r=0;r<9;r++){const i=ur(e,t,r);for(const t of i){const r=`${t.row}-${t.col}`;o.has(r)||0!==e[t.row][t.col]||(o.add(r),n.push(t))}}for(let r=0;r<9;r++){const i=hr(e,t,r);for(const t of i){const r=`${t.row}-${t.col}`;o.has(r)||0!==e[t.row][t.col]||(o.add(r),n.push(t))}}return n})(e,t):[];let s=[],c=[],d=[],u=[],h=[],p=[],f=[],g=[],m=[],y=[],x=[],b=[],v=[],w=[];n&&Object.keys(t).length>0&&(s=((e,t={})=>{const n=[],o=o=>{const r=[];for(let n=0;n<9;n++){if(0!==e[o][n])continue;const i=t[`${o}-${n}`]||[];2===i.length&&r.push({row:o,col:n,notes:i})}for(let i=0;i<r.length-1;i++)for(let l=i+1;l<r.length;l++){const a=r[i],s=r[l];if(a.notes.sort().join(",")===s.notes.sort().join(",")){let r=!1;const i=[],l=[];for(let n=0;n<9;n++){if(n===a.col||n===s.col)continue;if(0!==e[o][n])continue;const c=(t[`${o}-${n}`]||[]).filter(e=>a.notes.includes(e));c.length>0&&(r=!0,i.push([o,n]),c.forEach(e=>l.push(e)))}r&&n.push({type:"nakedPairRow",description:"显性数对法(行)",cells:[[a.row,a.col],[s.row,s.col]],values:a.notes,targetCells:i,targetCellsDetails:i.map((e,n)=>{const[o,r]=e;return{row:o,col:r,notesToRemove:(t[`${o}-${r}`]||[]).filter(e=>a.notes.includes(e))}}),removableCandidates:l,message:`在第${o+1}行，单元格(${a.col+1})和(${s.col+1})形成显性数对[${a.notes.join(",")}]`})}}},r=o=>{const r=[];for(let n=0;n<9;n++){if(0!==e[n][o])continue;const i=t[`${n}-${o}`]||[];2===i.length&&r.push({row:n,col:o,notes:i})}for(let i=0;i<r.length-1;i++)for(let l=i+1;l<r.length;l++){const a=r[i],s=r[l];if(a.notes.sort().join(",")===s.notes.sort().join(",")){let r=!1;const i=[],l=[];for(let n=0;n<9;n++){if(n===a.row||n===s.row)continue;if(0!==e[n][o])continue;const c=(t[`${n}-${o}`]||[]).filter(e=>a.notes.includes(e));c.length>0&&(r=!0,i.push([n,o]),c.forEach(e=>l.push(e)))}r&&n.push({type:"nakedPairCol",description:"显性数对法(列)",cells:[[a.row,a.col],[s.row,s.col]],values:a.notes,targetCells:i,targetCellsDetails:i.map((e,n)=>{const[o,r]=e;return{row:o,col:r,notesToRemove:(t[`${o}-${r}`]||[]).filter(e=>a.notes.includes(e))}}),removableCandidates:l,message:`在第${o+1}列，单元格(${a.row+1})和(${s.row+1})形成显性数对[${a.notes.join(",")}]`})}}},i=(o,r)=>{const i=[];for(let n=0;n<3;n++)for(let l=0;l<3;l++){const a=3*o+n,s=3*r+l;if(0!==e[a][s])continue;const c=t[`${a}-${s}`]||[];2===c.length&&i.push({row:a,col:s,notes:c})}for(let l=0;l<i.length-1;l++)for(let a=l+1;a<i.length;a++){const s=i[l],c=i[a];if(s.notes.sort().join(",")===c.notes.sort().join(",")){let i=!1;const l=[],a=[];for(let n=0;n<3;n++)for(let d=0;d<3;d++){const u=3*o+n,h=3*r+d;if(u===s.row&&h===s.col||u===c.row&&h===c.col)continue;if(0!==e[u][h])continue;const p=(t[`${u}-${h}`]||[]).filter(e=>s.notes.includes(e));p.length>0&&(i=!0,l.push([u,h]),p.forEach(e=>a.push(e)))}i&&n.push({type:"nakedPairBox",description:"显性数对法(宫)",cells:[[s.row,s.col],[c.row,c.col]],values:s.notes,targetCells:l,targetCellsDetails:l.map((e,n)=>{const[o,r]=e;return{row:o,col:r,notesToRemove:(t[`${o}-${r}`]||[]).filter(e=>s.notes.includes(e))}}),removableCandidates:a,message:`在第${3*o+r+1}宫，单元格(${s.row+1},${s.col+1})和(${c.row+1},${c.col+1})形成显性数对[${s.notes.join(",")}]`})}}};for(let l=0;l<9;l++)o(l),r(l);for(let l=0;l<3;l++)for(let e=0;e<3;e++)i(l,e);return n})(e,t),c=((e,t={})=>{const n=[],o=o=>{const r={};for(let e=1;e<=9;e++)r[e]=[];for(let n=0;n<9;n++)0===e[o][n]&&(t[`${o}-${n}`]||[]).forEach(e=>{r[e]&&r[e].push(n)});const i=Object.keys(r).map(Number).filter(e=>2===r[e].length);for(let e=0;e<i.length-1;e++)for(let l=e+1;l<i.length;l++){const a=i[e],s=i[l];if(r[a].sort().join(",")===r[s].sort().join(",")){const e=r[a];let i=!1;const l=[],c=[],d=[];e.forEach(e=>{const n=(t[`${o}-${e}`]||[]).filter(e=>e!==a&&e!==s);n.length>0&&(i=!0,l.push([o,e]),n.forEach(e=>c.push(e)),d.push({row:o,col:e,notesToRemove:n}))}),i&&n.push({type:"hiddenPairRow",description:"隐性数对法(行)",cells:[[o,e[0]],[o,e[1]]],values:[a,s],targetCells:l,targetCellsDetails:d,removableCandidates:c,message:`在第${o+1}行，数字${a}和${s}只能出现在单元格(${e[0]+1})和(${e[1]+1})中`})}}},r=o=>{const r={};for(let e=1;e<=9;e++)r[e]=[];for(let n=0;n<9;n++)0===e[n][o]&&(t[`${n}-${o}`]||[]).forEach(e=>{r[e]&&r[e].push(n)});const i=Object.keys(r).map(Number).filter(e=>2===r[e].length);for(let e=0;e<i.length-1;e++)for(let l=e+1;l<i.length;l++){const a=i[e],s=i[l];if(r[a].sort().join(",")===r[s].sort().join(",")){const e=r[a];let i=!1;const l=[],c=[],d=[];e.forEach(e=>{const n=(t[`${e}-${o}`]||[]).filter(e=>e!==a&&e!==s);n.length>0&&(i=!0,l.push([e,o]),n.forEach(e=>c.push(e)),d.push({row:e,col:o,notesToRemove:n}))}),i&&n.push({type:"hiddenPairCol",description:"隐性数对法(列)",cells:[[e[0],o],[e[1],o]],values:[a,s],targetCells:l,targetCellsDetails:d,removableCandidates:c,message:`在第${o+1}列，数字${a}和${s}只能出现在单元格(${e[0]+1})和(${e[1]+1})中`})}}},i=(o,r)=>{const i={};for(let e=1;e<=9;e++)i[e]=[];for(let n=0;n<3;n++)for(let l=0;l<3;l++){const a=3*o+n,s=3*r+l;0===e[a][s]&&(t[`${a}-${s}`]||[]).forEach(e=>{i[e]&&i[e].push({row:a,col:s})})}const l=Object.keys(i).map(Number).filter(e=>2===i[e].length);for(let e=0;e<l.length-1;e++)for(let a=e+1;a<l.length;a++){const s=l[e],c=l[a],d=i[s].map(e=>`${e.row}-${e.col}`).sort(),u=i[c].map(e=>`${e.row}-${e.col}`).sort();if(d.join(",")===u.join(",")){const e=i[s];let l=!1;const a=[],d=[],u=[];e.forEach(e=>{const n=`${e.row}-${e.col}`,o=(t[n]||[]).filter(e=>e!==s&&e!==c);o.length>0&&(l=!0,a.push([e.row,e.col]),o.forEach(e=>d.push(e)),u.push({row:e.row,col:e.col,notesToRemove:o}))}),l&&n.push({type:"hiddenPairBox",description:"隐性数对法(宫)",cells:e.map(e=>[e.row,e.col]),values:[s,c],targetCells:a,targetCellsDetails:u,removableCandidates:d,message:`在第${3*o+r+1}宫，数字${s}和${c}只能出现在单元格(${e[0].row+1},${e[0].col+1})和(${e[1].row+1},${e[1].col+1})中`})}}};for(let l=0;l<9;l++)o(l),r(l);for(let l=0;l<3;l++)for(let e=0;e<3;e++)i(l,e);return n})(e,t),d=((e,t={})=>{const n=[];for(let o=0;o<3;o++)for(let r=0;r<3;r++)for(let i=1;i<=9;i++){const l=[];for(let n=0;n<3;n++)for(let a=0;a<3;a++){const s=3*o+n,c=3*r+a;0===e[s][c]&&((t[`${s}-${c}`]||[]).includes(i)&&l.push({row:s,col:c,r:n,c:a}))}if(l.length<2)continue;const a=l.every(e=>e.r===l[0].r),s=l.every(e=>e.c===l[0].c);if(a){const a=3*o+l[0].r,s=[],c=[],d=[];for(let n=0;n<9;n++)n>=3*r&&n<3*(r+1)||0!==e[a][n]||!zo(e,a,n,i)||(t[`${a}-${n}`]||[]).includes(i)&&(s.push([a,n]),c.push(i),d.push({row:a,col:n,notesToRemove:[i]}));s.length>0&&n.push({type:"pointingPairsRow",description:"指向对法(行)",boxRow:o,boxCol:r,row:a,number:i,sourceCells:l.map(e=>[e.row,e.col]),targetCells:s,targetCellsDetails:d,removableCandidates:c,message:`在第${3*o+r+1}宫，数字${i}只能出现在第${a+1}行，可以排除该行其他宫格中数字${i}的可能性`})}else if(s){const a=3*r+l[0].c,s=[],c=[],d=[];for(let n=0;n<9;n++)n>=3*o&&n<3*(o+1)||0!==e[n][a]||!zo(e,n,a,i)||(t[`${n}-${a}`]||[]).includes(i)&&(s.push([n,a]),c.push(i),d.push({row:n,col:a,notesToRemove:[i]}));s.length>0&&n.push({type:"pointingPairsCol",description:"指向对法(列)",boxRow:o,boxCol:r,col:a,number:i,sourceCells:l.map(e=>[e.row,e.col]),targetCells:s,targetCellsDetails:d,removableCandidates:c,message:`在第${3*o+r+1}宫，数字${i}只能出现在第${a+1}列，可以排除该列其他宫格中数字${i}的可能性`})}}return n})(e,t),u=((e,t={})=>{const n=[];for(let o=0;o<9;o++)for(let r=1;r<=9;r++){const i=[];for(let n=0;n<9;n++)0===e[o][n]&&(t[`${o}-${n}`]||[]).includes(r)&&i.push({row:o,col:n});if(i.length<1)continue;const l=i.map(e=>Math.floor(e.col/3));if(l.every(e=>e===l[0])){const a=l[0],s=Math.floor(o/3),c=[],d=[],u=[];for(let n=3*s;n<3*(s+1);n++)if(n!==o)for(let o=3*a;o<3*(a+1);o++)0===e[n][o]&&zo(e,n,o,r)&&(t[`${n}-${o}`]||[]).includes(r)&&(c.push([n,o]),d.push(r),u.push({row:n,col:o,notesToRemove:[r]}));c.length>0&&n.push({type:"boxLineReductionRow",description:"宫行列排除法(行)",row:o,boxRow:s,boxCol:a,number:r,sourceCells:i.map(e=>[e.row,e.col]),targetCells:c,targetCellsDetails:u,removableCandidates:d,message:`在第${o+1}行，数字${r}只能出现在第${3*s+a+1}宫，可以排除该宫中其他行数字${r}的可能性`})}}for(let o=0;o<9;o++)for(let r=1;r<=9;r++){const i=[];for(let n=0;n<9;n++)0===e[n][o]&&(t[`${n}-${o}`]||[]).includes(r)&&i.push({row:n,col:o});if(i.length<1)continue;const l=i.map(e=>Math.floor(e.row/3));if(l.every(e=>e===l[0])){const a=l[0],s=Math.floor(o/3),c=[],d=[],u=[];for(let n=3*a;n<3*(a+1);n++)for(let i=3*s;i<3*(s+1);i++)i!==o&&0===e[n][i]&&zo(e,n,i,r)&&(t[`${n}-${i}`]||[]).includes(r)&&(c.push([n,i]),d.push(r),u.push({row:n,col:i,notesToRemove:[r]}));c.length>0&&n.push({type:"boxLineReductionCol",description:"宫行列排除法(列)",col:o,boxRow:a,boxCol:s,number:r,sourceCells:i.map(e=>[e.row,e.col]),targetCells:c,targetCellsDetails:u,removableCandidates:d,message:`在第${o+1}列，数字${r}只能出现在第${3*a+s+1}宫，可以排除该宫中其他列数字${r}的可能性`})}}return n})(e,t),h=((e,t={})=>{const n=[],o=o=>{const r=[];for(let n=0;n<9;n++){if(0!==e[o][n])continue;const i=t[`${o}-${n}`]||[];i.length>=1&&i.length<=3&&r.push({row:o,col:n,notes:i})}for(let i=0;i<r.length-2;i++)for(let l=i+1;l<r.length-1;l++)for(let a=l+1;a<r.length;a++){const s=r[i],c=r[l],d=r[a],u=[...new Set([...s.notes,...c.notes,...d.notes])];if(3===u.length){const r=s.notes.every(e=>u.includes(e)),i=c.notes.every(e=>u.includes(e)),l=d.notes.every(e=>u.includes(e));if(r&&i&&l){let r=!1;const i=[],l=[];for(let n=0;n<9;n++){if(n===s.col||n===c.col||n===d.col)continue;if(0!==e[o][n])continue;const a=(t[`${o}-${n}`]||[]).filter(e=>u.includes(e));a.length>0&&(r=!0,i.push([o,n]),a.forEach(e=>l.push(e)))}r&&n.push({type:"nakedTripleRow",description:"显性三链数法(行)",cells:[[s.row,s.col],[c.row,c.col],[d.row,d.col]],values:u,targetCells:i,removableCandidates:l,conditionCellsDetails:[{row:s.row,col:s.col,notes:s.notes},{row:c.row,col:c.col,notes:c.notes},{row:d.row,col:d.col,notes:d.notes}],targetCellsDetails:i.map((e,n)=>{const[o,r]=e;return{row:o,col:r,notesToRemove:(t[`${o}-${r}`]||[]).filter(e=>u.includes(e))}}),message:`在第${o+1}行，单元格(${s.col+1})、(${c.col+1})和(${d.col+1})形成显性三链数[${u.join(",")}]`})}}}},r=o=>{const r=[];for(let n=0;n<9;n++){if(0!==e[n][o])continue;const i=t[`${n}-${o}`]||[];i.length>=1&&i.length<=3&&r.push({row:n,col:o,notes:i})}for(let i=0;i<r.length-2;i++)for(let l=i+1;l<r.length-1;l++)for(let a=l+1;a<r.length;a++){const s=r[i],c=r[l],d=r[a],u=[...new Set([...s.notes,...c.notes,...d.notes])];if(3===u.length){const r=s.notes.every(e=>u.includes(e)),i=c.notes.every(e=>u.includes(e)),l=d.notes.every(e=>u.includes(e));if(r&&i&&l){let r=!1;const i=[],l=[];for(let n=0;n<9;n++){if(n===s.row||n===c.row||n===d.row)continue;if(0!==e[n][o])continue;const a=(t[`${n}-${o}`]||[]).filter(e=>u.includes(e));a.length>0&&(r=!0,i.push([n,o]),a.forEach(e=>l.push(e)))}r&&n.push({type:"nakedTripleCol",description:"显性三链数法(列)",cells:[[s.row,s.col],[c.row,c.col],[d.row,d.col]],values:u,targetCells:i,removableCandidates:l,conditionCellsDetails:[{row:s.row,col:s.col,notes:s.notes},{row:c.row,col:c.col,notes:c.notes},{row:d.row,col:d.col,notes:d.notes}],targetCellsDetails:i.map((e,n)=>{const[o,r]=e;return{row:o,col:r,notesToRemove:(t[`${o}-${r}`]||[]).filter(e=>u.includes(e))}}),message:`在第${o+1}列，单元格(${s.row+1})、(${c.row+1})和(${d.row+1})形成显性三链数[${u.join(",")}]`})}}}},i=(o,r)=>{const i=[];for(let n=0;n<3;n++)for(let l=0;l<3;l++){const a=3*o+n,s=3*r+l;if(0!==e[a][s])continue;const c=t[`${a}-${s}`]||[];c.length>=1&&c.length<=3&&i.push({row:a,col:s,notes:c})}for(let l=0;l<i.length-2;l++)for(let a=l+1;a<i.length-1;a++)for(let s=a+1;s<i.length;s++){const c=i[l],d=i[a],u=i[s],h=[...new Set([...c.notes,...d.notes,...u.notes])];if(3===h.length){const i=c.notes.every(e=>h.includes(e)),l=d.notes.every(e=>h.includes(e)),a=u.notes.every(e=>h.includes(e));if(i&&l&&a){let i=!1;const l=[],a=[];for(let n=0;n<3;n++)for(let s=0;s<3;s++){const p=3*o+n,f=3*r+s;if(p===c.row&&f===c.col||p===d.row&&f===d.col||p===u.row&&f===u.col)continue;if(0!==e[p][f])continue;const g=(t[`${p}-${f}`]||[]).filter(e=>h.includes(e));g.length>0&&(i=!0,l.push([p,f]),g.forEach(e=>a.push(e)))}i&&n.push({type:"nakedTripleBox",description:"显性三链数法(宫)",cells:[[c.row,c.col],[d.row,d.col],[u.row,u.col]],values:h,targetCells:l,removableCandidates:a,conditionCellsDetails:[{row:c.row,col:c.col,notes:c.notes},{row:d.row,col:d.col,notes:d.notes},{row:u.row,col:u.col,notes:u.notes}],targetCellsDetails:l.map((e,n)=>{const[o,r]=e;return{row:o,col:r,notesToRemove:(t[`${o}-${r}`]||[]).filter(e=>h.includes(e))}}),message:`在第${3*o+r+1}宫，单元格(${c.row+1},${c.col+1})、(${d.row+1},${d.col+1})和(${u.row+1},${u.col+1})形成显性三链数[${h.join(",")}]`})}}}};for(let l=0;l<9;l++)o(l),r(l);for(let l=0;l<3;l++)for(let e=0;e<3;e++)i(l,e);return n})(e,t),p=((e,t={})=>{const n=[],o=o=>{const r={};for(let e=1;e<=9;e++)r[e]=[];for(let n=0;n<9;n++)0===e[o][n]&&(t[`${o}-${n}`]||[]).forEach(e=>{r[e]&&r[e].push(n)});const i=Object.keys(r).map(Number).filter(e=>{const t=r[e].length;return t>=2&&t<=3});for(let e=0;e<i.length-2;e++)for(let l=e+1;l<i.length-1;l++)for(let a=l+1;a<i.length;a++){const s=i[e],c=i[l],d=i[a],u=[...new Set([...r[s],...r[c],...r[d]])];if(3===u.length){const e=u.sort((e,t)=>e-t);let r=!1;const i=[],l=[],a=[];e.forEach(e=>{const n=(t[`${o}-${e}`]||[]).filter(e=>e!==s&&e!==c&&e!==d);n.length>0&&(r=!0,i.push([o,e]),n.forEach(e=>l.push(e)),a.push({row:o,col:e,notesToRemove:n}))}),r&&n.push({type:"hiddenTripleRow",description:"隐性三链数法(行)",cells:[[o,e[0]],[o,e[1]],[o,e[2]]],values:[s,c,d],targetCells:i,targetCellsDetails:a,removableCandidates:l,message:`在第${o+1}行，数字${s}、${c}和${d}只能出现在单元格(${e[0]+1})、(${e[1]+1})和(${e[2]+1})中`})}}},r=o=>{const r={};for(let e=1;e<=9;e++)r[e]=[];for(let n=0;n<9;n++)0===e[n][o]&&(t[`${n}-${o}`]||[]).forEach(e=>{r[e]&&r[e].push(n)});const i=Object.keys(r).map(Number).filter(e=>{const t=r[e].length;return t>=2&&t<=3});for(let e=0;e<i.length-2;e++)for(let l=e+1;l<i.length-1;l++)for(let a=l+1;a<i.length;a++){const s=i[e],c=i[l],d=i[a],u=[...new Set([...r[s],...r[c],...r[d]])];if(3===u.length){const e=u.sort((e,t)=>e-t);let r=!1;const i=[],l=[],a=[];e.forEach(e=>{const n=(t[`${e}-${o}`]||[]).filter(e=>e!==s&&e!==c&&e!==d);n.length>0&&(r=!0,i.push([e,o]),n.forEach(e=>l.push(e)),a.push({row:e,col:o,notesToRemove:n}))}),r&&n.push({type:"hiddenTripleCol",description:"隐性三链数法(列)",cells:[[e[0],o],[e[1],o],[e[2],o]],values:[s,c,d],targetCells:i,targetCellsDetails:a,removableCandidates:l,message:`在第${o+1}列，数字${s}、${c}和${d}只能出现在单元格(${e[0]+1})、(${e[1]+1})和(${e[2]+1})中`})}}},i=(o,r)=>{const i={};for(let e=1;e<=9;e++)i[e]=[];for(let n=0;n<3;n++)for(let l=0;l<3;l++){const a=3*o+n,s=3*r+l;0===e[a][s]&&(t[`${a}-${s}`]||[]).forEach(e=>{i[e]&&i[e].push({row:a,col:s})})}const l=Object.keys(i).map(Number).filter(e=>{const t=i[e].length;return t>=2&&t<=3});for(let e=0;e<l.length-2;e++)for(let a=e+1;a<l.length-1;a++)for(let s=a+1;s<l.length;s++){const c=l[e],d=l[a],u=l[s],h=[],p=new Set;if([...i[c],...i[d],...i[u]].forEach(e=>{const t=`${e.row}-${e.col}`;p.has(t)||(p.add(t),h.push(e))}),3===h.length){const e=h;let i=!1;const l=[],a=[],s=[];e.forEach(e=>{const n=`${e.row}-${e.col}`,o=(t[n]||[]).filter(e=>e!==c&&e!==d&&e!==u);o.length>0&&(i=!0,l.push([e.row,e.col]),o.forEach(e=>a.push(e)),s.push({row:e.row,col:e.col,notesToRemove:o}))}),i&&n.push({type:"hiddenTripleBox",description:"隐性三链数法(宫)",cells:e.map(e=>[e.row,e.col]),values:[c,d,u],targetCells:l,targetCellsDetails:s,removableCandidates:a,message:`在第${3*o+r+1}宫，数字${c}、${d}和${u}只能出现在单元格(${e[0].row+1},${e[0].col+1})、(${e[1].row+1},${e[1].col+1})和(${e[2].row+1},${e[2].col+1})中`})}}};for(let l=0;l<9;l++)o(l),r(l);for(let l=0;l<3;l++)for(let e=0;e<3;e++)i(l,e);return n})(e,t),f=((e,t)=>{const n=[];for(let o=1;o<=9;o++)mr(e,t,o,n),yr(e,t,o,n);return n})(e,t),g=((e,t={})=>{const n=[],o=(e,t)=>{if(e.row===t.row)return!0;if(e.col===t.col)return!0;const n=Math.floor(e.row/3),o=Math.floor(e.col/3),r=Math.floor(t.row/3),i=Math.floor(t.col/3);return n===r&&o===i},r=(e,t)=>e.filter(e=>t.includes(e)),i=(()=>{const n=[];for(let o=0;o<9;o++)for(let r=0;r<9;r++){if(0!==e[o][r])continue;const i=t[`${o}-${r}`]||[];2===i.length&&n.push({row:o,col:r,notes:i})}return n})();for(let l=0;l<i.length;l++){const a=i[l],[s,c]=a.notes,d=[],u=[];for(let e=0;e<i.length;e++){if(l===e)continue;const t=i[e];if(!o(a,t))continue;const n=r(a.notes,t.notes);if(1===n.length){if(n[0]===s&&t.notes.includes(s)&&t.notes.includes(c))continue;if(n[0]===s){const e=t.notes.find(e=>e!==s);e&&e!==c&&d.push({...t,z:e})}else if(n[0]===c){const e=t.notes.find(e=>e!==c);e&&e!==s&&u.push({...t,z:e})}}}for(const o of d)for(const r of u){if(o.z!==r.z)continue;const i=o.z,l=[],d=[],u=[];for(let n=0;n<9;n++)for(let s=0;s<9;s++){if(0!==e[n][s])continue;if(n===a.row&&s===a.col||n===o.row&&s===o.col||n===r.row&&s===r.col)continue;const c=n===o.row||s===o.col||Math.floor(n/3)===Math.floor(o.row/3)&&Math.floor(s/3)===Math.floor(o.col/3),h=n===r.row||s===r.col||Math.floor(n/3)===Math.floor(r.row/3)&&Math.floor(s/3)===Math.floor(r.col/3);c&&h&&(t[`${n}-${s}`]||[]).includes(i)&&(l.push([n,s]),d.push(i),u.push({row:n,col:s,notesToRemove:[i]}))}l.length>0&&n.push({type:"yWing",description:"Y-Wing(XY-Wing)",anchorCell:[a.row,a.col],xzCell:[o.row,o.col],yzCell:[r.row,r.col],cells:[[a.row,a.col],[o.row,o.col],[r.row,r.col]],x:s,y:c,z:i,targetCells:l,targetCellsDetails:u,removableCandidates:d,message:`Y-Wing技巧：这是一个由三个双候选数单元格组成的特殊结构。锚点单元格(${a.row+1},${a.col+1})包含候选数[${s},${c}]，XZ单元格(${o.row+1},${o.col+1})包含候选数[${s},${i}]，YZ单元格(${r.row+1},${r.col+1})包含候选数[${c},${i}]。由于锚点单元格与XZ、YZ单元格分别共享候选数x和y，且XZ和YZ单元格都包含候选数z，因此可以确定在同时受XZ和YZ单元格影响的交叉单元格中，候选数z不可能存在，可以删除这些交叉单元格中的数字${i}候选数`})}}return n})(e,t),m=((e,t)=>{const n=[];for(let o=1;o<=9;o++)xr(e,t,o,n),br(e,t,o,n);return n})(e,t),y=((e,t={})=>{const n=[],o=(e,t)=>{if(e.row===t.row)return!0;if(e.col===t.col)return!0;const n=Math.floor(e.row/3),o=Math.floor(e.col/3),r=Math.floor(t.row/3),i=Math.floor(t.col/3);return n===r&&o===i},r=(()=>{const n=[];for(let o=0;o<9;o++)for(let r=0;r<9;r++){if(0!==e[o][r])continue;const i=t[`${o}-${r}`]||[];2===i.length&&n.push({row:o,col:r,notes:i})}return n})(),i=(()=>{const n=[];for(let o=0;o<9;o++)for(let r=0;r<9;r++){if(0!==e[o][r])continue;const i=t[`${o}-${r}`]||[];3===i.length&&n.push({row:o,col:r,notes:i})}return n})();for(let s=0;s<i.length;s++){const l=i[s],a=l.notes[0],c=l.notes[1],d=l.notes[2],u=r.filter(e=>e.notes.includes(a)&&e.notes.includes(d)&&o(e,l)&&!(e.row===l.row&&e.col===l.col)),h=r.filter(e=>e.notes.includes(c)&&e.notes.includes(d)&&o(e,l)&&!(e.row===l.row&&e.col===l.col));for(let r=0;r<u.length;r++){const i=u[r];for(let r=0;r<h.length;r++){const s=h[r];if(i.row===s.row&&i.col===s.col)continue;if(o(i,s))continue;const u=[],p=[],f=[];for(let n=0;n<9;n++)for(let r=0;r<9;r++){if(0!==e[n][r])continue;if(n===l.row&&r===l.col||n===i.row&&r===i.col||n===s.row&&r===s.col)continue;const a=o({row:n,col:r},l),c=o({row:n,col:r},i),h=o({row:n,col:r},s);a&&c&&h&&(t[`${n}-${r}`]||[]).includes(d)&&(u.push([n,r]),p.push(d),f.push({row:n,col:r,notesToRemove:[d]}))}u.length>0&&n.push({type:"xyzWing",description:"XYZ-Wing",pivotCell:[l.row,l.col],xzCell:[i.row,i.col],yzCell:[s.row,s.col],cells:[[l.row,l.col],[i.row,i.col],[s.row,s.col]],x:a,y:c,z:d,common:d,targetCells:u,targetCellsDetails:f,removableCandidates:p,message:`XYZ-Wing技巧：这是一个由一个三候选数单元格和两个双候选数单元格组成的三角结构。枢纽单元格(${l.row+1},${l.col+1})包含候选数[${l.notes.join(",")}]，XZ单元格(${i.row+1},${i.col+1})包含候选数[${i.notes.join(",")}], YZ单元格(${s.row+1},${s.col+1})包含候选数[${s.notes.join(",")}]. 由于枢纽单元格与XZ、YZ单元格分别共享候选数，且XZ和YZ单元格都包含候选数${d}，因此可以确定在同时受XZ和YZ单元格影响的交叉单元格中，候选数${d}不可能存在，可以删除这些交叉单元格中的数字${d}候选数`})}}}const l=[],a=new Set;for(const s of n){const{pivotCell:e,xzCell:t,yzCell:n}=s,o=`${e[0]}-${e[1]}-${t[0]}-${t[1]}-${n[0]}-${n[1]}`,r=`${e[0]}-${e[1]}-${n[0]}-${n[1]}-${t[0]}-${t[1]}`;a.has(o)||a.has(r)||(l.push(s),a.add(o),a.add(r))}return l})(e,t),x=((e,t)=>{const n=[];for(let o=1;o<=9;o++)vr(e,t,o,n),wr(e,t,o,n);return n})(e,t),b=((e,t={})=>{const n=[],o=Lo(e,t),r=Bo(o);for(let i=0;i<r.length;i++)for(let o=i+1;o<r.length;o++){const l=r[i],a=r[o];if(Ho(l.cells,a.cells).length>0)continue;const s=Yo(l,a,e,t);if(s){const{x:o,z:r,commonCells:i}=s,c=Zo(e,t,i,r);if(c.length>0){const e=[],s=[],d=[],u=[],h=[],p=[];for(const[n,i]of l.cells){const l=t[`${n}-${i}`]||[];l.includes(o)&&e.push([n,i]),l.includes(r)&&d.push([n,i]),l.includes(o)||l.includes(r)||h.push([n,i])}for(const[n,i]of a.cells){const e=t[`${n}-${i}`]||[];e.includes(o)&&s.push([n,i]),e.includes(r)&&u.push([n,i]),e.includes(o)||e.includes(r)||p.push([n,i])}if(c.length>0&&(n.push({type:"alsXZ",description:`ALS-XZ技巧：X=${o}, Z=${r}`,als1:{cells:l.cells,candidates:l.candidates},als2:{cells:a.cells,candidates:a.candidates},x:o,z:r,commonCells:i,removableCandidates:c,cells:[...l.cells,...a.cells],sourceCells:[...l.cells,...a.cells],targetCells:c.map(e=>[e.row,e.col]),values:[o,r],highlightInfo:{xCells:{als1:e,als2:s},zCells:{als1:d,als2:u},otherCells:{als1:h,als2:p},targetCandidates:c,als1Cells:l.cells,als2Cells:a.cells,candidates:Fo(l.cells,a.cells,t)},message:`ALS-XZ技巧：在两个几乎锁定集(ALS)中，X=${o}是限制数，Z=${r}是删除数。可以从${c.length}个单元格中删除候选数${r}。`}),n.length>=5))return n}}}return n})(e,t),v=Uo(e,t,o),w=cr(e,t,r));const C=[...i,...l,...a];return n&&Object.keys(t).length>0&&(C.push(...s),C.push(...c),C.push(...d),C.push(...u),C.push(...h),C.push(...p),C.push(...f),C.push(...g),C.push(...m),C.push(...y),C.push(...x),C.push(...b),C.push(...v),C.push(...w)),C},Sr=e.createContext(),kr={EASY:"easy",MEDIUM:"medium",HARD:"hard",EXPERT:"expert"},$r=({children:t})=>{const{userId:n,updateUserStats:o}=wo(),{t:r}=le(),[i,l]=e.useState(null),[a,s]=e.useState(null),[d,u]=e.useState(null),[h,p]=e.useState(null),[f,g]=e.useState(kr.MEDIUM),[m,y]=e.useState(!1),[x,b]=e.useState(!1),[w,C]=e.useState(0),[S,k]=e.useState(!1),[$,T]=e.useState(!1),[A,z]=e.useState(null),[j,P]=e.useState({}),[E,q]=e.useState([]),[I,R]=e.useState([]),[N,M]=e.useState([]),[W,D]=e.useState(-1),[F,L]=e.useState(0),[B,O]=e.useState(0),[H,_]=e.useState(new Set),[X,Y]=e.useState(!1),[G,Z]=e.useState({}),[U,J]=e.useState(new Set),[V,Q]=e.useState(!1);e.useEffect(()=>{(async()=>{T(!0),console.log("SudokuContext: 初始化自动生成谜题");try{Z({}),M([]),D(-1),L(0),O(0),_(new Set),J(new Set);let t=null,n=null;try{const e=localStorage.getItem("customPuzzle");if(console.log("检查localStorage中的customPuzzle:",e),e){const o=JSON.parse(e);console.log("解析后的自定义数独:",o),o&&o.puzzle&&o.solution&&(console.log("找到自定义数独，加载中..."),t=o,n=o.difficulty||"custom",console.log("保留localStorage中的自定义数独数据，供页面跳转后使用"))}}catch(e){console.warn("读取自定义数独失败:",e)}if(!t){console.log("使用预设的数独题目");t={puzzle:[[5,3,0,0,7,0,0,0,0],[6,0,0,1,9,5,0,0,0],[0,9,8,0,0,0,0,6,0],[8,0,0,0,6,0,0,0,3],[4,0,0,8,0,3,0,0,1],[7,0,0,0,2,0,0,0,6],[0,6,0,0,0,0,2,8,0],[0,0,0,4,1,9,0,0,5],[0,0,0,0,8,0,0,7,9]],solution:[[5,3,4,6,7,8,9,1,2],[6,7,2,1,9,5,3,4,8],[1,9,8,3,4,2,5,6,7],[8,5,9,7,6,1,4,2,3],[4,2,6,8,5,3,7,9,1],[7,1,3,9,2,4,8,5,6],[9,6,1,5,3,7,2,8,4],[2,8,7,4,1,9,6,3,5],[3,4,5,2,8,6,1,7,9]]}}console.log("预设谜题数据:",t);const o=ie(t);console.log("格式化后的数据:",o),l(o),console.log("设置 currentPuzzle 完成"),u(o.puzzle),console.log("设置 originalPuzzle 完成"),s(o.puzzle),console.log("设置 currentBoard 完成，currentBoard:",o.puzzle),p(o.solution),console.log("设置 solution 完成"),n?(g(n),console.log("设置自定义难度:",n)):(g("medium"),console.log("设置默认难度: medium")),y(!0),console.log("设置 gameStarted 为 true"),b(!1),k(!0),L(0),O(0),_(new Set),console.log("谜题初始化完成")}catch(e){console.error("自动初始化谜题失败:",e),console.error("错误详情:",e.message,e.stack)}finally{T(!1)}})()},[]),e.useEffect(()=>{const e=()=>{try{const e=localStorage.getItem("customPuzzle");if(e){console.log("路由变化时检测到自定义数独数据:",e);const t=JSON.parse(e);if(t&&t.puzzle&&t.solution){console.log("路由变化时加载自定义数独数据");const e=ie(t);l(e),u(e.puzzle),s(e.puzzle),p(e.solution),g(t.difficulty||"custom"),y(!0),b(!1),k(!0),localStorage.removeItem("customPuzzle"),console.log("已加载并清除自定义数独数据")}}}catch(e){console.warn("路由变化时读取自定义数独失败:",e)}};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[]),e.useEffect(()=>{if(i&&a&&m&&!x){const e=setTimeout(()=>{te()},3e4);return()=>clearTimeout(e)}},[a,m,x]),e.useEffect(()=>{let e;return S&&(e=setInterval(()=>{C(e=>e+1)},1e3)),()=>{e&&clearInterval(e)}},[S]);const ee=e.useCallback(async()=>{try{if(!n)return null;const e=(await c.keys()).filter(e=>e.startsWith(`progress_${n}_`));if(0===e.length)return null;let t=null,o=0;for(const n of e){const e=await c.getItem(n);e.lastModified>o&&(o=e.lastModified,t=e)}return t&&(l({id:t.puzzleId,puzzle:t.puzzle}),s(t.currentBoard),p(t.solution),g(t.difficulty),C(t.timeElapsed),y(t.gameStarted),b(t.gameCompleted),L(t.errorCount||0),O(t.errorCount||0),_(new Set(t.incorrectCells||[])),k(!1)),t}catch(e){return console.error("加载游戏进度失败:",e),null}},[n]),te=e.useCallback(async()=>{try{if(!n||!i||!a)return;const e={puzzleId:i.id,puzzle:i.puzzle,solution:h,difficulty:f,currentBoard:a,timeElapsed:w,gameStarted:m,gameCompleted:x,errorCount:B,incorrectCells:Array.from(H),lastModified:Date.now()};return await c.setItem(`progress_${n}_${i.id}`,e),!0}catch(e){return console.error("保存游戏进度失败:",e),!1}},[n,i,a,h,f,w,m,x,F,H]),ne=()=>Array(9).fill().map(()=>Array(9).fill(0)),oe=async(e="medium")=>{try{console.log(`开始生成${e}难度的数独题目...`);const t=await Io(e);if(console.log("generateSudoku 返回结果:",t),!t||!t.puzzle||!t.solution)throw console.error("生成的数独数据不完整:",t),new Error("生成的数独数据不完整");const{puzzle:n,solution:o}=t;return Po(n)?(console.log(`成功生成${e}难度的数独题目，使用DLX算法验证了唯一解`),console.log("谜题数据预览:",n.slice(0,2).map(e=>e.slice(0,2).join(",")).join(";")),{puzzle:n,solution:o}):(console.warn("警告：生成的数独题目可能没有唯一解"),oe(e))}catch(t){return console.error(`生成${e}难度的数独题目时出错:`,t),await re(e)}},re=async(e="medium")=>{try{console.log(`使用备用方法生成${e}难度的数独题目...`);const{puzzle:t,solution:n}=await Io(e);return console.log(`备用方法成功生成${e}难度的数独题目`),{puzzle:t,solution:n}}catch(t){console.error("备用方法生成数独题目失败:",t);const e=[[5,3,0,0,7,0,0,0,0],[6,0,0,1,9,5,0,0,0],[0,9,8,0,0,0,0,6,0],[8,0,0,0,6,0,0,0,3],[4,0,0,8,0,3,0,0,1],[7,0,0,0,2,0,0,0,6],[0,6,0,0,0,0,2,8,0],[0,0,0,4,1,9,0,0,5],[0,0,0,0,8,0,0,7,9]],n=[[5,3,4,6,7,8,9,1,2],[6,7,2,1,9,5,3,4,8],[1,9,8,3,4,2,5,6,7],[8,5,9,7,6,1,4,2,3],[4,2,6,8,5,3,7,9,1],[7,1,3,9,2,4,8,5,6],[9,6,1,5,3,7,2,8,4],[2,8,7,4,1,9,6,3,5],[3,4,5,2,8,6,1,7,9]];return console.log("使用预设的简单数独题目作为最后的备用"),{puzzle:e,solution:n}}},ie=e=>{console.log("formatPuzzleData 输入:",e);const t=()=>Date.now().toString(36)+Math.random().toString(36).substr(2);if(e&&e.puzzle){if("string"==typeof e.puzzle&&81===e.puzzle.length){const n=[];for(let t=0;t<9;t++){n.push([]);for(let o=0;o<9;o++)n[t].push(parseInt(e.puzzle[9*t+o])||0)}return{id:e.id||t(),puzzle:n,solution:e.solution&&"string"==typeof e.solution&&81===e.solution.length?(()=>{const t=[];for(let n=0;n<9;n++){t.push([]);for(let o=0;o<9;o++)t[n].push(parseInt(e.solution[9*n+o])||0)}return t})():n}}if(Array.isArray(e.puzzle)&&9===e.puzzle.length){const n=e.puzzle.map(e=>Array.isArray(e)&&9===e.length?e:Array(9).fill(0));let o=n;e.solution&&Array.isArray(e.solution)&&9===e.solution.length&&(o=e.solution.map(e=>Array.isArray(e)&&9===e.length?e:Array(9).fill(0)));const r={id:e.id||t(),puzzle:n,solution:o};return console.log("formatPuzzleData 输出:",r),r}}console.warn("formatPuzzleData: 输入数据不完整或格式不正确，返回默认空数组",e);const n=Array(9).fill().map(()=>Array(9).fill(0));return{id:t(),puzzle:n,solution:n}},ae=(e,t,n)=>!h||!h[e]||void 0===h[e][t]||h[e][t]===n,se=(e,t,n)=>{if(!m||x)return;if(d&&d[e]&&null!==d[e][t]&&0!==d[e][t])return void console.log("Cannot modify prefilled cell with notes:",e,t);const o=`${e}-${t}`,r={...G},i=N.slice(0,W+1);i.push({board:a,pencilNotes:{...G},row:e,col:t,type:"pencil"}),M(i),D(i.length-1),r[o]?r[o].includes(n)?(r[o]=r[o].filter(e=>e!==n),0===r[o].length&&delete r[o]):r[o]=[...new Set([...r[o],n])].sort((e,t)=>e-t):r[o]=[n],Z(r)},ce=(e,t)=>{if(!m||x)return;const n=`${e}-${t}`;if(!G[n]||0===G[n].length)return;const o=N.slice(0,W+1);o.push({board:a,pencilNotes:{...G},row:e,col:t,type:"clear-pencil"}),M(o),D(o.length-1);const r={...G};delete r[n],Z(r),console.log(`已清除单元格(${e+1},${t+1})的候选数标注`)},de=(e,t)=>{if(!m||x)return;const n=`${e}-${t}`;if(console.log("clearCandidates called for cell:",n),d&&d[e]&&0!==d[e][t])return void console.log("Cannot clear candidates for prefilled cell:",e,t);if(!G[n]||0===G[n].length)return void console.log("No candidates to clear in cell:",e,t);console.log("Clearing candidates:",G[n]);const o=N.slice(0,W+1);o.push({board:a,pencilNotes:{...G},row:e,col:t,type:"clear-candidates"}),M(o),D(o.length-1);const r={...G};delete r[n],Z(r),console.log(`已清除单元格(${e+1},${t+1})的所有候选数`)},ue=(e,t,n,o=!1)=>{if(!m||x)return;const r=`${e}-${t}`;if(d&&d[e]&&null!==d[e][t]&&0!==d[e][t])return void console.log("Cannot modify prefilled cell:",e,t);if(U.has(r))return void console.log("Cannot modify locked cell (correct answer):",e,t);if(X&&!o)return void(0===n?ce(e,t):se(e,t,n));const i=[...a.map(e=>[...e])],l=ae(e,t,n);i[e][t]=n,s(i);const c={...G};if(0!==n&&c[r]&&delete c[r],0!==n&&l){for(let i=0;i<9;i++)if(i!==t){const t=`${e}-${i}`;c[t]&&(c[t]=c[t].filter(e=>e!==n),0===c[t].length&&delete c[t])}for(let i=0;i<9;i++)if(i!==e){const e=`${i}-${t}`;c[e]&&(c[e]=c[e].filter(e=>e!==n),0===c[e].length&&delete c[e])}const o=3*Math.floor(e/3),r=3*Math.floor(t/3);for(let i=o;i<o+3;i++)for(let o=r;o<r+3;o++)if(i!==e||o!==t){const e=`${i}-${o}`;c[e]&&(c[e]=c[e].filter(e=>e!==n),0===c[e].length&&delete c[e])}}Z(c);const u=N.slice(0,W+1);u.push({board:a,pencilNotes:{...G},row:e,col:t,prevValue:a[e][t],type:"fill",isCorrectInput:0!==n&&l}),M(u),D(u.length-1);const h=new Set(H);if(0!==n)if(l){h.delete(r);const e=new Set(U);e.add(r),J(e)}else H.has(r)||O(e=>e+1),h.add(r),K.error("输入错误，请重试！",{position:"top-right",autoClose:1e3,theme:"colored"});else h.delete(r);_(h),he(i)},he=e=>{if(h){for(let t=0;t<9;t++)for(let n=0;n<9;n++)if(!e[t][n]||e[t][n]!==h[t][n])return;b(!0),k(!1),_(new Set),o&&o({puzzlesCompleted:1,puzzlesSolved:1,totalTimePlayed:w}),K.success(r("gameCompletedMessage"),{position:"top-right",autoClose:3e3}),te(),setTimeout(()=>{window.dispatchEvent(new CustomEvent("openNewGameWindow"))},3e3)}},[pe,fe]=e.useState(!1),ge=e.useCallback(()=>{for(let e=0;e<9;e++)for(let t=0;t<9;t++){if(0!==a[e][t])continue;const n=G[`${e}-${t}`];if(!n||0===n.length)return!1}return!0},[a,G]),me=e.useCallback(()=>{try{const e=ge()||pe,t=G&&"object"==typeof G&&Object.keys(G).length>0,n=e&&t;t&&!e&&K.info(r("candidatesIncomplete",{defaultMessage:'候选数不完整，请先点击"刷新候选数"按钮或确保所有空白单元格都有候选数'}),{position:"top-right",autoClose:3e3});const o=[];for(let r=0;r<9;r++)for(let e=0;e<9;e++)0!==d[r][e]&&o.push([r,e]);const i=Cr(a,G,n,h,o);return R(i),i}catch(e){return console.error("识别技巧失败:",e),[]}},[a,G,ge,pe,h,r,K]),ye=e.useCallback(e=>{const t=X;let n=!1;const o=e.type&&("nakedSingle"===e.type||"notesSingle"===e.type||"hiddenSingleRow"===e.type||"hiddenSingleCol"===e.type||"hiddenSingleBox"===e.type);try{o&&t&&(Y(!1),n=!0);const i=((e,t)=>{const n=t.map(e=>[...e]);switch(e.type){case"nakedSingle":case"notesSingle":case"hiddenSingleRow":case"hiddenSingleCol":case"hiddenSingleBox":if(void 0!==e.row&&void 0!==e.col&&void 0!==e.value)return n[e.row][e.col]=e.value,{board:n,operation:{type:"fill",row:e.row,col:e.col,value:e.value}};break;case"alsXZ":return{board:n,operation:{type:"highlight",cells:e.cells||e.sourceCells,targetCells:e.targetCells,values:e.values||[e.number],removableCandidates:e.removableCandidates,highlightType:"alsXZ",highlightInfo:e.highlightInfo||{}}};case"sdc":return{board:n,operation:{type:"highlight",cells:e.cells||e.sourceCells,targetCells:e.targetCells,values:e.values||[e.number],removableCandidates:e.removableCandidates,highlightType:"sdc",highlightInfo:e.highlightInfo||{}}};case"arType1":return{board:n,operation:{type:"highlight",cells:e.cells||e.sourceCells,targetCells:e.targetCells,values:e.values||e.basePair||[],removableCandidates:e.removableCandidates,highlightType:"arType1",highlightInfo:e.highlightInfo||{}}};case"nakedPairRow":case"nakedPairCol":case"nakedPairBox":case"hiddenPairRow":case"hiddenPairCol":case"hiddenPairBox":case"nakedTripleRow":case"nakedTripleCol":case"nakedTripleBox":case"hiddenTripleRow":case"hiddenTripleCol":case"hiddenTripleBox":case"pointingPairsRow":case"pointingPairsCol":case"boxLineReductionRow":case"boxLineReductionCol":case"swordfishRow":case"swordfishCol":case"xyzWing":case"jellyfishRow":case"jellyfishCol":return{board:n,operation:{type:"highlight",cells:e.cells||e.sourceCells,targetCells:e.targetCells,values:e.values||[e.number],removableCandidates:e.removableCandidates}};default:return console.warn("未知的技巧类型:",e.type),{board:n,operation:null}}return{board:n,operation:null}})(e,a);if(i&&i.board){const t=i.operation;if(t&&"fill"===t.type&&"number"==typeof t.row&&"number"==typeof t.col&&"number"==typeof t.value){const{row:e,col:n,value:o}=t;return ue(e,n,o,!0),!0}if(t&&"removeCandidates"===t.type&&Array.isArray(t.cells)){const n={...j};return t.cells.forEach(e=>{if("number"==typeof e.row&&"number"==typeof e.col&&Array.isArray(e.valuesToRemove)){const t=`${e.row}-${e.col}`,o=(j[t]||[]).filter(t=>!e.valuesToRemove.includes(t));n[t]=o}}),P(n),console.log("成功移除候选数:",e.type),K.success(r("candidatesRemovedSuccess",{defaultMessage:"候选数已成功移除"}),{position:"top-right",autoClose:2e3}),!0}return t&&"highlight"===t.type?(console.log("技巧应用成功（高亮提示）:",e.type),e.type&&(e.type.includes("Pair")||e.type.includes("pair"))?K.success(r("pairTechniqueIdentified",{defaultMessage:"数对技巧已识别，建议手动移除相关候选数"}),{position:"top-right",autoClose:3e3}):K.success(r("pairTechniqueIdentified",{defaultMessage:"技巧已识别，建议手动移除相关候选数"}),{position:"top-right",autoClose:3e3}),!0):(console.warn("无法应用技巧：操作信息不完整或类型不支持",t),K.info(r("techniqueOnlyForHint",{defaultMessage:"此技巧主要用于提示，暂不支持自动应用"}),{position:"top-right",autoClose:2e3}),!1)}return!1}catch(i){return console.error("应用技巧失败:",i),K.error(r("techniqueApplyFailed",{defaultMessage:"应用技巧失败，请重试"}),{position:"top-right",autoClose:2e3}),n&&Y(!0),!1}finally{n&&Y(!0)}},[ue,a,X,j,P,Y]),xe=(e,t)=>{if(!a)return[];const n=[];for(let o=1;o<=9;o++)be(e,t,o)&&n.push(o);return n.sort((e,t)=>e-t)},be=(e,t,n)=>{if(!a)return!1;for(let i=0;i<9;i++)if(a[e][i]===n)return!1;for(let i=0;i<9;i++)if(a[i][t]===n)return!1;const o=3*Math.floor(e/3),r=3*Math.floor(t/3);for(let i=o;i<o+3;i++)for(let e=r;e<r+3;e++)if(a[i][e]===n)return!1;return!0},ve={currentPuzzle:i,currentBoard:a||Array(9).fill().map(()=>Array(9).fill(0)),originalPuzzle:d,solution:h||Array(9).fill().map(()=>Array(9).fill(0)),difficulty:f,gameStarted:m,gameCompleted:x,timeElapsed:w,timerActive:S,isTimerActive:S,isLoading:$,selectedCell:A,candidates:j,highlightedCells:E,activeTechniques:I,lockedCells:U,history:N,historyIndex:W,errorCount:B,incorrectCells:H,isPencilMode:X,pencilNotes:G,setDifficulty:g,setSelectedCell:z,setHighlightedCells:q,setTimerActive:k,toggleTimer:()=>{k(e=>!e)},togglePencilMode:()=>{Y(e=>!e)},togglePencilNote:se,clearPencilNotes:ce,clearCandidates:de,fillAllCandidates:()=>{if(!m||x||!a)return;const e=N.slice(0,W+1);e.push({board:a,pencilNotes:{...G},type:"fill-candidates"}),M(e),D(e.length-1);const t={};for(let n=0;n<9;n++)for(let e=0;e<9;e++){if(d&&d[n]&&0!==d[n][e]||a[n]&&0!==a[n][e])continue;const o=xe(n,e);o.length>0&&(t[`${n}-${e}`]=o)}return Z(t),fe(!0),K.info(r("candidatesFilled",{defaultMessage:"已为所有空白格子计算并填充候选数！"}),{position:"top-right",autoClose:2e3}),!0},fillSelectedCellCandidates:(e,t)=>{if(!m||x||!a||void 0===e||void 0===t)return;if(0!==a[e][t])return void K.info(r("cellNotEmpty",{defaultMessage:"该单元格已有数字，无法填充候选数"}),{position:"top-right",autoClose:2e3});if(d&&d[e]&&0!==d[e][t])return void K.info(r("cellPrefilled",{defaultMessage:"该单元格为预填数字，无法填充候选数"}),{position:"top-right",autoClose:2e3});const n=N.slice(0,W+1);n.push({board:a,pencilNotes:{...G},type:"fill-cell-candidates"}),M(n),D(n.length-1);const o=xe(e,t),i={...G};return o.length>0?i[`${e}-${t}`]=o:delete i[`${e}-${t}`],Z(i),K.info(r("cellCandidatesFilled",{row:e+1,col:t+1,defaultMessage:`已为单元格(${e+1},${t+1})计算并填充候选数！`}),{position:"top-right",autoClose:2e3}),o},calculateTechniques:()=>{if(!m||x||!a)return;let e=!1;for(let n=0;n<9;n++){for(let t=0;t<9;t++){if(d&&d[n]&&0!==d[n][t]||a[n]&&0!==a[n][t])continue;const o=`${n}-${t}`;if(!(G[o]&&G[o].length>0)){e=!0;break}}if(e)break}if(e)return K.info(r("emptyCandidateCellsFound",{defaultMessage:"发现无候选数的空白单元格，重新计算候选数..."}),{position:"top-right",autoClose:2e3}),!0;let t=!1;if(h)for(let n=0;n<9;n++){for(let e=0;e<9;e++){if(d&&d[n]&&0!==d[n][e]||a[n]&&0!==a[n][e])continue;const o=G[`${n}-${e}`]||[],r=h[n][e];if(!o.includes(r)){t=!0;break}}if(t)break}return t?(K.error(r("candidateErrorDetected",{defaultMessage:"存在候选数删减错误，数据刷新"}),{position:"top-right",autoClose:3e3}),!0):(K.info(r("candidatesComplete",{defaultMessage:"候选数正确完整，直接计算技巧机会！"}),{position:"top-right",autoClose:2e3}),!1)},loadSavedProgress:ee,saveGameProgress:te,startNewGame:async(e=null,t=null,n=!0)=>{console.log("SudokuContext: 开始新游戏",{puzzleId:e,difficultyOverride:t});try{y(!1),s(ne()),Z({}),Y(!1),P({}),R([]),q([]),z(null),k(!1),C(0),b(!1),M([]),D(-1),L(0),O(0),_(new Set),J(new Set),fe(!1),Q(!1),await new Promise(e=>setTimeout(e,50)),y(!0),await new Promise(e=>setTimeout(e,50));const e=t||f;let r;console.log("使用难度:",e),e!==f&&g(e);let c=0;const d=3;let h=!1;for(;!r&&c<d;){c++,console.log(`尝试生成谜题 (${c}/${d})`);try{if(e===kr.EXPERT){console.log("专家难度：尝试从JSON文件获取谜题");try{const e=await Do();e&&e.puzzle&&e.solution?(r=e,h=!0,console.log("成功从JSON文件获取专家级谜题")):console.warn("从JSON文件获取的谜题数据不完整，回退到程序生成")}catch(i){console.warn("从JSON文件获取专家级谜题失败，回退到程序生成:",i)}}r||(console.log("使用程序生成谜题"),r=await oe(e))}catch(a){console.error(`生成谜题失败 (尝试 ${c}/${d}):`,a)}}if(!r){console.error("多次尝试生成谜题失败，使用备用谜题");r={puzzle:[[5,3,0,0,7,0,0,0,0],[6,0,0,1,9,5,0,0,0],[0,9,8,0,0,0,0,6,0],[8,0,0,0,6,0,0,0,3],[4,0,0,8,0,3,0,0,1],[7,0,0,0,2,0,0,0,6],[0,6,0,0,0,0,2,8,0],[0,0,0,4,1,9,0,0,5],[0,0,0,0,8,0,0,7,9]],solution:[[5,3,4,6,7,8,9,1,2],[6,7,2,1,9,5,3,4,8],[1,9,8,3,4,2,5,6,7],[8,5,9,7,6,1,4,2,3],[4,2,6,8,5,3,7,9,1],[7,1,3,9,2,4,8,5,6],[9,6,1,5,3,7,2,8,4],[2,8,7,4,1,9,6,3,5],[3,4,5,2,8,6,1,7,9]]}}const m=ie(r);if(console.log("谜题数据准备完成，formattedData:",m),!m||!m.puzzle||!Array.isArray(m.puzzle)||9!==m.puzzle.length){console.error("格式化后的数据无效，使用备用谜题");const e=[[5,3,0,0,7,0,0,0,0],[6,0,0,1,9,5,0,0,0],[0,9,8,0,0,0,0,6,0],[8,0,0,0,6,0,0,0,3],[4,0,0,8,0,3,0,0,1],[7,0,0,0,2,0,0,0,6],[0,6,0,0,0,0,2,8,0],[0,0,0,4,1,9,0,0,5],[0,0,0,0,8,0,0,7,9]],t=[[5,3,4,6,7,8,9,1,2],[6,7,2,1,9,5,3,4,8],[1,9,8,3,4,2,5,6,7],[8,5,9,7,6,1,4,2,3],[4,2,6,8,5,3,7,9,1],[7,1,3,9,2,4,8,5,6],[9,6,1,5,3,7,2,8,4],[2,8,7,4,1,9,6,3,5],[3,4,5,2,8,6,1,7,9]];m.puzzle=e,m.solution=t}return l(m),console.log("设置 currentPuzzle 完成"),u(m.puzzle),console.log("设置 originalPuzzle 完成"),s(m.puzzle),console.log("设置 currentBoard 完成"),p(m.solution),console.log("设置 solution 完成"),y(!0),b(!1),C(0),k(!0),M([]),D(-1),o&&o({puzzlesStarted:1}),n&&(e===kr.EXPERT?K.success(h?"Expert puzzle loaded!":"Expert puzzle generated!",{position:"top-right",autoClose:2e3}):n&&K.success("New puzzle generated!",{position:"top-right",autoClose:2e3})),console.log("新游戏设置完成"),m}catch(c){console.error("开始新游戏失败:",c);try{const e=[[5,3,0,0,7,0,0,0,0],[6,0,0,1,9,5,0,0,0],[0,9,8,0,0,0,0,6,0],[8,0,0,0,6,0,0,0,3],[4,0,0,8,0,3,0,0,1],[7,0,0,0,2,0,0,0,6],[0,6,0,0,0,0,2,8,0],[0,0,0,4,1,9,0,0,5],[0,0,0,0,8,0,0,7,9]],t=[[5,3,4,6,7,8,9,1,2],[6,7,2,1,9,5,3,4,8],[1,9,8,3,4,2,5,6,7],[8,5,9,7,6,1,4,2,3],[4,2,6,8,5,3,7,9,1],[7,1,3,9,2,4,8,5,6],[9,6,1,5,3,7,2,8,4],[2,8,7,4,1,9,6,3,5],[3,4,5,2,8,6,1,7,9]],o={puzzle:e,solution:t};return l(o),u(e),s(e),p(t),y(!0),b(!1),k(!0),n&&K.success("Backup puzzle used!",{position:"top-right",autoClose:2e3}),o}catch(d){console.error("使用备用谜题也失败:",d),n&&K.error(r("generatePuzzleFailedRefresh"),{position:"top-right",autoClose:2e3})}return null}},generateNewPuzzle:async(e=f,t=!0)=>{console.log("SudokuContext: 生成新谜题",{targetDifficulty:e});try{let r;s(ne()),Z({}),Y(!1),P({}),R([]),q([]),k(!1),C(0),b(!1),M([]),D(-1),L(0),O(0),_(new Set),J(new Set),Q(!1),y(!0),await new Promise(e=>setTimeout(e,50)),e!==f&&(g(e),console.log("已设置新难度:",e));try{const t=localStorage.getItem("customPuzzle");if(t&&"custom"===e){console.log("检测到自定义数独数据，使用自定义数独");const e=JSON.parse(t);e&&e.puzzle&&e.solution&&(r=e,localStorage.removeItem("customPuzzle"),console.log("已使用并清除自定义数独数据"))}}catch(n){console.warn("读取自定义数独数据失败:",n)}if(!r)if(e===kr.EXPERT){console.log("专家难度：尝试从JSON文件获取谜题");try{const t=await Do();t&&t.puzzle&&t.solution?(r=t,console.log("成功从JSON文件获取专家级谜题")):(console.warn("从JSON文件获取的谜题数据不完整，回退到程序生成"),r=await oe(e))}catch(i){console.warn("从JSON文件获取专家级谜题失败，回退到程序生成:",i),r=await oe(e)}}else console.log("非专家难度：使用程序生成谜题"),r=await oe(e);const a=ie(r);return console.log("谜题数据准备完成，formattedData:",a),console.log("puzzleData.puzzle 是否存在:",!!a.puzzle),a.puzzle&&(console.log("puzzle 类型:",Array.isArray(a.puzzle)?"数组":typeof a.puzzle),console.log("puzzle 长度:",Array.isArray(a.puzzle)?a.puzzle.length:"不是数组"),Array.isArray(a.puzzle)&&a.puzzle.length>0&&console.log("puzzle 第一行:",a.puzzle[0])),l(a),console.log("设置 currentPuzzle 完成"),u(a.puzzle),console.log("设置 originalPuzzle 完成"),s(a.puzzle),console.log("设置 currentBoard 完成"),p(a.solution),console.log("设置 solution 完成"),y(!0),b(!1),C(0),k(!0),M([]),D(-1),o&&o({puzzlesStarted:1}),t&&K.success("New puzzle generated!",{position:"top-right",autoClose:2e3}),console.log("新谜题设置完成"),a}catch(n){return console.error("生成新谜题失败:",n),t&&K.error(r("generatePuzzleFailed"),{position:"top-right",autoClose:2e3}),null}},fillCell:ue,clearCell:(e,t)=>{if(!m||x)return;const n=`${e}-${t}`;if(d&&d[e]&&0!==d[e][t])return void console.log("Cannot clear prefilled cell:",e,t);if(U.has(n))return void console.log("Cannot clear locked cell (correct answer):",e,t);const o=N.slice(0,W+1);if(o.push({board:a,pencilNotes:{...G},row:e,col:t,prevValue:a[e][t],type:"clear"}),M(o),D(o.length-1),X){console.log("铅笔模式：尝试清除单元格",e,t);const n=`${e}-${t}`;if(console.log("候选数状态:",G[n]),G[n]&&G[n].length>0)console.log("清除候选数标注"),de(e,t);else if(console.log("没有候选数标注，检查是否有数字"),0!==a[e][t]){console.log("清除数字内容");const o=[...a.map(e=>[...e])];o[e][t]=0,s(o);const r=new Set(H);r.delete(n),_(r),L(r.size);const i=new Set(U);i.delete(n),J(i)}else console.log("单元格既没有候选数也没有数字");return}const r=[...a.map(e=>[...e])];r[e][t]=0,s(r),G[n]&&G[n].length>0&&(console.log("普通模式：清除候选数标注"),de(e,t));const i=new Set(H);i.delete(n),_(i),L(i.size);const l=new Set(U);l.delete(n),J(l)},undo:()=>{if(W>=0){const e=N[W];s(e.board),e.pencilNotes&&Z(e.pencilNotes),D(W-1),b(!1);const t=new Set;for(let o=0;o<9;o++)for(let n=0;n<9;n++){const r=e.board[o][n];0!==r&&h&&r!==h[o][n]&&t.add(`${o}-${n}`)}_(t);const n=new Set;for(let o=0;o<9;o++)for(let t=0;t<9;t++){const r=e.board[o][t];0!==r&&h&&r===h[o][t]&&n.add(`${o}-${t}`)}J(n)}else console.log("没有可撤销的操作")},redo:()=>{if(W<N.length-1){const e=N[W+1];s(e.board),e.pencilNotes&&Z(e.pencilNotes),D(W+1);const t=new Set;for(let o=0;o<9;o++)for(let n=0;n<9;n++){const r=e.board[o][n];0!==r&&h&&r!==h[o][n]&&t.add(`${o}-${n}`)}_(t);const n=new Set;for(let o=0;o<9;o++)for(let t=0;t<9;t++){const r=e.board[o][t];0!==r&&h&&r===h[o][t]&&n.add(`${o}-${t}`)}J(n),he(e.board)}},getCandidates:async(e,t)=>{try{const n=await So.getCandidates(a,e,t);return P(n.candidates),n.candidates}catch(n){return console.error("获取候选数失败:",n),[]}},identifyTechniques:me,applyTechniqueToBoard:ye,getHint:async()=>{try{return await So.getHint(a,h)}catch(e){return console.error("获取提示失败:",e),K.error("获取提示失败，请重试",{position:"top-right",autoClose:2e3}),null}},validateCellInput:ae,areCandidatesComplete:ge,solveOneCell:()=>{if(!m||x||!h)return;const e=[];for(let i=0;i<9;i++)for(let t=0;t<9;t++)0!==a[i][t]||d&&d[i]&&0!==d[i][t]||e.push({row:i,col:t});if(0===e.length)return;const t=Math.floor(Math.random()*e.length),{row:n,col:o}=e[t],r=h[n][o];ue(n,o,r,!0),z({row:n,col:o})}};return v.jsx(Sr.Provider,{value:ve,children:t})},Tr=()=>{const t=e.useContext(Sr);if(!t)throw new Error("useSudoku must be used within a SudokuContextProvider");return t},Ar=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 40px;
  padding: 20px 0;
  @media (max-width: 640px) {
    gap: 30px;
    padding: 10px 0;
  }
`,zr=Xn.section`
  text-align: center;
  padding: 40px 20px;
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  @media (max-width: 640px) {
    padding: 30px 15px;
  }
`,jr=Xn.h1`
  font-size: 42px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
  margin-bottom: 20px;
  font-weight: bold;
  @media (max-width: 640px) {
    font-size: 32px;
  }
`,Pr=Xn.p`
  font-size: 18px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.textSecondary)||"#666666"}};
  margin-bottom: 30px;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
  @media (max-width: 640px) {
    font-size: 16px;
  }
`,Er=Xn.div`
  display: flex;
  gap: 15px;
  justify-content: center;
  flex-wrap: wrap;
  @media (max-width: 640px) {
    flex-direction: column;
    align-items: center;
  }
`,qr=Xn(i)`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
  color: white;
  padding: 12px 28px;
  border-radius: 8px;
  font-size: 18px;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s ease;
  cursor: pointer;
  border: none;
  min-width: 200px;
  text-align: center;
  
  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)?`${e.theme.primary}aa`:"#4a6cf7aa"}};
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }
  
  &:active {
    transform: translateY(0);
  }
`,Ir=Xn(i)`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
  border: 2px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
  padding: 12px 28px;
  border-radius: 8px;
  font-size: 18px;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s ease;
  cursor: pointer;
  min-width: 200px;
  text-align: center;
  
  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)?`${e.theme.primary}11`:"#4a6cf711"}};
    transform: translateY(-2px);
  }
  
  &:active {
    transform: translateY(0);
  }
  
  @media (max-width: 640px) {
    width: 100%;
    max-width: 300px;
  }
`,Rr=Xn.section`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 30px;
  @media (max-width: 640px) {
    gap: 20px;
  }
`,Nr=Xn.div`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
  gap: 20px;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  }
`,Mr=Xn.div`
  font-size: 48px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
  display: flex;
  justify-content: center;
`,Wr=Xn.h3`
  font-size: 22px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  margin: 0;
  text-align: center;
  @media (max-width: 640px) {
    font-size: 20px;
  }
`,Dr=Xn.p`
  font-size: 16px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.textSecondary)||"#666666"}};
  line-height: 1.6;
  margin: 0;
  text-align: center;
`,Fr=Xn.section`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  border-radius: 12px;
  padding: 30px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,Lr=Xn.h2`
  font-size: 32px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  margin-bottom: 30px;
  text-align: center;
  @media (max-width: 640px) {
    font-size: 26px;
  }
`,Br=Xn.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
`,Or=Xn.button`
  background-color: ${e=>{var t,n;return e.selected?(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7":(null==(n=e.theme)?void 0:n.surface)||"#ffffff"}};
  color: ${e=>{var t;return e.selected?"white":(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  border: 2px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
  padding: 15px 20px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background-color: ${e=>{var t,n;return e.selected?(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7":`${(null==(n=e.theme)?void 0:n.primary)||"#4a6cf7"}22`}};
    transform: translateY(-2px);
  }
`,Hr=Xn.button`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.secondary)||"#f5a623"}};
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 8px;
  font-size: 18px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 25px;
  width: 100%;
  max-width: 300px;
  display: block;
  margin-left: auto;
  margin-right: auto;
  
  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.secondary)?`${e.theme.secondary}aa`:"#f5a623aa"}};
    transform: translateY(-2px);
  }
`,_r=Xn.section`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  border-radius: 12px;
  padding: 30px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,Xr=Xn.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
`,Yr=Xn.div`
  text-align: center;
  padding: 20px;
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.background)||"#f5f5f5"}};
  border-radius: 8px;
`,Gr=Xn.div`
  font-size: 36px;
  font-weight: bold;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
  margin-bottom: 10px;
  @media (max-width: 640px) {
    font-size: 30px;
  }
`,Zr=Xn.div`
  font-size: 16px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.textSecondary)||"#666666"}};
`,Ur=()=>{ne();const{userStats:e}=wo(),{setDifficulty:t,startNewGame:o}=Tr(),{executeWithLoading:i,isLoading:l}=ce(),{t:a}=le(),s=r(),[c,d]=n.useState(kr.MEDIUM),u=e=>{d(e)};return v.jsxs(Ar,{children:[v.jsxs(zr,{children:[v.jsx(jr,{children:a("homePage.welcomeTitle")}),v.jsx(Pr,{children:a("homePage.welcomeSubtitle")}),v.jsxs(Er,{children:[v.jsx(qr,{to:"/game",children:a("homePage.startGame")}),v.jsx(Ir,{to:"/techniques",children:a("homePage.learnTechniques")})]})]}),v.jsxs(Rr,{children:[v.jsxs(Nr,{children:[v.jsx(Mr,{children:"🧠"}),v.jsx(Wr,{children:a("homePage.multiDifficulty")}),v.jsx(Dr,{children:a("homePage.multiDifficultyDesc")})]}),v.jsxs(Nr,{children:[v.jsx(Mr,{children:"💡"}),v.jsx(Wr,{children:a("homePage.techniqueLearning")}),v.jsx(Dr,{children:a("homePage.techniqueLearningDesc")})]}),v.jsxs(Nr,{children:[v.jsx(Mr,{children:"📊"}),v.jsx(Wr,{children:a("homePage.progressTracking")}),v.jsx(Dr,{children:a("homePage.progressTrackingDesc")})]}),v.jsxs(Nr,{children:[v.jsx(Mr,{children:"🎯"}),v.jsx(Wr,{children:a("homePage.realTimeHints")}),v.jsx(Dr,{children:a("homePage.realTimeHintsDesc")})]})]}),v.jsxs(Fr,{children:[v.jsx(Lr,{children:a("homePage.quickStart")}),v.jsxs(Br,{children:[v.jsx(Or,{selected:c===kr.EASY,onClick:()=>u(kr.EASY),children:a("easy")}),v.jsx(Or,{selected:c===kr.MEDIUM,onClick:()=>u(kr.MEDIUM),children:a("medium")}),v.jsx(Or,{selected:c===kr.HARD,onClick:()=>u(kr.HARD),children:a("hard")}),v.jsx(Or,{selected:c===kr.EXPERT,onClick:()=>u(kr.EXPERT),children:a("expert")})]}),v.jsx(Hr,{onClick:async()=>{t(c);const e=await i(()=>o(null,c),"准备游戏中...");e&&s(`/game/${e.id}`)},disabled:l,children:l?v.jsx(fo,{showMessage:!1}):a("homePage.startGame")})]}),v.jsxs(_r,{children:[v.jsx(Lr,{children:a("homePage.yourProgress")}),v.jsxs(Xr,{children:[v.jsxs(Yr,{children:[v.jsx(Gr,{children:e.puzzlesStarted}),v.jsx(Zr,{children:a("homePage.puzzlesStarted")})]}),v.jsxs(Yr,{children:[v.jsx(Gr,{children:e.puzzlesCompleted}),v.jsx(Zr,{children:a("homePage.puzzlesCompleted")})]}),v.jsxs(Yr,{children:[v.jsx(Gr,{children:e.puzzlesSolved}),v.jsx(Zr,{children:a("homePage.puzzlesSolved")})]}),v.jsxs(Yr,{children:[v.jsx(Gr,{children:Math.floor(e.totalTimePlayed/60)}),v.jsx(Zr,{children:a("homePage.gameMinutes")})]})]})]})]})},Jr=Xn.div.attrs({className:"sudoku-board"})`
  display: grid;
  grid-template-columns: repeat(9, 1fr);
  grid-template-rows: repeat(9, 1fr);
  border-radius: var(--border-radius, 8px);
  background-color: #ffffff; /* 使用纯白色背景 */
  position: relative;
  width: 100% !important;
  height: 100% !important;
  margin: 0 !important;
  padding: 0;
  box-sizing: border-box;
  overflow: hidden !important;
  z-index: 1;
  grid-gap: 0;
  // 取消棋盘四周的蓝线，使用无边框设计
  border: none;
  font-family: 'Arial', 'Microsoft YaHei', sans-serif;
  
  // 移除悬停效果，避免干扰
  &:hover {
    border-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#3498db"}};
  }
`,Vr=Xn.div`
  position: relative; /* 为绝对定位的子元素（HintsLayer）提供定位基准 */
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: calc(var(--board-width) * 0.08);
  font-weight: 500;
  cursor: pointer;
  /* 进一步优化性能：简化样式 */
  background: #ffffff; /* 纯色背景 */
  border-right: 0.5px solid #e0e0e0; /* 只设置右边框 */
  border-bottom: 0.5px solid #e0e0e0; /* 只设置下边框 */
  border-top: none;
  border-left: none;
  color: #3498db; /* 修改为蓝色，用于用户输入的数字 */
  transition: none; /* 移除过渡效果以提升性能 */
  font-family: 'Arial', 'Microsoft YaHei', sans-serif;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  min-width: 0;
  width: 100%;
  height: 100%;
  word-break: break-all;
  text-overflow: ellipsis;
  overflow: hidden;
  outline: 0;
    
    /* 保留3x3子网格之间的分隔线，但使用更明确的样式 */
     /* 处理列方向的网格分隔线 - 移除none设置，让分隔线显示 */
     /* 处理行方向的网格分隔线 - 移除none设置，让分隔线显示 */

  /* 基础样式类 - 优化性能，移除高消耗的磨砂玻璃效果 */
  &.prefilled {
    cursor: default;
    color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.textOriginal)||"#666666"}};
    font-weight: 400; /* 将预填数字字体调整为较细 */
    /* 使用与空白单元格相同的白色底色 */
    background: #ffffff;
    /* 移除边框定义，让预填单元格继承基础单元格的边框设置 */
  }
  
  &.highlighted {
    /* 使用纯色背景 */
    background: #64B5F6 !important; /* 保持现有蓝色背景 */
    color: #666666 !important; /* 修改为灰色字体 */
    border: 1px solid transparent; /* 保持边框一致性 */
    opacity: 1; /* 确保完全不透明 */
    box-sizing: border-box !important; /* 使用border-box确保尺寸正确 */
    box-shadow: inset 0 0 0 2px white; /* 创建2px宽的内部白边 */
  }
  
  /* 非基础技巧水标 - 浅化错务 */
  &.advanced-technique-highlight {
    background: rgba(200, 230, 245, 0.08) !important; /* 非常浅蓝色，仅8%透明度 */
    color: #666666 !important;
    opacity: 1;
    box-sizing: border-box !important;
    /* 不设置边框，保持元有的香港线显示 */
  }
  

  
  /* 基础选中状态样式 - 确保在所有设备上的高对比度和可见性 */
  &.selected {
    /* 使用与.same-number和.highlighted类一致的高亮颜色 */
    background: #64B5F6 !important; /* 与highlighted状态完全一致的蓝色 */
    color: white !important; /* 一直保持白色字体 */
    z-index: 2;
    /* 使用更明显的边框 */
    border: 2px solid #42A5F5 !important;
    font-weight: bold !important; /* 使用粗体增强可读性 */
    /* 确保在所有平台上的渲染一致性 */
    -webkit-tap-highlight-color: transparent;
  }
  
  /* 普通选中状态 - 与基础选中状态保持一致 */
  &.normal-selected {
    background: #64B5F6 !important;
    color: white !important; /* 一直保持白色字体 */
    border: 2px solid #42A5F5 !important;
    font-weight: bold !important; /* 使用粗体增强可读性 */
  }
  
  /* 铅笔模式选中状态 */
  &.pencil-selected {
    background: #0097a7 !important;
    color: white !important; /* 一直保持白色字体 */
    border: 2px solid #00796b !important;
    font-weight: bold !important; /* 使用粗体增强可读性 */
  }
  
  &.error,
  &.incorrect {
    color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.error)||"#e74c3c"}}; /* 使用更浅的红色 */
    /* 只保留红色文本，不改变背景色 */
  }
  
  /* 确保错误数字没有阴影效果，并保持红色文字 */
  &.error,
  &.incorrect {
    color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.error)||"#e74c3c"}} !important; /* 使用更浅的红色 */
    text-shadow: none !important;
  }
  
  /* 确保选中状态下的错误单元格显示红色文字，无阴影，且取消选中底色 */
  &.selected.error,
  &.selected.incorrect,
  &.normal-selected.error,
  &.normal-selected.incorrect,
  &.pencil-selected.error,
  &.pencil-selected.incorrect {
    color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.error)||"#e74c3c"}} !important; /* 使用更浅的红色 */
    text-shadow: none !important;
    background-color: transparent !important; /* 取消选中底色 */
    border-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.error)||"#e74c3c"}} !important; /* 使用错误颜色作为边框 */
  }
  
  &.same-number {
    /* 使用纯色背景 */
    background: #90CAF9; /* 保持现有浅蓝色背景 */
    color: #666666 !important; /* 修改为灰色字体 */
    border: 1px solid transparent; /* 保持边框一致性 */
    box-sizing: border-box !important; /* 使用border-box确保尺寸正确 */
    box-shadow: inset 0 0 0 2px white; /* 创建2px宽的内部白边 */
  }
  


  &.same-region {
    /* 优化性能：使用纯色背景 */
    background: #e8f4fd;
  }
  
  &.same-note {
    /* 优化性能：使用纯色背景 */
    background: #fff3cd;
  }
  
  &.technique-indicator {
    /* 优化性能：使用纯色背景 */
    background: #ffeaa7;
  }

  /* 优化边缘单元格处理，确保棋盘边缘完整 */
  ${e=>0===e.$row&&"border-top: none;"}
  ${e=>8===e.$row&&"border-bottom: none;"}
  ${e=>0===e.$col&&"border-left: none;"}
  ${e=>8===e.$col&&"border-right: none;"}
  
  /* 简化角落单元格处理，仅保留基本圆角 */
  ${e=>0===e.$row&&0===e.$col&&"border-radius: var(--border-radius, 8px) 0 0 0;"}
  ${e=>0===e.$row&&8===e.$col&&"border-radius: 0 var(--border-radius, 8px) 0 0;"}
  ${e=>8===e.$row&&0===e.$col&&"border-radius: 0 0 0 var(--border-radius, 8px);"}
  ${e=>8===e.$row&&8===e.$col&&"border-radius: 0 0 var(--border-radius, 8px) 0;"}
  
  /* 确保所有状态下圆角正确应用 */
  ${e=>8===e.$row&&0===e.$col&&"overflow: hidden;"}
  ${e=>8===e.$row&&8===e.$col&&"overflow: hidden;"}
  
  /* 3x3子网格分隔线 - 使用0.5px深色实线 */
  ${e=>(2===e.$col||5===e.$col)&&"border-right: 0.5px solid #333333;"}
  ${e=>(2===e.$row||5===e.$row)&&"border-bottom: 0.5px solid #333333;"}
  
  // 悬停效果（仅在非移动设备上）
  @media (hover: hover) {
    &:not(.prefilled):not(.selected):not(.normal-selected):not(.pencil-selected):hover {
      background-color: ${e=>{var t;return((null==(t=e.theme)?void 0:t.primary)||"#3498db")+"15"}} !important;
    }
    
    // 更加强化的选中状态悬停规则 - 直接指定颜色值而不是使用inherit
    &.selected:hover:not(.error):not(.incorrect) {
      background-color: #42a5f5 !important; /* 直接使用与.selected相同的颜色值 */
      color: white !important; /* 确保文字颜色也不变 */
      border-color: #1e88e5 !important; /* 确保边框颜色也不变 */
    }
    
    &.normal-selected:hover:not(.error):not(.incorrect) {
      background-color: #42a5f5 !important;
      color: white !important;
      border-color: #1e88e5 !important;
    }
    
    &.pencil-selected:hover:not(.error):not(.incorrect) {
      background-color: #0097a7 !important;
      color: white !important;
      border-color: #00796b !important;
    }
    
    // 确保错误单元格在悬停时保持红色文字，且不显示选中底色
    &.selected:hover.error,
    &.selected:hover.incorrect,
    &.normal-selected:hover.error,
    &.normal-selected:hover.incorrect,
    &.pencil-selected:hover.error,
    &.pencil-selected:hover.incorrect {
      color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.error)||"#e74c3c"}} !important;
      text-shadow: none !important;
      background-color: transparent !important; /* 悬停时也不显示选中底色 */
      border-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.error)||"#e74c3c"}} !important; /* 使用错误颜色作为边框 */
    }
    
    // 额外添加:focus和:active状态以确保在所有交互情况下保持选中效果
    &.selected:focus,
    &.selected:active,
    &.normal-selected:focus,
    &.normal-selected:active,
    &.pencil-selected:focus,
    &.pencil-selected:active {
      background-color: inherit !important; /* 保持原有选中背景色 */
      color: white !important;
      border-color: inherit !important;
    }
  }
  
  // 触摸反馈和选中状态优化
  &:active {
    transform: scale(0.97);
  }
  
  /* 增强触摸设备的选中效果 - 使用更通用的移动设备检测方案 */
  @media (hover: none) {
    /* 确保选中状态在所有触摸设备上有更强的视觉反馈 */
    &.selected,
    &.normal-selected,
    &.pencil-selected {
      /* 移除可能导致渲染不一致的过渡效果 */
      transition: none;
      /* 增加更明显的内阴影，确保在所有设备上都有突出显示 */
      box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.8);
      /* 添加更强的外阴影，增强立体效果 */
      box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.8), 0 0 8px rgba(0, 0, 0, 0.2);
      /* 增强边框效果 */
      border-width: 3px !important;
    }
    
    /* 触摸设备上的活动状态 */
    &:active {
      /* 使用缩放效果提供即时反馈 */
      transform: scale(0.97);
      /* 确保所有浏览器兼容性 */
      -webkit-transform: scale(0.97);
      -moz-transform: scale(0.97);
      -ms-transform: scale(0.97);
    }
  }
  
  /* 针对特定移动设备视口的优化 */
  @media screen and (max-width: 768px) and (orientation: portrait),
         screen and (max-height: 768px) and (orientation: landscape) {
    /* 增加选中状态的对比和可见性 */
    &.selected,
    &.normal-selected,
    &.pencil-selected {
      /* 调整边框宽度以适应小屏幕 */
      border-width: 2.5px !important;
      /* 增加阴影强度 */
      box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.9), 0 0 6px rgba(0, 0, 0, 0.3);
    }
  }
  
  /* 横屏模式下增强选中单元格的白色边框 */
  @media screen and (orientation: landscape) {
    /* 为选中的单元格添加白色边框 */
    &.selected,
    &.normal-selected,
    &.pencil-selected {
      box-shadow: inset 0 0 0 3px white; /* 使用内阴影创建白色边框效果 */
    }
  }
  
  /* 小屏幕横屏模式下调整选中单元格的白色边框 */
  @media screen and (max-height: 768px) and (orientation: landscape) {
    &.selected,
    &.normal-selected,
    &.pencil-selected {
      box-shadow: inset 0 0 0 2.5px white; /* 调整白色边框宽度 */
    }
  }
  
  // 统一的字体大小设置，适用于所有屏幕尺寸
  font-size: calc(var(--board-width) * 0.08);
  min-height: 36px;
  
  // 仅调整非常大屏幕的字体大小以避免文字过大
  @media (min-width: 1200px) and (min-height: 900px) {
    font-size: calc(var(--board-width) * 0.075);
  }
  
  // 仅调整非常小屏幕的字体大小
  @media (max-width: 480px) {
    font-size: calc(var(--board-width) * 0.07);
  }
`,Kr=({notes:e=[],highlightedNumber:t=null,selected:n=!1,targetCandidateNumber:o=null,removableCandidates:r=[]})=>{const i=Array.isArray(e)?e:[],l=Array.isArray(r)?r:[],a={display:"flex",alignItems:"center",justifyContent:"center",fontSize:"calc(var(--board-width) * 0.025)",fontWeight:"500",color:n?"#ffffff":"#4A6FA5",padding:"1px"},s={backgroundColor:"#42a5f5",color:"white",borderRadius:"4px",fontWeight:"bold",width:"80%",height:"80%",margin:"auto",display:"flex",alignItems:"center",justifyContent:"center",padding:"0"},c={backgroundColor:"#4CAF50",color:"white",borderRadius:"50%",fontWeight:"bold",width:"80%",height:"80%",aspectRatio:"1",margin:"auto",display:"flex",alignItems:"center",justifyContent:"center",padding:"0"},d={backgroundColor:"#e74c3c",color:"white",borderRadius:"4px",fontWeight:"bold",width:"80%",height:"80%",margin:"auto",display:"flex",alignItems:"center",justifyContent:"center",padding:"0"};return v.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridTemplateRows:"1fr 1fr 1fr",width:"100%",height:"100%",boxSizing:"border-box"},children:[1,2,3,4,5,6,7,8,9].map(e=>{const n=(e-1)%3,r=Math.floor((e-1)/3),u=i.includes(e),h=t&&e===t,p=o&&e===o,f=l.includes(e);return v.jsx("div",{style:{...a,gridColumn:n+1,gridRow:r+1,paddingTop:0===r?"2px":"1px",paddingBottom:2===r?window.innerHeight>window.innerWidth?"3px":"2px":"1px",paddingLeft:0===n?"2px":"1px",paddingRight:2===n?"2px":"1px",...u&&f?d:u&&p?c:u&&h?s:{},opacity:u?1:0},children:u&&e},e)})})},Qr=({highlightedNumber:e=null})=>{if(!e||0===e||"error"===e)return null;return v.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:100},children:v.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"calc(var(--board-width) * 0.08)",fontWeight:"400",color:"#FFFFFF",zIndex:101},children:e})})},ei=({board:e,selectedCell:t,onCellClick:n,originalPuzzle:o,isPencilMode:r,pencilNotes:i,incorrectCells:l,highlightedCells:a})=>{const{theme:s}=ne(),c=e||Array(9).fill().map(()=>Array(9).fill(0)),d=o||Array(9).fill().map(()=>Array(9).fill(0)),u=i||{},h=l||new Set,p=(e,t)=>3*Math.floor(e/3)+Math.floor(t/3),f=(e,n,o)=>{const i=[];if(u[`${e}-${n}`],((e,t,n)=>!(!d||!d[t]||null===d[t][n]||0===d[t][n]))(0,e,n)&&i.push("prefilled"),((e=>"error"===e)(o)||((e,t)=>{const n=`${e}-${t}`;return h instanceof Set?h.has(n):!!Array.isArray(h)&&h.some(n=>n.row===e&&n.col===t)})(e,n))&&i.push("error"),!t&&a&&Array.isArray(a)){const t=a.find(t=>t.row===e&&t.col===n);if(t&&t.regionHighlight)i.push("same-region");else if(t)if(t.sameNumber)i.push("same-number");else{t.techniqueType&&("nakedSingle"===t.techniqueType||"notesSingle"===t.techniqueType||t.techniqueType.includes("hiddenSingle"))?i.push("highlighted"):i.push("advanced-technique-highlight")}}if(t&&t.row===e&&t.col===n)i.push("selected"),i.push(r?"pencil-selected":"normal-selected");else if(t){const r=c[t.row][t.col],l=`${t.row}-${t.col}`;u[l],o&&o===r&&i.push("same-number"),((e,t,n,o)=>e===n||t===o||p(e,t)===p(n,o))(e,n,t.row,t.col)&&i.push("same-region")}return i.join(" ")};return v.jsx(Jr,{theme:s,children:c.map((e,o)=>e.map((e,r)=>{const i=f(o,r,e),l=`${o}-${r}`,d=u[l]||[],h=d.length>0;let p=null,g=null,m=null,y=!1,x=[];if(a&&Array.isArray(a)&&a.length>0){const e=a.find(e=>e.row===o&&e.col===r);e&&e.isTarget&&e.targetNumber&&(m=e.targetNumber,y=!0,"notesSingle"===e.techniqueType&&(g=e.targetNumber));const t=a.find(e=>e.sameNumber);t&&t.number&&(p=t.number),e&&(x=e.removableCandidates||e.notesToRemove||e.alsXZCandidates&&e.alsXZCandidates.removableCandidates||e.sdcCandidates&&e.sdcCandidates.removableCandidates||e.uniquenessCandidates&&e.uniquenessCandidates.removableCandidates||[],Array.isArray(x)||(x=[]))}if(!y&&t&&void 0!==t.row&&void 0!==t.col&&c[t.row]&&c[t.row][t.col]){const e=c[t.row][t.col];0!==e&&"error"!==e&&(p=e)}const b=e=>((e,t,o)=>{o&&(o.stopPropagation(),"touchstart"===o.type&&o.preventDefault()),n&&n(e,t)})(o,r,e);return v.jsx(Vr,{$row:o,$col:r,className:i,onClick:b,onTouchStart:b,onMouseDown:b,style:{touchAction:"manipulation",userSelect:"none"},theme:s,children:e&&0!==e&&"error"!==e?e:v.jsxs(v.Fragment,{children:[h&&v.jsx(Kr,{notes:d,highlightedNumber:p,selected:t&&t.row===o&&t.col===r,targetCandidateNumber:g,removableCandidates:x}),m&&v.jsx(Qr,{highlightedNumber:m})]})},l)}))})},ti=Xn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
  backdrop-filter: blur(4px);
  animation: fadeIn 0.2s ease-out;
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
`,ni=Xn.div`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  border-radius: 12px;
  padding: 24px;
  max-width: 400px;
  width: 100%;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  font-family: inherit;
  border: 1px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  transform: translateY(0);
  animation: slideIn 0.3s ease-out;
  
  @keyframes slideIn {
    from { 
      opacity: 0;
      transform: translateY(-20px);
    }
    to { 
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  // 小屏幕适配
  @media (max-width: 576px) {
    padding: 20px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
  }
`,oi=Xn.h2`
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  margin: 0 0 16px 0;
  font-size: 20px;
  font-weight: 700;
  text-align: center;
`,ri=Xn.p`
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  margin: 0 0 24px 0;
  font-size: 16px;
  text-align: center;
  line-height: 1.5;
`,ii=Xn.div`
  display: flex;
  gap: 12px;
  justify-content: center;
  margin-top: 16px;
`,li=Xn.button`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  border: 2px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  padding: 12px 20px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  flex: 1;
  max-width: 120px;

  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.background)||"#f5f5f5"}};
  }
`,ai=Xn.button`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#3498db"}};
  color: white;
  border: 2px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#3498db"}};
  padding: 12px 20px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  flex: 1;
  max-width: 120px;

  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primaryDark)||"#2980b9"}};
  }
`,si=({isOpen:e,onClose:t,onConfirm:n,title:o,message:r,confirmText:i,cancelText:l})=>{const{theme:a}=ne(),{t:s}=le();if(!e)return null;return v.jsx(ti,{onClick:t,onKeyDown:e=>{"Escape"===e.key&&t()},children:v.jsxs(ni,{theme:a,onClick:e=>e.stopPropagation(),children:[v.jsx(oi,{theme:a,children:o}),v.jsx(ri,{theme:a,children:r}),v.jsxs(ii,{children:[v.jsx(li,{theme:a,onClick:t,children:l||s("cancel","取消")}),v.jsx(ai,{theme:a,onClick:()=>{n(),t()},children:i||s("confirm","确认")})]})]})})};const ci=new class{constructor(){this.currentStep=null,this.highlightedCells=new Map}setCurrentStep(e){this.currentStep=e,this.clearHighlights()}getCurrentStep(){return this.currentStep}highlightStep(e,t={}){if(!this.currentStep)return;const{primaryColor:n="rgba(255, 182, 193, 0.6)",secondaryColor:o="rgba(173, 216, 230, 0.6)",targetColor:r="rgba(144, 238, 144, 0.6)",valueColor:i="#FF69B4",noteColor:l="#FF0000"}=t;this.currentStep.als1&&Array.isArray(this.currentStep.als1.cells)&&this.currentStep.als1.cells.forEach(([t,o])=>{this._highlightCell(e,t,o,n,"als1")}),this.currentStep.als2&&Array.isArray(this.currentStep.als2.cells)&&this.currentStep.als2.cells.forEach(([t,n])=>{this._highlightCell(e,t,n,o,"als2")}),this.currentStep.targetCells&&Array.isArray(this.currentStep.targetCells)&&this.currentStep.targetCells.forEach(([t,n])=>{this.highlightedCells.has(`${t}-${n}`)||this._highlightCell(e,t,n,r,"target")}),void 0!==this.currentStep.x&&this._highlightValues(e,this.currentStep.x,i),this.currentStep.removableCandidates&&Array.isArray(this.currentStep.removableCandidates)&&this.currentStep.removableCandidates.forEach(t=>{this._highlightValues(e,t.value,l,!0)})}_highlightCell(e,t,n,o,r){const i=`.cell[row="${t}"][col="${n}"]`,l=e.querySelector(i);if(l){const e={backgroundColor:l.style.backgroundColor,borderColor:l.style.borderColor,borderWidth:l.style.borderWidth};this.highlightedCells.set(`${t}-${n}`,{element:l,originalStyle:e,type:r}),l.style.backgroundColor=o,l.style.borderColor="#000000",l.style.borderWidth="1px",l.style.borderStyle="solid"}}_highlightValues(e,t,n,o=!1){const r=`.cell .value[data-value="${t}"]`;e.querySelectorAll(r).forEach(e=>{const t=e.style.color,o=e.style.fontWeight;e.dataset.originalColor=t,e.dataset.originalFontWeight=o,e.style.color=n,e.style.fontWeight="bold",e.style.transition="all 0.3s ease"});const i=`.cell .notes .note[data-note="${t}"]`;e.querySelectorAll(i).forEach(e=>{const t=e.style.color,n=e.style.fontWeight,r=e.style.backgroundColor;e.dataset.originalColor=t,e.dataset.originalFontWeight=n,e.dataset.originalBackgroundColor=r,o?(e.style.backgroundColor="rgba(255, 0, 0, 0.8)",e.style.color="#FFFFFF",e.style.textDecoration="line-through"):(e.style.backgroundColor="rgba(255, 105, 180, 0.8)",e.style.color="#FFFFFF"),e.style.fontWeight="bold",e.style.transition="all 0.3s ease"})}clearHighlights(){this.highlightedCells.forEach(({element:e,originalStyle:t})=>{e.style.backgroundColor=t.backgroundColor||"",e.style.borderColor=t.borderColor||"",e.style.borderWidth=t.borderWidth||""});document.querySelectorAll(".cell .value").forEach(e=>{e.dataset.originalColor?(e.style.color=e.dataset.originalColor||"",e.style.fontWeight=e.dataset.originalFontWeight||"",delete e.dataset.originalColor,delete e.dataset.originalFontWeight):(e.style.color="",e.style.fontWeight="")});document.querySelectorAll(".cell .notes .note").forEach(e=>{e.dataset.originalColor?(e.style.color=e.dataset.originalColor||"",e.style.backgroundColor=e.dataset.originalBackgroundColor||"",e.style.fontWeight=e.dataset.originalFontWeight||"",e.style.textDecoration="",delete e.dataset.originalColor,delete e.dataset.originalBackgroundColor,delete e.dataset.originalFontWeight):(e.style.color="",e.style.backgroundColor="",e.style.fontWeight="",e.style.textDecoration="")}),this.highlightedCells.clear()}applyStep(e,t){if(!this.currentStep)return{success:!1,message:"没有可应用的步骤"};try{const e=[];return this.currentStep.removableCandidates&&Array.isArray(this.currentStep.removableCandidates)&&this.currentStep.removableCandidates.forEach(n=>{const{row:o,col:r,value:i}=n,l=`${o}-${r}`;if(t[l]){t[l];const n=t[l].indexOf(i);-1!==n&&(t[l].splice(n,1),e.push({cell:[o,r],note:i}),0===t[l].length&&delete t[l])}}),e.length>0?{success:!0,message:"已删除候选数",removedNotes:e,action:"removeCandidates"}:{success:!1,message:"没有需要删除的候选数"}}catch(n){return console.error("应用步骤失败:",n),{success:!1,message:`应用步骤失败: ${n.message}`}}}getStepDescription(e="zh"){if(!this.currentStep)return{title:"",description:""};const{x:t,z:n,message:o}=this.currentStep;return{title:"zh"===e?"ALS-XZ技巧":"ALS-XZ Rule",description:o||("zh"===e?`ALS-XZ技巧：X=${t}, Z=${n}`:`ALS-XZ Rule: X=${t}, Z=${n}`)}}getActionButtonText(e="zh"){return"zh"===e?"删除候选数":"Remove Candidates"}};const di=new class{constructor(){this.currentStep=null,this.highlightedCells=new Map}setCurrentStep(e){this.currentStep=e,this.clearHighlights()}getCurrentStep(){return this.currentStep}highlightStep(e,t={}){if(!this.currentStep)return;const{sdcColor:n="rgba(255, 215, 0, 0.6)",groupAColor:o="rgba(173, 216, 230, 0.6)",groupBColor:r="rgba(144, 238, 144, 0.6)",targetColor:i="rgba(255, 182, 193, 0.6)",sdcCandidateColor:l="#FFD700",noteColor:a="#FF0000"}=t;this.currentStep.sdcCells&&Array.isArray(this.currentStep.sdcCells)&&this.currentStep.sdcCells.forEach(([t,o])=>{this._highlightCell(e,t,o,n,"sdc")}),this.currentStep.groupA&&Array.isArray(this.currentStep.groupA.cells)&&this.currentStep.groupA.cells.forEach(([t,n])=>{this.highlightedCells.has(`${t}-${n}`)||this._highlightCell(e,t,n,o,"groupA")}),this.currentStep.groupB&&Array.isArray(this.currentStep.groupB.cells)&&this.currentStep.groupB.cells.forEach(([t,n])=>{this.highlightedCells.has(`${t}-${n}`)||this._highlightCell(e,t,n,r,"groupB")}),this.currentStep.targetCells&&Array.isArray(this.currentStep.targetCells)&&this.currentStep.targetCells.forEach(([t,n])=>{const o=`${t}-${n}`;if(this.highlightedCells.has(o)){const e=this.highlightedCells.get(o);e.element.style.borderColor="#FF0000",e.element.style.borderWidth="2px"}else this._highlightCell(e,t,n,i,"target")}),this.currentStep.sdcCandidates&&Array.isArray(this.currentStep.sdcCandidates)&&this.currentStep.sdcCandidates.forEach(t=>{this._highlightSDCCandidate(e,t,l)}),this.currentStep.removableCandidates&&Array.isArray(this.currentStep.removableCandidates)&&this.currentStep.removableCandidates.forEach(t=>{this._highlightRemovableCandidate(e,t.row,t.col,t.value,a)})}_highlightCell(e,t,n,o,r){const i=`.cell[row="${t}"][col="${n}"]`,l=e.querySelector(i);if(l){const e={backgroundColor:l.style.backgroundColor,borderColor:l.style.borderColor,borderWidth:l.style.borderWidth};this.highlightedCells.set(`${t}-${n}`,{element:l,originalStyle:e,type:r}),l.style.backgroundColor=o,l.style.borderColor="#000000",l.style.borderWidth="1px",l.style.borderStyle="solid",l.style.transition="all 0.3s ease"}}_highlightSDCCandidate(e,t,n){this.currentStep.sdcCells&&this.currentStep.sdcCells.forEach(([n,o])=>{const r=`.cell[row="${n}"][col="${o}"] .notes .note[data-note="${t}"]`,i=e.querySelector(r);if(i){const e=i.style.color,t=i.style.fontWeight,n=i.style.backgroundColor;i.dataset.originalColor=e,i.dataset.originalFontWeight=t,i.dataset.originalBackgroundColor=n,i.style.backgroundColor="rgba(255, 215, 0, 0.8)",i.style.color="#FFFFFF",i.style.fontWeight="bold",i.style.transition="all 0.3s ease"}})}_highlightRemovableCandidate(e,t,n,o,r){const i=`.cell[row="${t}"][col="${n}"] .notes .note[data-note="${o}"]`,l=e.querySelector(i);if(l){const e=l.style.color,t=l.style.fontWeight,n=l.style.backgroundColor;l.dataset.originalColor=e,l.dataset.originalFontWeight=t,l.dataset.originalBackgroundColor=n,l.style.backgroundColor="rgba(255, 0, 0, 0.8)",l.style.color="#FFFFFF",l.style.textDecoration="line-through",l.style.fontWeight="bold",l.style.transition="all 0.3s ease"}}clearHighlights(){this.highlightedCells.forEach(({element:e,originalStyle:t})=>{e.style.backgroundColor=t.backgroundColor||"",e.style.borderColor=t.borderColor||"",e.style.borderWidth=t.borderWidth||""}),this.highlightedCells.clear();document.querySelectorAll(".cell .notes .note").forEach(e=>{void 0!==e.dataset.originalColor?(e.style.color=e.dataset.originalColor||"",e.style.fontWeight=e.dataset.originalFontWeight||"",e.style.backgroundColor=e.dataset.originalBackgroundColor||"",e.style.textDecoration="",delete e.dataset.originalColor,delete e.dataset.originalFontWeight,delete e.dataset.originalBackgroundColor):(e.style.color="",e.style.fontWeight="",e.style.backgroundColor="",e.style.textDecoration="")})}generateHintMessage(e="zh"){if(!this.currentStep)return"";const t="row"===this.currentStep.lineType?"zh"===e?"行":"row":"zh"===e?"列":"column",n=this.currentStep.lineIndex+1,o=this.currentStep.boxIndex+1,r=this.currentStep.sdcCandidates.join(","),i=this.currentStep.removableCandidates.length;if("zh"===e){let e="Sue De Coq技巧",l=`在第${o}宫的第${n}${t}中，候选数${r}形成SDC模式。`,a=`可以从${i}个单元格中删除相关候选数。`;return this.currentStep.onlyInA&&this.currentStep.onlyInA.length>0&&(l+=`\n候选数${this.currentStep.onlyInA.join(",")}只能在组A（${t}的其他宫）中出现。`),this.currentStep.onlyInB&&this.currentStep.onlyInB.length>0&&(l+=`\n候选数${this.currentStep.onlyInB.join(",")}只能在组B（宫的其他${t}）中出现。`),`${e}\n${l}\n${a}`}{let e="Sue De Coq Rule",l=`In box ${o}, ${t} ${n}, candidates ${r} form an SDC pattern.`,a=`Can eliminate candidates from ${i} cells.`;return this.currentStep.onlyInA&&this.currentStep.onlyInA.length>0&&(l+=`\nCandidates ${this.currentStep.onlyInA.join(",")} can only appear in Group A (other boxes in the ${t}).`),this.currentStep.onlyInB&&this.currentStep.onlyInB.length>0&&(l+=`\nCandidates ${this.currentStep.onlyInB.join(",")} can only appear in Group B (other ${t}s in the box).`),`${e}\n${l}\n${a}`}}applyCurrentStep(e){if(!this.currentStep)return e;const t={...e};return this.currentStep.removableCandidates.forEach(({row:e,col:n,value:o})=>{const r=`${e}-${n}`;t[r]&&(t[r]=t[r].filter(e=>e!==o))}),t}},ui=()=>v.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:[v.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",stroke:"white",strokeWidth:"1.5",fill:"transparent"}),v.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",stroke:"white",strokeWidth:"1",strokeDasharray:"1"}),v.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12",stroke:"white",strokeWidth:"1",strokeDasharray:"1"}),v.jsx("text",{x:"7",y:"10",fontSize:"6",fontWeight:"bold",fill:"white",children:"2"}),v.jsx("text",{x:"15",y:"18",fontSize:"6",fontWeight:"bold",fill:"white",children:"5"})]}),hi=({onNumberSelect:t,onClearCell:n,onUndo:o,togglePencilMode:r,fillAllCandidates:i,calculateTechniques:l,selectedNumber:a,isPencilMode:s,remainingNumbers:c={}})=>{const d=()=>window.innerHeight>window.innerWidth,[u,h]=e.useState(d());e.useEffect(()=>{const e=()=>{h(d())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),ne();const{t:p}=le(),{mode:f}=e.useContext(de),[g,m]=e.useState("keyboard"),[y,x]=e.useState(null),[b,w]=e.useState(0),C=Tr(),{identifyTechniques:S,applyTechniqueToBoard:k,gameStarted:$,currentBoard:T,setHighlightedCells:A,setSelectedCell:z,selectedCell:j,pencilNotes:P,areCandidatesComplete:E}=C||{},q=e.useCallback(()=>{m("keyboard"),A&&A([]),ci.clearHighlights(),di.clearHighlights(),x(null),w(0)},[A]);e.useEffect(()=>{j&&q()},[j,q]);const[I,R]=e.useState([]),[N,M]=e.useState([]),[W,D]=e.useState(!1),[F,L]=e.useState({title:"",message:"",onConfirm:()=>{}});e.useEffect(()=>{m("keyboard"),x(null),M([]),R([]),w(0),A&&A([])},[$,T]),e.useEffect(()=>{"learning"!==f&&(m("keyboard"),x(null),M([]),R([]),w(0),A&&A([]))},[f]);const B=e.useCallback(()=>{if(S&&T)try{const e=S();R(e||[])}catch(e){console.error("查找技巧失败:",e),R([])}else R([])},[S,T]);e.useEffect(()=>{"techniques"===g&&$&&T&&B()},[g,B,$,T]),e.useEffect(()=>{R([])},[$]);return v.jsxs("div",{className:"control-panel",style:{backgroundColor:"#ffffff",borderRadius:"var(--border-radius, 8px)",padding:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.12)",display:"flex",flexDirection:"column",fontFamily:"Arial, Microsoft YaHei, sans-serif",margin:0,boxSizing:"border-box",border:"1px solid #e0e0e0",position:"relative",height:u?"auto":"var(--board-width)",maxHeight:u?"400px":"var(--board-width)",minHeight:u?"200px":"var(--board-width)",overflow:"hidden",outline:"none",WebkitTapHighlightColor:"transparent"},children:[v.jsx("h3",{style:{display:"none"},children:"控制面板"}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1,margin:0,minHeight:0,overflow:"hidden"},children:[v.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e0e0e0",marginBottom:"8px",paddingBottom:0},children:[v.jsx("button",{style:{flex:1,padding:"4px 8px",backgroundColor:"keyboard"===g?"#3498db15":"transparent",border:"none",borderRadius:"4px 4px 0 0",color:"keyboard"===g?"#3498db":"#7f8c8d",cursor:"pointer",outline:"none",WebkitTapHighlightColor:"transparent",transition:"background-color 0.3s, color 0.3s"},onClick:()=>{m("keyboard"),z&&z(null)},children:p("keyboard")}),"learning"===f&&v.jsx("button",{style:{flex:1,padding:"4px 8px",backgroundColor:"techniques"===g?"#3498db15":"transparent",border:"none",borderRadius:"4px 4px 0 0",color:"techniques"===g?"#3498db":"#7f8c8d",cursor:"pointer",outline:"none",WebkitTapHighlightColor:"transparent",transition:"background-color 0.3s, color 0.3s"},onClick:()=>{m("techniques"),z&&z(null)},children:p("techniques")}),"learning"===f&&v.jsx("button",{style:{flex:1,padding:"4px 8px",backgroundColor:"solution"===g?"#3498db15":"transparent",border:"none",borderRadius:"6px 6px 0 0",fontSize:"14px",fontWeight:"solution"===g?"700":"500",color:"solution"===g?"#3498db":"#7f8c8d",cursor:"pointer",margin:"0 2px",boxSizing:"border-box",minHeight:"32px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},onClick:()=>{m("solution"),z&&z(null),s&&r&&r()},children:p("solutionTab")})]}),v.jsxs("div",{style:{flex:1,padding:"4px 0",overflow:"visible",position:"relative",display:"flex",flexDirection:"column",minHeight:0},children:["keyboard"===g&&v.jsx(v.Fragment,{children:window.innerWidth<=768?v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"4px",marginBottom:"8px",padding:"0 2px"},children:[1,2,3,4,5,6].map(e=>{const n=c.hasOwnProperty(e)?c[e]:9,o=0===n;return v.jsxs("button",{className:"number-button",disabled:o,onClick:n=>{n.stopPropagation(),!o&&t(e)},style:{position:"relative",backgroundColor:a===e||s?"#3498db":"#ffffff",color:a===e||s?"white":"#3498db",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"8px",fontFamily:"Arial, sans-serif",fontWeight:"600",lineHeight:"1.2",cursor:o?"not-allowed":"pointer",boxSizing:"border-box",width:"100%",aspectRatio:"1",minHeight:"60px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[v.jsx("span",{style:{fontSize:"clamp(40px, 12vw, 80px)",fontWeight:"400",lineHeight:"1",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",width:"100%",height:"100%",boxSizing:"border-box"},children:e}),v.jsx("span",{style:{position:"absolute",top:"2px",right:"2px",backgroundColor:"transparent",color:a===e||s?"white":"#3498db",fontSize:"14px",fontWeight:"bold",padding:"1px 4px",borderRadius:"8px",minWidth:"16px",textAlign:"center",display:s||0===n?"none":"inline-block"},children:n})]},e)})}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"4px",padding:"0 2px"},children:[[7,8,9].map(e=>{const n=c.hasOwnProperty(e)?c[e]:9,o=0===n;return v.jsxs("button",{className:"number-button",disabled:o,onClick:n=>{n.stopPropagation(),!o&&t(e)},style:{position:"relative",backgroundColor:a===e||s?"#3498db":"#ffffff",color:a===e||s?"white":"#3498db",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"8px",fontFamily:"Arial, sans-serif",fontWeight:"600",lineHeight:"1.2",cursor:o?"not-allowed":"pointer",boxSizing:"border-box",width:"100%",aspectRatio:"1",minHeight:"60px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[v.jsx("span",{style:{fontSize:"clamp(40px, 12vw, 80px)",fontWeight:"400",lineHeight:"1",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",width:"100%",height:"100%",boxSizing:"border-box"},children:e}),v.jsx("span",{style:{position:"absolute",top:"2px",right:"2px",backgroundColor:"transparent",color:a===e||s?"white":"#3498db",fontSize:"14px",fontWeight:"bold",padding:"1px 4px",borderRadius:"8px",minWidth:"16px",textAlign:"center",display:s||0===n?"none":"inline-block"},children:n})]},e)}),v.jsx("button",{onClick:e=>{e.stopPropagation(),o()},title:p("undoAction"),style:{position:"relative",backgroundColor:"#ffffff",color:"#3498db",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"8px",fontSize:"60px !important",fontFamily:"Arial, sans-serif",fontWeight:"600",lineHeight:"1.2",cursor:"pointer",boxSizing:"border-box",width:"100%",aspectRatio:"1",minHeight:"60px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M3 7v6h6"}),v.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]})},"undo"),v.jsx("button",{onClick:e=>{e.stopPropagation(),j?n():alert("请先选择一个单元格")},title:p("clearCell"),style:{position:"relative",backgroundColor:"#ff4444",color:"white",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"8px",fontSize:"24px",fontFamily:"Arial, sans-serif",fontWeight:"600",lineHeight:"1.2",cursor:"pointer",boxSizing:"border-box",width:"100%",aspectRatio:"1",minHeight:"60px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:v.jsxs("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M3 6h18"}),v.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),v.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),v.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),v.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})},"clear"),v.jsx("button",{onClick:e=>{e.stopPropagation(),r()},title:p(s?"exitPencilMode":"enterPencilMode"),style:{position:"relative",backgroundColor:s?"#3498db":"#ffffff",color:s?"white":"#3498db",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"8px",fontSize:"24px",fontFamily:"Arial, sans-serif",fontWeight:"600",lineHeight:"1.2",cursor:"pointer",boxSizing:"border-box",width:"100%",aspectRatio:"1",minHeight:"60px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"})})},"pencil")]})]}):v.jsxs("div",{className:"number-pad",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"6px",width:"100%",maxHeight:"100%",overflow:"visible",padding:"4px",boxSizing:"border-box",marginTop:"-10px"},children:[[1,2,3,4,5,6,7,8,9].map(e=>{const n=c.hasOwnProperty(e)?c[e]:9,o=0===n;return v.jsxs("button",{className:"number-button",disabled:o,onClick:n=>{n.stopPropagation(),!o&&t(e)},style:{position:"relative",backgroundColor:a===e||s?"#3498db":"#ffffff",color:a===e||s?"white":"#3498db",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"12px",fontFamily:"Arial, sans-serif",fontWeight:"400",lineHeight:"1",cursor:o?"not-allowed":"pointer",boxSizing:"border-box",width:"100%",aspectRatio:"1",minHeight:"60px",maxHeight:"150px",overflow:"visible",fontSize:"0",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:[v.jsx("span",{style:{fontSize:"clamp(30px, 8vw, 70px)",fontWeight:"400",lineHeight:"1",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",width:"100%",height:"100%",boxSizing:"border-box"},children:e}),v.jsx("span",{style:{position:"absolute",top:"4px",right:"4px",backgroundColor:"transparent",color:a===e||s?"white":"#3498db",fontSize:"16px",fontWeight:"bold",padding:"2px 6px",borderRadius:"10px",minWidth:"20px",textAlign:"center",display:s||0===n?"none":"inline-block"},children:n})]},e)}),v.jsx("button",{onClick:e=>{e.stopPropagation(),o()},title:p("undoAction"),style:{position:"relative",backgroundColor:"#ffffff",color:"#3498db",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"12px",fontFamily:"Arial, sans-serif",fontWeight:"600",lineHeight:"1.2",cursor:"pointer",boxSizing:"border-box",width:"100%",aspectRatio:"1",minHeight:"60px",maxHeight:"150px",overflow:"visible",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60%",height:"60%",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M3 7v6h6"}),v.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]})},"undo"),v.jsx("button",{onClick:e=>{e.stopPropagation(),j?n():alert("请先选择一个单元格")},title:p("clearCell"),style:{position:"relative",backgroundColor:"#ff4444",color:"white",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"12px",fontFamily:"Arial, sans-serif",fontWeight:"600",lineHeight:"1.2",cursor:"pointer",boxSizing:"border-box",width:"100%",aspectRatio:"1",minHeight:"60px",maxHeight:"150px",overflow:"visible",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:v.jsxs("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",width:"60%",height:"60%",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M3 6h18"}),v.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),v.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),v.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),v.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})},"clear"),v.jsx("button",{onClick:e=>{e.stopPropagation(),r()},title:p(s?"exitPencilMode":"enterPencilMode"),style:{position:"relative",backgroundColor:s?"#3498db":"#ffffff",color:s?"white":"#3498db",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"12px",fontFamily:"Arial, sans-serif",fontWeight:"600",lineHeight:"1.2",cursor:"pointer",boxSizing:"border-box",width:"100%",aspectRatio:"1",minHeight:"60px",maxHeight:"150px",overflow:"visible",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60%",height:"60%",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"})})},"pencil")]})}),"techniques"===g&&"learning"===f&&v.jsxs("div",{style:{overflowY:"auto",padding:"4px 8px 8px 8px"},children:[0===I.length?v.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#7f8c8d",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:p("noTechniquesAvailable")}):v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px",marginBottom:"12px"},children:I.map((e,t)=>{let n="",o="";if("number"==typeof e.row&&"number"==typeof e.col){n=`(${e.row+1},${e.col+1})`,o=void 0!==e.value?` ${p("number")}: ${e.value}`:""}else if(Array.isArray(e.cells)&&e.cells.length>0){if(1===e.cells.length&&Array.isArray(e.cells[0])){n=`(${e.cells[0][0]+1},${e.cells[0][1]+1})`}else n=p("multipleCells");Array.isArray(e.values)&&e.values.length>0&&(o=` ${p("number")}: [${e.values.join(",")}]`)}else if(e.type.includes("pointingPairs")&&Array.isArray(e.sourceCells)&&e.sourceCells.length>0){if(e.sourceCells.length>0){const t=e.sourceCells[0];if(Array.isArray(t)&&t.length>=2){n=`(${t[0]+1},${t[1]+1})`}else if(t&&"object"==typeof t){n=`(${(void 0!==t.row?t.row:t[0])+1},${(void 0!==t.col?t.col:t[1])+1})`}else n=p("multipleCells")}else n=p("multipleCells");void 0!==e.number&&(o=` ${p("number")}: ${e.number}`)}else if(e.type.includes("pointingPairs")){if(void 0!==e.boxRow&&void 0!==e.boxCol){const t=3*e.boxRow+e.boxCol+1;n=`${p("box")} ${t}`}else n=p("multipleCells");void 0!==e.number&&(o=` ${p("number")}: ${e.number}`)}else if(e.type.includes("boxLineReduction")&&Array.isArray(e.sourceCells)&&e.sourceCells.length>0){if(e.sourceCells.length>0){const t=e.sourceCells[0];if(Array.isArray(t)&&t.length>=2){n=`(${t[0]+1},${t[1]+1})`}else if(t&&"object"==typeof t){n=`(${(void 0!==t.row?t.row:t[0])+1},${(void 0!==t.col?t.col:t[1])+1})`}else n=p("multipleCells")}else n=p("multipleCells");void 0!==e.number&&(o=` ${p("number")}: ${e.number}`)}else if(e.type.includes("boxLineReduction")){if(void 0!==e.boxRow&&void 0!==e.boxCol){const t=3*e.boxRow+e.boxCol+1;n=`${p("box")} ${t}`}else n=p("multipleCells");void 0!==e.number&&(o=` ${p("number")}: ${e.number}`)}else n=p("unknownPosition");let r="",i="";const l=["X-Wing","Y-Wing","XY-Wing","XYZ-Wing","Swordfish","Jellyfish"];if("nakedSingle"===e.type||"naked_single"===e.type)r=p("nakedSingleTechnique");else if("notesSingle"===e.type||"singleCandidateTechnique"===e.type)r=p("notesSingleTechnique");else if(e.type.includes("hidden_single")||e.type.includes("hiddenSingle"))e.type.includes("row")||e.type.includes("Row")?r=p("hiddenSingleRow"):e.type.includes("col")||e.type.includes("Col")?r=p("hiddenSingleCol"):(e.type.includes("box")||e.type.includes("Box"))&&(r=p("hiddenSingleBox")),i="";else if("nakedPairs"===e.type||"naked_pairs"===e.type||e.type.includes("nakedPair"))r=p("nakedPairTechnique"),e.type.includes("Row")?i=p("rowSuffix"):e.type.includes("Col")?i=p("colSuffix"):e.type.includes("Box")&&(i=p("boxSuffix"));else if("hiddenPairs"===e.type||"hidden_pairs"===e.type||e.type.includes("hiddenPair"))r=p("hiddenPairTechnique"),e.type.includes("Row")?i=p("rowSuffix"):e.type.includes("Col")?i=p("colSuffix"):e.type.includes("Box")&&(i=p("boxSuffix"));else if(e.type.includes("nakedTriple"))r=p("nakedTripleTechnique"),e.type.includes("Row")?i=p("rowSuffix"):e.type.includes("Col")?i=p("colSuffix"):e.type.includes("Box")&&(i=p("boxSuffix"));else if(e.type.includes("hiddenTriple"))r=p("hiddenTripleTechnique"),e.type.includes("Row")?i=p("rowSuffix"):e.type.includes("Col")?i=p("colSuffix"):e.type.includes("Box")&&(i=p("boxSuffix"));else if(e.type.includes("pointingPairs"))r=p("pointingPairsTechnique"),e.type.includes("Row")?i=p("rowSuffix"):e.type.includes("Col")&&(i=p("colSuffix"));else if(e.type.includes("boxLineReduction"))r=p("boxLineReductionTechnique"),e.type.includes("Row")?i=p("rowSuffix"):e.type.includes("Col")&&(i=p("colSuffix"));else if(e.type.includes("xWing")||e.type.includes("x-wing"))r="X-Wing",e.type.includes("Row")?i=p("rowSuffix"):e.type.includes("Col")&&(i=p("colSuffix"));else if(e.type.includes("yWing")||e.type.includes("y-wing"))r="Y-Wing",i="";else if(e.type.includes("xyWing")||e.type.includes("xy-wing"))r="XY-Wing",i="";else if(e.type.includes("xyzWing")||e.type.includes("xyz-wing"))r="XYZ-Wing",i="";else if(e.type.includes("swordfish"))r="Swordfish",e.type.includes("Row")?i=p("rowSuffix"):e.type.includes("Col")&&(i=p("colSuffix"));else if(e.type.includes("jellyfish"))r="Jellyfish",e.type.includes("Row")?i=p("rowSuffix"):e.type.includes("Col")&&(i=p("colSuffix"));else if(e.type.includes("alsXZ")||e.type.includes("ALS-XZ"))r=p("alsXZTechnique"),i="";else if("sdc"===e.type||e.type.includes("Sue De Coq"))r=p("sdc"),i="";else if(e.type.includes("uniqueness")||e.type.includes("Unique Rectangle")||e.type.includes("Avoidable Rectangle")||e.type.includes("BUG"))r=e.type.includes("avoidable_rectangle_1")||e.type.includes("Avoidable Rectangle Type 1")?p("avoidableRectangleTechnique")+" "+p("type1"):e.type.includes("avoidable_rectangle_2")||e.type.includes("Avoidable Rectangle Type 2")?p("avoidableRectangleTechnique")+" "+p("type2"):e.type.includes("bug_plus_1")||e.type.includes("BUG+1")?p("uniquenessTechnique")+" BUG+1":e.type.includes("uniqueness_1")||e.type.includes("Unique Rectangle Type 1")?p("uniquenessTechnique")+" "+p("type1"):p("uniquenessTechnique"),i="";else{let t=!1;for(const n of l)if(e.description&&e.description.includes(n)){r=n,t=!0;break}t||(r=p("unknownTechnique"))}const a=r+(i?` ${i}`:"");return v.jsx("div",{onClick:()=>(e=>{ci.clearHighlights(),di.clearHighlights(),A&&A([]),x(e);const t=[],n="number"==typeof e.row&&"number"==typeof e.col,o=n?e.row:0,r=n?e.col:0,i=n?`(${o+1},${r+1})`:p("multipleCells");let l="";if(e&&(l=e.value||"",l||void 0===e.number||(l=e.number),!l&&e.result&&e.result.value&&(l=e.result.value),!l&&e.cells&&Array.isArray(e.cells)&&e.cells.length>0)){const t=e.cells[0];t&&t.value&&(l=t.value)}if("nakedSingle"===e.type)t.push({step:1,description:p("findSingleCandidateCell"),highlight:""},{step:2,description:p("cellOnlyHasSingleCandidate").replace("{position}",i).replace("{value}",l),highlight:i},{step:3,description:p("fillNumber").replace("{value}",l),highlight:i});else if(e.type.includes("hiddenSingle")){const a=e.type.includes("Row")?p("row"):e.type.includes("Col")?p("col"):p("box");let s=0;if(n)s=e.type.includes("Row")?o+1:e.type.includes("Col")?r+1:3*Math.floor(o/3)+Math.floor(r/3)+1;else if(void 0!==e.row&&a===p("row"))s=e.row+1;else if(void 0!==e.col&&a===p("col"))s=e.col+1;else if(e.cells&&Array.isArray(e.cells)&&e.cells.length>0){const t=e.cells[0];Array.isArray(t)?a===p("col")&&"number"==typeof t[1]?s=t[1]+1:"number"==typeof t[0]&&(s=t[0]+1):t&&(a===p("col")&&void 0!==t.col?s=t.col+1:void 0!==t.row&&(s=t.row+1))}t.push({step:1,description:p("findHiddenSingleInRegion").replace("{regionType}",a).replace("{regionNum}",s),highlight:""},{step:2,description:p("numberOnlyInPosition").replace("{value}",l).replace("{regionType}",a).replace("{regionNum}",s).replace("{position}",i),highlight:i},{step:3,description:p("fillNumber").replace("{value}",l),highlight:i})}else if(e.type.includes("NakedPairs")||e.type.includes("nakedPairs")||e.type.includes("nakedPair")){const l=e.type.includes("Row")?p("row"):e.type.includes("Col")?p("col"):p("box");let a=0;if(n)a=e.type.includes("Row")?o+1:e.type.includes("Col")?r+1:3*Math.floor(o/3)+Math.floor(r/3)+1;else if(void 0!==e.row&&l===p("row"))a=e.row+1;else if(void 0!==e.col&&l===p("col"))a=e.col+1;else if(e.cells&&Array.isArray(e.cells)&&e.cells.length>0){const t=e.cells[0];Array.isArray(t)?l===p("col")&&"number"==typeof t[1]?a=t[1]+1:"number"==typeof t[0]&&(a=t[0]+1):t&&(l===p("col")&&void 0!==t.col?a=t.col+1:void 0!==t.row&&(a=t.row+1))}const s=Array.isArray(e.values)?e.values.join(","):"数对",c=e.cells&&Array.isArray(e.cells)?e.cells.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):i,d=[];if(l===p("row")&&a>0)for(let t=0;t<9;t++){const n=e.cells.some(e=>Array.isArray(e)&&e[0]===a-1&&e[1]===t||void 0!==e.row&&e.row===a-1&&e.col===t),o=T&&T[a-1]&&T[a-1][t]>0;n||o||d.push([a-1,t])}else if(l===p("col")&&a>0)for(let t=0;t<9;t++){const n=e.cells.some(e=>Array.isArray(e)&&e[0]===t&&e[1]===a-1||void 0!==e.row&&e.row===t&&e.col===a-1),o=T&&T[t]&&T[t][a-1]>0;n||o||d.push([t,a-1])}else if(l===p("box")&&a>0){const t=3*Math.floor((a-1)/3),n=(a-1)%3*3;for(let o=0;o<3;o++)for(let r=0;r<3;r++){const i=t+o,l=n+r,a=e.cells.some(e=>Array.isArray(e)&&e[0]===i&&e[1]===l||void 0!==e.row&&e.row===i&&e.col===l),s=T&&T[i]&&T[i][l]>0;a||s||d.push([i,l])}}const u=d.length>0?d.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells");t.push({step:1,description:`在${l}${a}中查找数对`,highlight:""},{step:2,description:p("foundNakedPair",{numbers:s,cells:c}),highlight:i},{step:3,description:p("removeCandidatesFromTargets",{numbers:s,targets:u}),highlight:i})}else if(e.type.includes("HiddenPairs")||e.type.includes("hiddenPairs")||e.type.includes("hiddenPair")){const l=e.type.includes("Row")?p("row"):e.type.includes("Col")?p("col"):p("box");let a=0;if(n)a=e.type.includes("Row")?o+1:e.type.includes("Col")?r+1:3*Math.floor(o/3)+Math.floor(r/3)+1;else if(void 0!==e.row&&l===p("row"))a=e.row+1;else if(void 0!==e.col&&l===p("col"))a=e.col+1;else if(e.cells&&Array.isArray(e.cells)&&e.cells.length>0){const t=e.cells[0];Array.isArray(t)?l===p("col")&&"number"==typeof t[1]?a=t[1]+1:l===p("box")&&"number"==typeof t[0]&&"number"==typeof t[1]?a=3*Math.floor(t[0]/3)+Math.floor(t[1]/3)+1:"number"==typeof t[0]&&(a=t[0]+1):t&&(l===p("col")&&void 0!==t.col?a=t.col+1:l===p("box")&&void 0!==t.row&&void 0!==t.col?a=3*Math.floor(t.row/3)+Math.floor(t.col/3)+1:void 0!==t.row&&(a=t.row+1))}const s=Array.isArray(e.values)?e.values.join(","):"数对",c=e.cells&&Array.isArray(e.cells)?e.cells.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):i;t.push({step:1,description:p("findHiddenPairInRegion",{regionType:l,regionNum:a}),highlight:""},{step:2,description:p("foundNumbersOnlyInCells",{numbers:s,cells:c}),highlight:i},{step:3,description:p("removeOtherCandidates",{cells:c,numbers:s}),highlight:i})}else if(e.type.includes("nakedTriple")){const l=e.type.includes("Row")?p("row"):e.type.includes("Col")?p("col"):p("box");let a=0;if(n)a=e.type.includes("Row")?o+1:e.type.includes("Col")?r+1:3*Math.floor(o/3)+Math.floor(r/3)+1;else if(void 0!==e.row&&l===p("row"))a=e.row+1;else if(void 0!==e.col&&l===p("col"))a=e.col+1;else if(e.cells&&Array.isArray(e.cells)&&e.cells.length>0){const t=e.cells[0];Array.isArray(t)?l===p("col")&&"number"==typeof t[1]?a=t[1]+1:"number"==typeof t[0]&&(a=t[0]+1):t&&(l===p("col")&&void 0!==t.col?a=t.col+1:void 0!==t.row&&(a=t.row+1))}const s=Array.isArray(e.values)?e.values.join(","):"三链数",c=e.cells&&Array.isArray(e.cells)?e.cells.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):i,d=[];if(l===p("row")&&a>0)for(let t=0;t<9;t++){const n=e.cells.some(e=>Array.isArray(e)&&e[0]===a-1&&e[1]===t||void 0!==e.row&&e.row===a-1&&e.col===t),o=T&&T[a-1]&&T[a-1][t]>0;n||o||d.push([a-1,t])}else if(l===p("col")&&a>0)for(let t=0;t<9;t++){const n=e.cells.some(e=>Array.isArray(e)&&e[0]===t&&e[1]===a-1||void 0!==e.row&&e.row===t&&e.col===a-1),o=T&&T[t]&&T[t][a-1]>0;n||o||d.push([t,a-1])}else if(l===p("box")&&a>0){const t=3*Math.floor((a-1)/3),n=(a-1)%3*3;for(let o=0;o<3;o++)for(let r=0;r<3;r++){const i=t+o,l=n+r,a=e.cells.some(e=>Array.isArray(e)&&e[0]===i&&e[1]===l||void 0!==e.row&&e.row===i&&e.col===l),s=T&&T[i]&&T[i][l]>0;a||s||d.push([i,l])}}const u=d.length>0?d.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells");t.push({step:1,description:`在${l}${a}中查找三链数`,highlight:""},{step:2,description:p("foundNakedTriple",{numbers:s,cells:c}),highlight:i},{step:3,description:p("removeCandidatesFromTargets",{numbers:s,targets:u}),highlight:i})}else if(e.type.includes("HiddenTriples")||e.type.includes("hiddenTriples")||e.type.includes("hiddenTriple")){const l=e.type.includes("Row")?p("row"):e.type.includes("Col")?p("col"):p("box");let a=0;if(n)a=e.type.includes("Row")?o+1:e.type.includes("Col")?r+1:3*Math.floor(o/3)+Math.floor(r/3)+1;else if(void 0!==e.row&&l===p("row"))a=e.row+1;else if(void 0!==e.col&&l===p("col"))a=e.col+1;else if(e.cells&&Array.isArray(e.cells)&&e.cells.length>0){const t=e.cells[0];Array.isArray(t)?l===p("col")&&"number"==typeof t[1]?a=t[1]+1:l===p("box")&&"number"==typeof t[0]&&"number"==typeof t[1]?a=3*Math.floor(t[0]/3)+Math.floor(t[1]/3)+1:"number"==typeof t[0]&&(a=t[0]+1):t&&(l===p("col")&&void 0!==t.col?a=t.col+1:l===p("box")&&void 0!==t.row&&void 0!==t.col?a=3*Math.floor(t.row/3)+Math.floor(t.col/3)+1:void 0!==t.row&&(a=t.row+1))}const s=Array.isArray(e.values)?e.values.join(","):"三链数",c=e.cells&&Array.isArray(e.cells)?e.cells.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):i;t.push({step:1,description:p("findHiddenTripleInRegion",{regionType:l,regionNum:a}),highlight:""},{step:2,description:p("foundNumbersOnlyInCells",{numbers:s,cells:c}),highlight:i},{step:3,description:p("removeOtherCandidates",{cells:c,numbers:s}),highlight:i})}else if(e.type.includes("uniqueness_type1")||e.type.includes("uniqueness_1")){const n=e.cells&&Array.isArray(e.cells)?e.cells:[],o=e.basePair&&Array.isArray(e.basePair)?e.basePair:[],r=e.withExtra&&Array.isArray(e.withExtra)?e.withExtra:[],l=e.withoutExtra&&Array.isArray(e.withoutExtra)?e.withoutExtra:[],a=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells:[],s=e.totalCount||0,c=n.length>0?n.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells");o.length>0?o.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells");const d=r.length>0?r.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells"),u=l.length>0?l.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells"),h=a.length>0?a.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells");t.push({step:1,description:p("arType1IdentifyPattern",{arCells:c,basePair:o}),highlight:""},{step:2,description:p("arType1IdentifyExtra",{cellsWithExtra:d}),highlight:i},{step:3,description:p("arType1IdentifyNoExtra",{cellsWithoutExtra:u}),highlight:i},{step:4,description:p("arType1Eliminate",{targetCells:h,totalCount:s}),highlight:i})}else if(e.type.includes("uniqueness_avoidable_rectangle_1")){const n=e.cells&&Array.isArray(e.cells)?e.cells:[],o=e.basePair&&Array.isArray(e.basePair)?e.basePair:[],r=e.withExtra&&Array.isArray(e.withExtra)?e.withExtra:[],l=e.withoutExtra&&Array.isArray(e.withoutExtra)?e.withoutExtra:[],a=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells:[],s=e.totalCount||0,c=n.length>0?n.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells");o.length>0?o.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells");const d=r.length>0?r.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells"),u=l.length>0?l.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells"),h=a.length>0?a.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells");t.push({step:1,description:p("arType1IdentifyPattern",{arCells:c,basePair:o}),highlight:""},{step:2,description:p("arType1IdentifyExtra",{cellsWithExtra:d}),highlight:i},{step:3,description:p("arType1IdentifyNoExtra",{cellsWithoutExtra:u}),highlight:i},{step:4,description:p("arType1Eliminate",{targetCells:h,totalCount:s}),highlight:i})}else if(e.type.includes("uniqueness_bug_plus_1")){const l=e.cells&&Array.isArray(e.cells)?e.cells:[],a=e.basePair&&Array.isArray(e.basePair)?e.basePair:[],s=e.withExtra&&Array.isArray(e.withExtra)?e.withExtra:[],c=e.withoutExtra&&Array.isArray(e.withoutExtra)?e.withoutExtra:[],d=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells:[],u=e.totalCount||0,h=l.length>0?l.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells");a.length>0?a.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells");const f=s.length>0?s.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells"),g=c.length>0?c.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells"),m=d.length>0?d.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("multipleCells");t.push({step:1,description:p("arType1IdentifyPattern",{arCells:h,basePair:a}),highlight:""},{step:2,description:p("arType1IdentifyExtra",{cellsWithExtra:f}),highlight:i},{step:3,description:p("arType1IdentifyNoExtra",{cellsWithoutExtra:g}),highlight:i},{step:4,description:p("arType1Eliminate",{targetCells:m,totalCount:u}),highlight:i});let y=0;if(n)y=e.type.includes("Row")?o+1:e.type.includes("Col")?r+1:3*Math.floor(o/3)+Math.floor(r/3)+1;else if(void 0!==e.row&&regionType===p("row"))y=e.row+1;else if(void 0!==e.col&&regionType===p("col"))y=e.col+1;else if(e.cells&&Array.isArray(e.cells)&&e.cells.length>0){const t=e.cells[0];Array.isArray(t)?regionType===p("col")&&"number"==typeof t[1]?y=t[1]+1:regionType===p("box")&&"number"==typeof t[0]&&"number"==typeof t[1]?y=3*Math.floor(t[0]/3)+Math.floor(t[1]/3)+1:"number"==typeof t[0]&&(y=t[0]+1):t&&(regionType===p("col")&&void 0!==t.col?y=t.col+1:regionType===p("box")&&void 0!==t.row&&void 0!==t.col?y=3*Math.floor(t.row/3)+Math.floor(t.col/3)+1:void 0!==t.row&&(y=t.row+1))}const x=Array.isArray(e.values)?e.values.join(","):"三链数",b=e.cells&&Array.isArray(e.cells)?e.cells.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):i;if(regionType===p("row")&&y>0)for(let t=0;t<9;t++)e.cells.some(e=>Array.isArray(e)&&e[0]===y-1&&e[1]===t||void 0!==e.row&&e.row===y-1&&e.col===t),T&&T[y-1]&&T[y-1][t];else if(regionType===p("col")&&y>0)for(let t=0;t<9;t++)e.cells.some(e=>Array.isArray(e)&&e[0]===t&&e[1]===y-1||void 0!==e.row&&e.row===t&&e.col===y-1),T&&T[t]&&T[t][y-1];else if(regionType===p("box")&&y>0){const t=3*Math.floor((y-1)/3),n=(y-1)%3*3;for(let o=0;o<3;o++)for(let r=0;r<3;r++){const i=t+o,l=n+r;e.cells.some(e=>Array.isArray(e)&&e[0]===i&&e[1]===l||void 0!==e.row&&e.row===i&&e.col===l),T&&T[i]&&T[i][l]}}const v=tripleTargetCells.length>0?tripleTargetCells.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):p("relatedCells");t.push({step:1,description:p("findTripleInRegion",{regionType:regionType,regionNum:y}),highlight:""},{step:2,description:p("foundNakedTriple",{numbers:x,cells:b}),highlight:i},{step:3,description:p("removeCandidatesFromTargets",{numbers:x,targets:v}),highlight:i})}else if(e.type.includes("hiddenTriple")){const l=e.type.includes("Row")?p("row"):e.type.includes("Col")?p("col"):p("box");let a=0;if(n)a=e.type.includes("Row")?o+1:e.type.includes("Col")?r+1:3*Math.floor(o/3)+Math.floor(r/3)+1;else if(void 0!==e.row&&l===p("row"))a=e.row+1;else if(void 0!==e.col&&l===p("col"))a=e.col+1;else if(e.cells&&Array.isArray(e.cells)&&e.cells.length>0){const t=e.cells[0];Array.isArray(t)?l===p("col")&&"number"==typeof t[1]?a=t[1]+1:l===p("box")&&"number"==typeof t[0]&&"number"==typeof t[1]?a=3*Math.floor(t[0]/3)+Math.floor(t[1]/3)+1:"number"==typeof t[0]&&(a=t[0]+1):t&&(l===p("col")&&void 0!==t.col?a=t.col+1:l===p("box")&&void 0!==t.row&&void 0!==t.col?a=3*Math.floor(t.row/3)+Math.floor(t.col/3)+1:void 0!==t.row&&(a=t.row+1))}const s=Array.isArray(e.values)?e.values.join(","):"三链数",c=e.cells&&Array.isArray(e.cells)?e.cells.map(e=>Array.isArray(e)?`(${"number"==typeof e[0]?e[0]+1:"?"},${"number"==typeof e[1]?e[1]+1:"?"})`:`(${void 0!==e.row?e.row+1:"?"},${void 0!==e.col?e.col+1:"?"})`).join(" "):i;t.push({step:1,description:p("findHiddenTripleInRegion",{regionType:l,regionNum:a}),highlight:""},{step:2,description:p("foundNumbersOnlyInCells",{numbers:s,cells:c}),highlight:i},{step:3,description:p("removeOtherCandidates",{cells:c,numbers:s}),highlight:i})}else if(e.type.includes("pointingPairs")){const n=e.type.includes("Row")?p("row"):p("col"),o=3*e.boxRow+e.boxCol+1,r=(n===p("row")?e.row:e.col)+1;e.sourceCells&&Array.isArray(e.sourceCells)?e.sourceCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells");const l=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells");t.push({step:1,description:p("findPointingPairsInBox",{boxNum:o,number:e.number,lineType:n,lineNum:r}),highlight:""},{step:2,description:p("removePointingPairsFromTargets",{number:e.number,targets:l,lineType:n,lineNum:r}),highlight:i})}else if(e.type.includes("boxLineReduction")){const n=e.type.includes("Row")?p("row"):p("col"),o=3*e.boxRow+e.boxCol+1,r=(n===p("row")?e.row:e.col)+1;e.sourceCells&&Array.isArray(e.sourceCells)?e.sourceCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells");const l=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells");t.push({step:1,description:p("findBoxLineReductionInLine",{lineType:n,lineNum:r,number:e.number,boxNum:o}),highlight:""},{step:2,description:p("removeBoxLineReductionFromTargets",{number:e.number,targets:l,boxNum:o}),highlight:i})}else if(e.type.includes("xWing")||e.type.includes("x-wing")){const n=e.type.includes("Row")?p("row"):p("col"),o=e.cells&&Array.isArray(e.cells)?e.cells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),r=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells");t.push({step:1,description:p("findXWingInWings",{wingType:n,number:e.number}),highlight:""},{step:2,description:p("xWingFormRectangle",{sourceCells:o,number:e.number}),highlight:i},{step:3,description:p("removeXWingFromTargets",{number:e.number,targets:r}),highlight:i})}else if(e.type.includes("yWing")||e.type.includes("y-wing")){const n=`(${e.anchorCell[0]+1},${e.anchorCell[1]+1})`,o=`(${e.xzCell[0]+1},${e.xzCell[1]+1})`,r=`(${e.yzCell[0]+1},${e.yzCell[1]+1})`,l=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells");t.push({step:1,description:p("findYWingStructure",{anchor:n,xz:o,yz:r}),highlight:""},{step:2,description:p("yWingShareCandidates",{anchor:n,xz:o,yz:r,x:e.x,y:e.y,z:e.z}),highlight:i},{step:3,description:p("removeYWingFromTargets",{number:e.z,targets:l}),highlight:i})}else if(e.type.includes("swordfish")){const n=e.type.includes("Row")?p("row"):p("col"),o=e.cells&&Array.isArray(e.cells)?e.cells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),r=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells");t.push({step:1,description:p("findSwordfishInWings",{wingType:n,number:e.number}),highlight:""},{step:2,description:p("swordfishFormStructure",{sourceCells:o,number:e.number}),highlight:i},{step:3,description:p("removeSwordfishFromTargets",{number:e.number,targets:r}),highlight:i})}else if(e.type.includes("xyzWing")||e.type.includes("xyz-wing")){const n=`(${e.pivotCell[0]+1},${e.pivotCell[1]+1})`,o=`(${e.xzCell[0]+1},${e.xzCell[1]+1})`,r=`(${e.yzCell[0]+1},${e.yzCell[1]+1})`,l=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells");t.push({step:1,description:p("findXYZWingStructure",{anchor:n,xz:o,yz:r}),highlight:""},{step:2,description:p("xyzWingShareCandidates",{anchor:n,xz:o,yz:r,x:e.x,y:e.y,z:e.common}),highlight:i},{step:3,description:p("removeXYZWingFromTargets",{number:e.common,targets:l}),highlight:i})}else if(e.type.includes("jellyfish")){const n=e.type.includes("Row")?p("row"):p("col"),o=e.cells&&Array.isArray(e.cells)?e.cells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),r=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells");t.push({step:1,description:p("findJellyfishInWings",{wingType:n,number:e.number}),highlight:""},{step:2,description:p("jellyfishFormStructure",{sourceCells:o,number:e.number}),highlight:i},{step:3,description:p("removeJellyfishFromTargets",{number:e.number,targets:r}),highlight:i})}else if(e.type.includes("alsXZ")||e.type.includes("ALS-XZ")){const n=e.als1&&e.als1.cells&&Array.isArray(e.als1.cells)?e.als1.cells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),o=e.als2&&e.als2.cells&&Array.isArray(e.als2.cells)?e.als2.cells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),r=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),l=e.als1&&e.als1.candidates?e.als1.candidates.join(","):"",a=e.als2&&e.als2.candidates?e.als2.candidates.join(","):"";t.push({step:1,description:p("alsXZIdentifyRegions",{als1Cells:n,als1Candidates:l,als2Cells:o,als2Candidates:a,x:e.x,z:e.z}),highlight:""},{step:2,description:p("alsXZIdentifyKeyNumbers",{x:e.x,z:e.z}),highlight:i},{step:3,description:p("alsXZAnalyzeDistribution",{x:e.x,z:e.z}),highlight:i},{step:4,description:p("alsXZDetermineScope",{z:e.z,targetCells:r}),highlight:i},{step:5,description:p("alsXZEliminateCandidates",{x:e.x,z:e.z,targetCells:r}),highlight:i},{step:6,description:p("alsXZVerifyResult",{targetCells:r,z:e.z}),highlight:i})}else if("sdc"===e.type||e.type.includes("Sue De Coq")){const n=e.sdcCells&&Array.isArray(e.sdcCells)?e.sdcCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),o=e.groupA&&e.groupA.cells&&Array.isArray(e.groupA.cells)?e.groupA.cells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),r=e.groupB&&e.groupB.cells&&Array.isArray(e.groupB.cells)?e.groupB.cells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),l=e.sdcCandidates?e.sdcCandidates.join(","):"",a=e.groupA&&e.groupA.candidates?e.groupA.candidates.join(","):"",s=e.groupB&&e.groupB.candidates?e.groupB.candidates.join(","):"",c=e.sdcCandidates?`{${e.sdcCandidates.join(",")}}`:"",d="row"===e.lineType?p("row"):p("col"),u=void 0!==e.lineIndex?e.lineIndex+1:"",h=void 0!==e.boxIndex?e.boxIndex+1:"",f=[],g=[];e.removableCandidates&&Array.isArray(e.removableCandidates)&&e.removableCandidates.forEach(e=>{"boxOnly"===e.reason?f.push(`(${e.row+1},${e.col+1})`):"lineOnly"===e.reason&&g.push(`(${e.row+1},${e.col+1})`)});const m=f.length>0?f.join(" "):p("multipleCells"),y=g.length>0?g.join(" "):p("multipleCells"),x=e.removableCandidates&&e.removableCandidates.length||0;t.push({step:1,description:p("sdcIdentifySDCCells",{sdcCells:n,sdcCandidates:l}),highlight:""},{step:2,description:p("sdcIdentifyGroups",{lineType:d,lineIndex:u,groupACells:o,groupACandidates:a,boxIndex:h,groupBCells:r,groupBCandidates:s}),highlight:i},{step:3,description:p("sdcAnalyzeIntersection",{groupACandidates:a,lineType:d,lineIndex:u,groupBCandidates:s,boxIndex:h}),highlight:i},{step:4,description:p("sdcVerifySeparation",{allCandidates:c}),highlight:i});let b=5;f.length>0&&t.push({step:b++,description:p("sdcEliminateFromLine",{boxCandidates:s,targetCells:m,lineType:d,lineIndex:u}),highlight:i}),g.length>0&&t.push({step:b++,description:p("sdcEliminateFromBox",{lineCandidates:a,targetCells:y,boxIndex:h}),highlight:i}),t.push({step:b,description:p("sdcVerifyResult",{count:x}),highlight:i})}else if("uniqueness"===e.type||e.type.includes("uniqueness_")||e.type.includes("Avoidable Rectangle")){const n=e.arCells&&Array.isArray(e.arCells)?e.arCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),o=e.basePair?`{${e.basePair.join(",")}}}`:"{}",r=e.cellsWithExtra&&Array.isArray(e.cellsWithExtra)?e.cellsWithExtra.map(e=>`(${e.row+1},${e.col+1})`).join(" "):p("multipleCells"),l=e.cellsWithoutExtra&&Array.isArray(e.cellsWithoutExtra)?e.cellsWithoutExtra.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),a=e.targetCells&&Array.isArray(e.targetCells)?e.targetCells.map(e=>`(${e[0]+1},${e[1]+1})`).join(" "):p("multipleCells"),s=e.removableCandidates&&e.removableCandidates.length||0;t.push({step:1,description:`可避免矩形 Type 1: 矩形单元格=${n}，基础数寸=${o}`,highlight:""},{step:2,description:`单元格${r}含有额外候选数`,highlight:i},{step:3,description:`单元格${l}仅含有基础数寸`,highlight:i},{step:4,description:`从${a}中删除${s}个候选数`,highlight:i})}else t.push({step:1,description:p("applyTechnique",{technique:p(e.description)||e.type}),highlight:""},{step:2,description:p("relatedPosition",{position:i}),highlight:i},{step:3,description:l?p("relatedNumber",{number:l}):p("analysisCompleted"),highlight:i});if(M(t),w(0),A){const t=(e=>{const t=[],{cells:n=[],targetCells:o=[],values:r=[],removableCandidates:i=[],result:l={}}=e,{operation:a}=l,s=e.type&&("nakedSingle"===e.type||"notesSingle"===e.type||e.type.includes("hiddenSingle"));if(s){if("number"!=typeof e.row||"number"!=typeof e.col)return t;const n=e.row,o=e.col;let r=e.value||e.number||"";if(t.push({row:n,col:o,techniqueIndicator:!0,targetNumber:r,isTarget:!0,techniqueType:e.type}),"hiddenSingleRow"===e.type)for(let e=0;e<9;e++)e!==o&&t.push({row:n,col:e,techniqueIndicator:!0,regionHighlight:!0});else if("hiddenSingleCol"===e.type)for(let e=0;e<9;e++)e!==n&&t.push({row:e,col:o,techniqueIndicator:!0,regionHighlight:!0});else if("hiddenSingleBox"===e.type){const e=Math.floor(n/3),r=Math.floor(o/3);for(let i=3*e;i<3*e+3;i++)for(let e=3*r;e<3*r+3;e++)i===n&&e===o||t.push({row:i,col:e,techniqueIndicator:!0,regionHighlight:!0})}else if("nakedSingle"===e.type){const e=new Set;e.add(`${n}-${o}`);for(let o=0;o<9;o++){const r=`${n}-${o}`;e.has(r)||(t.push({row:n,col:o,techniqueIndicator:!0,regionHighlight:!0}),e.add(r))}for(let n=0;n<9;n++){const r=`${n}-${o}`;e.has(r)||(t.push({row:n,col:o,techniqueIndicator:!0,regionHighlight:!0}),e.add(r))}const r=Math.floor(n/3),i=Math.floor(o/3);for(let n=3*r;n<3*r+3;n++)for(let o=3*i;o<3*i+3;o++){const r=`${n}-${o}`;e.has(r)||(t.push({row:n,col:o,techniqueIndicator:!0,regionHighlight:!0}),e.add(r))}}else if("notesSingle"===e.type){const e=new Set;e.add(`${n}-${o}`);for(let o=0;o<9;o++){const r=`${n}-${o}`;e.has(r)||(t.push({row:n,col:o,techniqueIndicator:!0,regionHighlight:!0}),e.add(r))}for(let n=0;n<9;n++){const r=`${n}-${o}`;e.has(r)||(t.push({row:n,col:o,techniqueIndicator:!0,regionHighlight:!0}),e.add(r))}const r=Math.floor(n/3),i=Math.floor(o/3);for(let n=3*r;n<3*r+3;n++)for(let o=3*i;o<3*i+3;o++){const r=`${n}-${o}`;e.has(r)||(t.push({row:n,col:o,techniqueIndicator:!0,regionHighlight:!0}),e.add(r))}}return t}e.type&&(e.type.includes("nakedPair")||e.type.includes("naked_pairs")||e.type);const c=e.type&&e.type.includes("alsXZ"),d=e.type&&("sdc"===e.type||e.type.includes("Sue De Coq")),u=e.type&&("uniqueness"===e.type||e.type.includes("uniqueness_")||e.type.includes("Avoidable Rectangle"));if(d){const n=P||{},o=new Map;e.sdcCells&&Array.isArray(e.sdcCells)&&e.sdcCells.forEach(([t,r])=>{const i=`${t}-${r}`,l=n[i]||[];if(l.length>0){const n=e.sdcCandidates||[],a=l.filter(e=>n.includes(e));o.has(i)||o.set(i,{row:t,col:r,sdcCandidates:[],groupACandidates:[],groupBCandidates:[],removableCandidates:[]});const s=o.get(i);a.length>0&&s.sdcCandidates.push(...a)}}),e.groupA&&e.groupA.cells&&Array.isArray(e.groupA.cells)&&e.groupA.cells.forEach(([t,r])=>{const i=`${t}-${r}`,l=n[i]||[];if(l.length>0){const n=e.groupA.candidates||[],a=l.filter(e=>n.includes(e));o.has(i)||o.set(i,{row:t,col:r,sdcCandidates:[],groupACandidates:[],groupBCandidates:[],removableCandidates:[]});const s=o.get(i);a.length>0&&s.groupACandidates.push(...a)}}),e.groupB&&e.groupB.cells&&Array.isArray(e.groupB.cells)&&e.groupB.cells.forEach(([t,r])=>{const i=`${t}-${r}`,l=n[i]||[];if(l.length>0){const n=e.groupB.candidates||[],a=l.filter(e=>n.includes(e));o.has(i)||o.set(i,{row:t,col:r,sdcCandidates:[],groupACandidates:[],groupBCandidates:[],removableCandidates:[]});const s=o.get(i);a.length>0&&s.groupBCandidates.push(...a)}}),Array.isArray(e.removableCandidates)&&e.removableCandidates.forEach(e=>{const{row:t,col:r,value:i}=e,l=`${t}-${r}`;(n[l]||[]).includes(i)&&(o.has(l)||o.set(l,{row:t,col:r,sdcCandidates:[],groupACandidates:[],groupBCandidates:[],removableCandidates:[]}),o.get(l).removableCandidates.push(i))}),o.forEach((n,o)=>{t.push({row:n.row,col:n.col,techniqueIndicator:!0,techniqueType:e.type,highlightType:"sdc",isTarget:!1,backgroundColor:"transparent",borderColor:"transparent",sdcCandidates:{sdcCandidates:n.sdcCandidates,groupACandidates:n.groupACandidates,groupBCandidates:n.groupBCandidates,removableCandidates:n.removableCandidates}})})}else if(u){const n=P||{},o=new Map,r=new Set,i=new Set;Array.isArray(e.removableCandidates)&&e.removableCandidates.forEach(e=>{r.add(e.value),i.add(`${e.row}-${e.col}`)}),e.arCells&&Array.isArray(e.arCells)&&e.arCells.forEach(([t,l])=>{const a=`${t}-${l}`,s=n[a]||[];if(s.length>0){o.has(a)||o.set(a,{row:t,col:l,baseCandidates:[],extraCandidates:[],removableCandidates:[]});const n=o.get(a);if(!i.has(a)){const t=s.filter(t=>e.basePair&&e.basePair.includes(t)&&!r.has(t)),o=s.filter(t=>e.basePair&&!e.basePair.includes(t)&&!r.has(t));t.length>0&&n.baseCandidates.push(...t),o.length>0&&n.extraCandidates.push(...o)}}}),e.cellsWithExtra&&Array.isArray(e.cellsWithExtra)&&e.cellsWithExtra.forEach(t=>{const{row:l,col:a}=t,s=`${l}-${a}`,c=n[s]||[];if(c.length>0){o.has(s)||o.set(s,{row:l,col:a,baseCandidates:[],extraCandidates:[],removableCandidates:[]});const t=o.get(s);if(!i.has(s)){const n=c.filter(t=>e.basePair&&e.basePair.includes(t)&&!r.has(t)),o=c.filter(t=>e.basePair&&!e.basePair.includes(t)&&!r.has(t));n.length>0&&t.baseCandidates.push(...n),o.length>0&&t.extraCandidates.push(...o)}}}),Array.isArray(e.removableCandidates)&&e.removableCandidates.forEach(e=>{const{row:t,col:r,value:i}=e,l=`${t}-${r}`;(n[l]||[]).includes(i)&&(o.has(l)||o.set(l,{row:t,col:r,baseCandidates:[],extraCandidates:[],removableCandidates:[]}),o.get(l).removableCandidates.push(i))}),Array.isArray(e.removableCandidates)&&e.removableCandidates.forEach(e=>{const{row:t,col:n}=e,r=`${t}-${n}`;if(o.has(r)){const e=o.get(r);e.baseCandidates=[],e.extraCandidates=[]}}),o.forEach((n,o)=>{t.push({row:n.row,col:n.col,techniqueIndicator:!0,techniqueType:e.type,highlightType:"uniqueness",isTarget:!1,backgroundColor:"transparent",borderColor:"transparent",uniquenessCandidates:{baseCandidates:n.baseCandidates,extraCandidates:n.extraCandidates,removableCandidates:n.removableCandidates}})})}else if(c){const n=P||{},o=new Map;e.als1&&Array.isArray(e.als1.cells)&&e.als1.cells.forEach(([t,r])=>{const i=`${t}-${r}`,l=n[i]||[];if(l.length>0){const n=l.filter(t=>t===e.x),a=l.filter(t=>t!==e.x);o.has(i)||o.set(i,{row:t,col:r,xCandidates:[],als1Candidates:[],als2Candidates:[],removableCandidates:[]});const s=o.get(i);n.length>0&&s.xCandidates.push(...n),a.length>0&&s.als1Candidates.push(...a)}}),e.als2&&Array.isArray(e.als2.cells)&&e.als2.cells.forEach(([t,r])=>{const i=`${t}-${r}`,l=n[i]||[];if(l.length>0){const n=l.filter(t=>t===e.x),a=l.filter(t=>t!==e.x);o.has(i)||o.set(i,{row:t,col:r,xCandidates:[],als1Candidates:[],als2Candidates:[],removableCandidates:[]});const s=o.get(i);n.length>0&&s.xCandidates.push(...n),a.length>0&&s.als2Candidates.push(...a)}}),Array.isArray(e.removableCandidates)&&e.removableCandidates.forEach(e=>{const{row:t,col:r,value:i}=e,l=`${t}-${r}`;(n[l]||[]).includes(i)&&(o.has(l)||o.set(l,{row:t,col:r,xCandidates:[],als1Candidates:[],als2Candidates:[],removableCandidates:[]}),o.get(l).removableCandidates.push(i))}),o.forEach((n,o)=>{t.push({row:n.row,col:n.col,techniqueIndicator:!0,techniqueType:e.type,highlightType:"alsXZ",isTarget:!1,backgroundColor:"transparent",borderColor:"transparent",alsXZCandidates:{xCandidates:n.xCandidates,als1Candidates:n.als1Candidates,als2Candidates:n.als2Candidates,removableCandidates:n.removableCandidates}})})}else if(Array.isArray(n)&&n.length>0&&n.forEach(n=>{const o=Array.isArray(n)?n[0]:"number"==typeof n.row?n.row:null,r=Array.isArray(n)?n[1]:"number"==typeof n.col?n.col:null;null!==o&&null!==r&&t.push({row:o,col:r,techniqueIndicator:!0,techniqueType:e.type,highlightType:"condition",isTarget:!1,backgroundColor:"transparent",borderColor:"transparent"})}),Array.isArray(o)&&o.length>0&&o.forEach(n=>{const o=Array.isArray(n)?n[0]:"number"==typeof n.row?n.row:null,r=Array.isArray(n)?n[1]:"number"==typeof n.col?n.col:null;if(null!==o&&null!==r){const n=t.findIndex(e=>e.row===o&&e.col===r);-1===n?t.push({row:o,col:r,techniqueIndicator:!0,techniqueType:e.type,highlightType:"target",isTarget:!0,backgroundColor:"transparent",borderColor:"transparent"}):(t[n].highlightType="target",t[n].isTarget=!0,t[n].backgroundColor="transparent",t[n].borderColor="transparent")}}),Array.isArray(i)&&i.length>0){const n={};e.targetCellsDetails&&Array.isArray(e.targetCellsDetails)?e.targetCellsDetails.forEach(e=>{const t=`${e.row}-${e.col}`;n[t]||(n[t]=[]),Array.isArray(e.notesToRemove)&&e.notesToRemove.forEach(e=>{n[t].includes(e)||n[t].push(e)})}):o.forEach((e,t)=>{const o=Array.isArray(e)?e[0]:"number"==typeof e.row?e.row:null,r=Array.isArray(e)?e[1]:"number"==typeof e.col?e.col:null;if(null!==o&&null!==r){const e=`${o}-${r}`;if(n[e]||(n[e]=[]),t<i.length){const o=i[t];n[e].includes(o)||n[e].push(o)}}}),Object.keys(n).forEach(o=>{const[r,i]=o.split("-").map(Number),l=Array.isArray(n[o])?n[o]:[],a=t.findIndex(e=>e.row===r&&e.col===i);if(-1===a)t.push({row:r,col:i,techniqueIndicator:!0,techniqueType:e.type,highlightType:"removal",notesToRemove:l,backgroundColor:"transparent",borderColor:"transparent"});else{const e=t[a].notesToRemove||[],n=[...new Set([...e,...l])];t[a].notesToRemove=n,t[a].highlightType="removal",t[a].backgroundColor="transparent",t[a].borderColor="transparent"}})}if(s){const l=(n,o,r=null,i=[])=>{t.push({row:n,col:o,techniqueIndicator:!0,techniqueType:e.type,highlightType:"primary",number:r,notesToRemove:i,isTarget:!0,backgroundColor:"rgba(76, 175, 80, 0.2)",borderColor:"#4CAF50"})},s=(n,o,r=null)=>{t.push({row:n,col:o,techniqueIndicator:!0,techniqueType:e.type,highlightType:"secondary",number:r,isTarget:!0,backgroundColor:"rgba(33, 150, 243, 0.2)",borderColor:"#2196F3"})},c=(n,o,r,i=!1)=>{t.push({row:n,col:o,techniqueIndicator:!0,techniqueType:e.type,highlightType:"removal",notesToRemove:r,isTarget:!1,backgroundColor:i?"rgba(244, 67, 54, 0.1)":"transparent",borderColor:"#F44336",borderStyle:"dashed"})};Array.isArray(n)&&n.length>0&&n.forEach(n=>{const o=Array.isArray(n)?n[0]:"number"==typeof n.row?n.row:null,r=Array.isArray(n)?n[1]:"number"==typeof n.col?n.col:null;null!==o&&null!==r&&(t.some(e=>e.row===o&&e.col===r)||l(o,r,n.value||e.number,n.notes||[]))}),Array.isArray(o)&&o.length>0&&o.forEach(n=>{const o=Array.isArray(n)?n[0]:"number"==typeof n.row?n.row:null,r=Array.isArray(n)?n[1]:"number"==typeof n.col?n.col:null;null!==o&&null!==r&&(t.some(e=>e.row===o&&e.col===r)||s(o,r,e.number))});const d=e&&"number"==typeof e.row&&"number"==typeof e.col,u=d?e.row:0,h=d?e.col:0;let p="";if(e&&(p=e.value||"",p||void 0===e.number||(p=e.number),!p&&e.result&&e.result.value&&(p=e.result.value),!p&&e.cells&&Array.isArray(e.cells)&&e.cells.length>0)){const t=e.cells[0];t&&t.value&&(p=t.value)}if(d&&"number"==typeof u&&"number"==typeof h)if(t.some(e=>e.row===u&&e.col===h)||l(u,h,p),t.forEach(t=>{t.row===u&&t.col===h&&(!t.number&&p&&(t.number=p),!t.techniqueType&&e.type&&(t.techniqueType=e.type))}),["nakedSingle","notesSingle"].includes(e.type))t.forEach(e=>{e.row===u&&e.col===h&&(e.relatedAreas=["row","col","box"])});else if(e.type.startsWith("hiddenSingle")){const n=e.type.replace("hiddenSingle","").toLowerCase();t.forEach(e=>{e.row===u&&e.col===h&&(e.relatedAreas=[n])})}a&&"removeCandidates"===a.type&&Array.isArray(a.cells)&&a.cells.forEach(e=>{if("number"==typeof e.row&&"number"==typeof e.col&&Array.isArray(e.valuesToRemove)){const{row:n,col:o,valuesToRemove:r}=e,i=t.findIndex(e=>e.row===n&&e.col===o);-1===i?c(n,o,r,!0):(t[i].notesToRemove=r,t[i].highlightType="primary"===t[i].highlightType?"primary-removal":"removal")}}),Array.isArray(r)&&r.length>0&&t.forEach(e=>{e.highlightedValues||(e.highlightedValues=r)}),Array.isArray(i)&&i.length>0&&t.forEach(e=>{e.notesToRemove||(e.notesToRemove=i)}),(e.type||"").includes("pointingPairs")&&e.sourceCells&&Array.isArray(e.sourceCells)&&e.sourceCells.forEach(e=>{const n=Array.isArray(e)?e[0]:e.row,o=Array.isArray(e)?e[1]:e.col,r=t.findIndex(e=>e.row===n&&e.col===o);-1!==r&&(t[r].highlightType="primary",t[r].isTarget=!0)})}else{const r=(e,t,n)=>{if(e.type&&e.type.includes("nakedTriple")&&e.conditionCellsDetails){const o=e.conditionCellsDetails.find(e=>e.row===t&&e.col===n);if(o&&Array.isArray(o.notes))return o.notes}if(e.type&&(e.type.includes("nakedPair")||e.type.includes("hiddenPair"))&&Array.isArray(e.values)&&e.values.length>0)return e.values;if(e.type&&e.type.includes("hiddenTriple")&&Array.isArray(e.values)&&e.values.length>0)return e.values;if(e.type&&e.type.includes("yWing")){if(void 0!==e.x&&void 0!==e.y&&void 0!==e.z){const o=e.anchorCell&&(Array.isArray(e.anchorCell)&&e.anchorCell[0]===t&&e.anchorCell[1]===n||e.anchorCell.row===t&&e.anchorCell.col===n),r=e.xzCell&&(Array.isArray(e.xzCell)&&e.xzCell[0]===t&&e.xzCell[1]===n||e.xzCell.row===t&&e.xzCell.col===n),i=e.yzCell&&(Array.isArray(e.yzCell)&&e.yzCell[0]===t&&e.yzCell[1]===n||e.yzCell.row===t&&e.yzCell.col===n);if(o)return[e.x,e.y];if(r)return[e.x,e.z];if(i)return[e.y,e.z]}if(void 0!==e.x&&void 0!==e.y)return[e.x,e.y]}else if(e.type&&e.type.includes("xyzWing")){if(void 0!==e.x&&void 0!==e.y&&void 0!==e.z){const o=e.pivotCell&&(Array.isArray(e.pivotCell)&&e.pivotCell[0]===t&&e.pivotCell[1]===n||e.pivotCell.row===t&&e.pivotCell.col===n),r=e.xzCell&&(Array.isArray(e.xzCell)&&e.xzCell[0]===t&&e.xzCell[1]===n||e.xzCell.row===t&&e.xzCell.col===n),i=e.yzCell&&(Array.isArray(e.yzCell)&&e.yzCell[0]===t&&e.yzCell[1]===n||e.yzCell.row===t&&e.yzCell.col===n);if(o)return[e.x,e.y,e.z];if(r)return[e.x,e.z];if(i)return[e.y,e.z]}if(void 0!==e.x&&void 0!==e.y&&void 0!==e.z)return[e.x,e.y,e.z]}else if(e.type&&(e.type.includes("pointingPairs")||e.type.includes("boxLineReduction"))){if(void 0!==e.number)return[e.number]}else{if(void 0!==e.number)return[e.number];if(Array.isArray(e.values)&&e.values.length>0)return e.values}return[]},l=e.type&&(e.type.includes("pointingPairs")||e.type.includes("boxLineReduction"))?e.sourceCells||[]:n;if(Array.isArray(l)&&l.length>0&&l.forEach(n=>{const o=Array.isArray(n)?n[0]:"number"==typeof n.row?n.row:null,i=Array.isArray(n)?n[1]:"number"==typeof n.col?n.col:null;if(null!==o&&null!==i){const n={row:o,col:i,techniqueIndicator:!0,techniqueType:e.type,highlightType:"condition",isTarget:!1,highlightedValues:r(e,o,i),backgroundColor:"transparent",borderColor:"transparent"};e.type&&e.type.includes("yWing")&&void 0!==e.z&&(n.zValue=e.z),e.type&&e.type.includes("xyzWing")&&void 0!==e.z&&(n.zValue=e.z,n.x=e.x,n.y=e.y,n.z=e.z,n.pivotCell=e.pivotCell,n.xzCell=e.xzCell,n.yzCell=e.yzCell),t.push(n)}}),Array.isArray(o)&&o.length>0){const n={};e.targetCellsDetails&&Array.isArray(e.targetCellsDetails)?e.targetCellsDetails.forEach(e=>{const t=`${e.row}-${e.col}`;n[t]||(n[t]=[]),Array.isArray(e.notesToRemove)&&e.notesToRemove.forEach(e=>{n[t].includes(e)||n[t].push(e)})}):o.length>0&&i.length>0&&(i.length===o.length?o.forEach((e,t)=>{const o=Array.isArray(e)?e[0]:"number"==typeof e.row?e.row:null,r=Array.isArray(e)?e[1]:"number"==typeof e.col?e.col:null;if(null!==o&&null!==r){const e=`${o}-${r}`;n[e]||(n[e]=[]);const l=i[t];n[e].includes(l)||n[e].push(l)}}):o.forEach(e=>{const t=Array.isArray(e)?e[0]:"number"==typeof e.row?e.row:null,o=Array.isArray(e)?e[1]:"number"==typeof e.col?e.col:null;if(null!==t&&null!==o){const e=`${t}-${o}`;n[e]||(n[e]=[]),i.forEach(t=>{n[e].includes(t)||n[e].push(t)})}})),Object.keys(n).forEach(o=>{const[r,i]=o.split("-").map(Number),l=Array.isArray(n[o])?n[o]:[],a=t.findIndex(e=>e.row===r&&e.col===i);if(-1===a)t.push({row:r,col:i,techniqueIndicator:!0,techniqueType:e.type,highlightType:"removal",notesToRemove:l,backgroundColor:"transparent",borderColor:"transparent"});else{const e=t[a].notesToRemove||[],n=[...new Set([...e,...l])];t[a].notesToRemove=n,t[a].highlightType="removal",t[a].backgroundColor="transparent",t[a].borderColor="transparent"}})}}return t})(e);A(t)}m("solution")})(e),style:{padding:"8px 10px",backgroundColor:"#f8f9fa",borderRadius:"6px",border:"1px solid #e9ecef",cursor:"pointer",transition:"all 0.2s ease",marginBottom:"6px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#e9ecef",e.currentTarget.style.borderColor="#3498db"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f8f9fa",e.currentTarget.style.borderColor="#e9ecef"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",color:"#34495e",flexWrap:"wrap"},children:[v.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexShrink:0},children:a}),v.jsxs("span",{style:{fontSize:"14px",color:"#7f8c8d",fontWeight:"normal",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flex:1,minWidth:0},children:[p("position"),": ",n,o]})]})},t)})}),v.jsx("button",{onClick:()=>{let e=!0;if(l){!1===l()&&(e=!1)}e&&i&&i(),B(),m("techniques"),setTimeout(()=>{const e=!!E&&E();0===I.length&&e&&(L({title:p("noTechniquesHelpTitle"),message:p("noTechniquesHelpMessage"),onConfirm:()=>{C&&C.solveOneCell&&C.solveOneCell()}}),D(!0))},100)},style:{width:"100%",padding:"8px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"background-color 0.2s ease"},title:p("refreshCandidatesTooltip"),children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[v.jsx(ui,{}),p("fillCandidates")]})})]}),"solution"===g&&"learning"===f&&v.jsx("div",{style:{overflowY:"auto",padding:"8px",flex:1,minHeight:"200px",maxHeight:"400px"},children:y?v.jsx(v.Fragment,{children:v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"12px"},children:(()=>{const e=N.length;let t=[],n=!1,o=!1;if(2===e)0===b?(t=[N[0]],n=!0):(t=[N[1]],o=!0);else if(3===e)0===b?(t=[N[0],N[1]],n=!0):(t=[N[2]],o=!0);else if(e>=4){const r=2*b,i=Math.min(r+2,e);t=N.slice(r,i),i<e?n=!0:o=!0}else t=N,o=!0;return v.jsxs(v.Fragment,{children:[t.map((e,t)=>0===t&&(n||o)?v.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef",position:"relative"},children:[v.jsx("div",{style:{minWidth:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#3498db",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:e.step}),v.jsx("div",{style:{flex:1,fontSize:"14px",color:"#34495e",lineHeight:"1.5",paddingRight:"80px",minHeight:"40px"},children:e.description}),v.jsxs("div",{style:{position:"absolute",right:"12px",top:u?"8px":"12px",display:"flex",gap:"6px"},children:[n&&v.jsx("button",{onClick:()=>w(b+1),style:{width:u?"60px":"70px",height:u?"18px":"32px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:u?"5px":"13px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(52, 152, 219, 0.4), 0 1px 2px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#2980b9",e.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.3)",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#3498db",e.currentTarget.style.boxShadow="0 2px 6px rgba(52, 152, 219, 0.3), 0 1px 2px rgba(0, 0, 0, 0.12)",e.currentTarget.style.transform="translateY(0)"},children:p("nextStep")}),o&&v.jsx("button",{onClick:e=>{console.log("Apply button clicked"),(()=>{if(console.log("handleApplyTechnique called",{selectedTechnique:y,isPencilMode:s,togglePencilMode:r}),y){const e=y.type&&("nakedSingle"===y.type||"notesSingle"===y.type||y.type.includes("hiddenSingle"));console.log("Technique type check",{isBasicTechnique:e,techniqueType:y.type}),e?(console.log("Applying basic technique"),k(y)&&(ci.clearHighlights(),di.clearHighlights(),A&&A([]),z&&z(null),B())):(console.log("Applying non-basic technique"),K.info(p("manualCandidateRemovalRequired",{defaultMessage:"请手动清除选定候选数"}),{position:"top-right",autoClose:3e3}),ci.clearHighlights(),di.clearHighlights(),A&&A([]),z&&z(null),m("keyboard"),x(null),M([]),w(0))}else console.log("No selected technique")})()},style:{width:u?"60px":"70px",height:u?"18px":"32px",backgroundColor:"#2ecc71",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:u?"5px":"13px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(46, 204, 113, 0.4), 0 1px 2px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#27ae60",e.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.3)",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#2ecc71",e.currentTarget.style.boxShadow="0 2px 6px rgba(46, 204, 113, 0.3), 0 1px 2px rgba(0, 0, 0, 0.12)",e.currentTarget.style.transform="translateY(0)"},children:y&&("nakedSingle"===y.type||"notesSingle"===y.type||y.type.includes("hiddenSingle"))?p("apply"):p("manualHandle")})]})]},e.step):v.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:[v.jsx("div",{style:{minWidth:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#3498db",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:e.step}),v.jsx("div",{style:{flex:1,fontSize:"14px",color:"#34495e",lineHeight:"1.5"},children:e.description})]},e.step)),t.length>0&&!(n||o)&&t[0]!==t[t.length-1]&&v.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"12px"},children:v.jsx("button",{onClick:()=>w(b+1),style:{width:u?"75px":"90px",height:u?"22px":"40px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:u?"5px":"14px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 8px rgba(52, 152, 219, 0.4), 0 2px 4px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#2980b9",e.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.3)",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#3498db",e.currentTarget.style.boxShadow="0 4px 10px rgba(52, 152, 219, 0.3), 0 1px 3px rgba(0, 0, 0, 0.12)",e.currentTarget.style.transform="translateY(0)"},children:p("nextStep")})})]})})()})}):v.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#7f8c8d",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:p("selectTechniqueFirst")})})]})]}),v.jsx(si,{isOpen:W,onClose:()=>D(!1),onConfirm:F.onConfirm,title:F.title,message:F.message,confirmText:p("noTechniquesHelpConfirm"),cancelText:p("noTechniquesHelpCancel")})]})};"undefined"!=typeof window&&(window.debugSudokuTechnique=()=>{if(console.log("=== 实际应用技巧对象调试 ==="),document.querySelector(".control-panel")){console.log("找到ControlPanel组件"),window.selectedTechnique&&console.log("window.selectedTechnique:",window.selectedTechnique);const e=localStorage.getItem("selectedTechnique");e&&console.log("localStorage selectedTechnique:",JSON.parse(e))}console.log("=== 调试结束 ===")},window.storeSelectedTechnique=e=>{window.selectedTechnique=e,localStorage.setItem("selectedTechnique",JSON.stringify(e)),console.log("技巧对象已存储到全局变量:",e)},console.log("调试函数已加载:"),console.log("- 在控制台输入 debugSudokuTechnique() 检查技巧对象"),console.log("- 技巧对象会自动存储到 window.selectedTechnique"));const pi=Xn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
  backdrop-filter: blur(4px);
  animation: fadeIn 0.2s ease-out;
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
`,fi=Xn.div`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  border-radius: 12px;
  padding: 24px;
  max-width: 400px;
  width: 100%;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  font-family: inherit;
  border: 1px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  transform: translateY(0);
  animation: slideIn 0.3s ease-out;
  
  @keyframes slideIn {
    from { 
      opacity: 0;
      transform: translateY(-20px);
    }
    to { 
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  // 小屏幕适配
  @media (max-width: 576px) {
    padding: 20px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
  }
`,gi=Xn.h2`
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  margin: 0 0 24px 0;
  font-size: 22px;
  text-align: center;
  font-weight: 700;
  position: relative;
  display: inline-block;
  width: 100%;
  padding-bottom: 16px;
  border-bottom: 1px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  
  &::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 3px;
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#3498db"}};
    border-radius: 3px;
  }
`,mi=Xn.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-bottom: 20px;
`,yi=Xn(({isSelected:e,...t})=>v.jsx("button",{...t}))`
  width: 100%;
  padding: 16px 20px;
  border: 2px solid ${e=>{var t,n;return e.isSelected?(null==(t=e.theme)?void 0:t.primary)||"#3498db":(null==(n=e.theme)?void 0:n.border)||"#e0e0e0"}};
  border-radius: 8px;
  background-color: ${e=>{var t,n;return e.isSelected?(null==(t=e.theme)?void 0:t.primary)||"#3498db":(null==(n=e.theme)?void 0:n.surface)||"#ffffff"}};
  color: ${e=>{var t;return e.isSelected?"white":(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: inherit;
  text-align: left;
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  min-height: 60px;
  box-sizing: border-box;
  
  // 添加渐变背景效果
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(52, 152, 219, 0.1), transparent);
    transition: all 0.5s ease;
  }
  
  // 悬停效果（仅在非移动设备上）
  @media (hover: hover) {
    &:hover {
      background-color: ${e=>{var t,n;return e.isSelected?(null==(t=e.theme)?void 0:t.primaryDark)||"#2980b9":(null==(n=e.theme)?void 0:n.surfaceHighlight)||"#f5f5f5"}};
      transform: translateX(4px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.12);
      
      &::before {
        left: 100%;
      }
    }
  }
  
  // 触摸反馈
  &:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }
  
  /* 移除:last-child选择器，使用grid的gap属性控制间距 */
  
  // 不同难度的特殊样式
  &.easy {
    border-color: ${e=>{var t,n;return e.isSelected?(null==(t=e.theme)?void 0:t.primary)||"#3498db":(null==(n=e.theme)?void 0:n.success)||"#2ecc71"}};
    
    &:hover {
      background-color: ${e=>{var t,n;return e.isSelected?(null==(t=e.theme)?void 0:t.primaryDark)||"#2980b9":((null==(n=e.theme)?void 0:n.success)||"#2ecc71")+"10"}};
    }
  }
  
  &.medium {
    border-color: ${e=>{var t,n;return e.isSelected?(null==(t=e.theme)?void 0:t.primary)||"#3498db":(null==(n=e.theme)?void 0:n.warning)||"#f39c12"}};
    
    &:hover {
      background-color: ${e=>{var t,n;return e.isSelected?(null==(t=e.theme)?void 0:t.primaryDark)||"#2980b9":((null==(n=e.theme)?void 0:n.warning)||"#f39c12")+"10"}};
    }
  }
  
  &.hard {
    border-color: ${e=>{var t,n;return e.isSelected?(null==(t=e.theme)?void 0:t.primary)||"#3498db":(null==(n=e.theme)?void 0:n.error)||"#e74c3c"}};
    
    &:hover {
      background-color: ${e=>{var t,n;return e.isSelected?(null==(t=e.theme)?void 0:t.primaryDark)||"#2980b9":((null==(n=e.theme)?void 0:n.error)||"#e74c3c")+"10"}};
    }
  }
  
  &.expert {
    border-color: ${e=>{var t,n;return e.isSelected?(null==(t=e.theme)?void 0:t.primary)||"#3498db":(null==(n=e.theme)?void 0:n.text)||"#34495e"}};
    
    &:hover {
      background-color: ${e=>{var t,n;return e.isSelected?(null==(t=e.theme)?void 0:t.primaryDark)||"#2980b9":((null==(n=e.theme)?void 0:n.text)||"#34495e")+"10"}};
    }
  }
`,xi=Xn.div`
  margin-top: 4px;
  font-size: 12px;
  opacity: 0.7;
  font-weight: normal;
`,bi=Xn.div`
  display: flex;
  gap: 12px;
  justify-content: flex-end;
`,vi=Xn.button`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  border: 2px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  padding: 12px 20px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.background)||"#f5f5f5"}};
  }
`,wi=Xn.button`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#3498db"}};
  color: white;
  border: 2px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#3498db"}};
  padding: 12px 20px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primaryDark)||"#2980b9"}};
  }
`,Ci=({isOpen:e,onClose:t,onSelectDifficulty:o,initialDifficulty:r})=>{const{theme:i}=ne(),{t:l}=le(),[a,s]=n.useState(r||kr.MEDIUM),c={[kr.EASY]:{name:l("easy"),description:l("difficultyDescription.easy")},[kr.MEDIUM]:{name:l("medium"),description:l("difficultyDescription.medium")},[kr.HARD]:{name:l("hard"),description:l("difficultyDescription.hard")},[kr.EXPERT]:{name:l("expert"),description:l("difficultyDescription.expert")}};if(!e)return null;const d=()=>{o(a),t()};return v.jsx(pi,{onClick:t,onKeyDown:e=>{"Escape"===e.key&&t(),"Enter"===e.key&&d()},children:v.jsxs(fi,{theme:i,onClick:e=>e.stopPropagation(),children:[v.jsx(gi,{theme:i,children:l("selectDifficulty")}),v.jsx(mi,{children:Object.entries(kr).map(([e,t])=>{const n=c[t];return v.jsxs(yi,{isSelected:a===t,onClick:()=>s(t),theme:i,className:e.toLowerCase(),children:[n.name,v.jsx(xi,{children:n.description})]},e)})}),v.jsxs(bi,{children:[v.jsx(vi,{theme:i,onClick:t,children:l("cancel")}),v.jsx(wi,{theme:i,onClick:d,children:l("startGame")})]})]})})},Si=Xn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
  backdrop-filter: blur(4px);
  animation: fadeIn 0.2s ease-out;
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
`,ki=Xn.div`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  border-radius: 12px;
  padding: 24px;
  max-width: 400px;
  width: 100%;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  font-family: inherit;
  border: 1px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  transform: translateY(0);
  animation: slideIn 0.3s ease-out;
  
  @keyframes slideIn {
    from { 
      opacity: 0;
      transform: translateY(-20px);
    }
    to { 
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  // 小屏幕适配
  @media (max-width: 576px) {
    padding: 20px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
  }
`,$i=Xn.h2`
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  margin: 0 0 20px 0;
  font-size: 22px;
  font-weight: 700;
  text-align: center;
`,Ti=Xn.div`
  padding: 16px;
  margin-bottom: 20px;
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.background)||"#f5f5f5"}};
  border-radius: 8px;
  border-left: 4px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#3498db"}};
  text-align: center;
`,Ai=Xn.div`
  font-weight: 600;
  margin-bottom: 8px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#3498db"}};
  font-size: 18px;
`,zi=Xn.div`
  font-size: 14px;
  opacity: 0.9;
  line-height: 1.5;
`,ji=Xn.div`
  display: flex;
  gap: 12px;
  justify-content: flex-end;
  margin-top: 16px;
`,Pi=Xn.button`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  border: 2px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  padding: 12px 20px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.background)||"#f5f5f5"}};
  }
`,Ei=Xn.button`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#3498db"}};
  color: white;
  border: 2px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#3498db"}};
  padding: 12px 20px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primaryDark)||"#2980b9"}};
  }
`,qi=({isOpen:e,onClose:t,currentMode:n,onConfirm:o})=>{const{theme:r}=ne(),{t:i}=le(),l="game"===n?"learning":"game";if(!e)return null;return v.jsx(Si,{onClick:t,onKeyDown:e=>{"Escape"===e.key&&t()},children:v.jsxs(ki,{theme:r,onClick:e=>e.stopPropagation(),children:[v.jsx($i,{theme:r,children:"game"===n?i("switchToLearningMode","切换到学习模式"):i("switchToGameMode","切换到游戏模式")}),v.jsxs(Ti,{theme:r,children:[v.jsx(Ai,{theme:r,children:"learning"===l?i("learningMode","学习模式"):i("gameMode","游戏模式")}),v.jsx(zi,{theme:r,children:"learning"===l?i("learningModeDescription","提供技巧学习辅助，帮助您学习数独解题技巧。"):i("gameModeDescription","关闭技巧学习辅助功能，专注于游戏体验。")})]}),v.jsxs(ji,{children:[v.jsx(Pi,{theme:r,onClick:t,children:i("cancel","取消")}),v.jsx(Ei,{theme:r,onClick:o,children:"learning"===l?i("switchToLearningMode","切换到学习模式"):i("switchToGameMode","切换到游戏模式")})]})]})})},Ii=Xn.div.attrs({className:"nav-block"})`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.background)||"#f8f9fa"}};
  border-radius: var(--border-radius, 8px);
  padding: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.12);
  width: 100%; // 与数独棋盘同宽
  font-family: 'Arial', 'Microsoft YaHei', sans-serif;
  margin: 0;
  box-sizing: border-box;
  border: 1px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  border-bottom: 3px solid transparent;
  transition: all 0.3s ease;
  
  // 添加悬停效果
  &:hover {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  }
  
  // 确保在父容器中正确对齐
  align-self: flex-start;
  
  // 移除滚动吸附功能，允许自由滚动
  
  // 竖屏模式下调整上下边距一致
  @media (max-width: 768px) and (orientation: portrait) {
    padding: 4px 4px; // 确保上下左右内边距一致
    min-height: auto; // 让高度自适应内容
    border-bottom-width: 2px;
    display: flex;
    align-items: center;
  }
`;Xn.h3`
  font-size: 14px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  margin: 0 0 4px 0;
  padding-bottom: 4px;
  border-bottom: 1px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  display: none; // 竖屏模式下隐藏标题以节省空间
`;const Ri=Xn.div`
  display: grid;
  grid-template-columns: repeat(5, 1fr); // 5个按钮平均分布
  gap: 2px;
  margin: 0;
  padding: 2px 0; // 进一步减小内边距以减小整体高度
  
  // 竖屏模式下确保上下内边距一致
  @media (max-width: 768px) and (orientation: portrait) {
    padding: 2px 0; // 上下内边距一致
    width: 100%;
  }
`,Ni=Xn(({isActive:e,...t})=>v.jsx("button",{...t}))`
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: ${e=>{var t,n;return e.isActive?(null==(t=e.theme)?void 0:t.primary)||"#3498db":(null==(n=e.theme)?void 0:n.background)||"#f8f9fa"}};
  color: ${e=>{var t;return e.isActive?"white":(null==(t=e.theme)?void 0:t.text)||"#666666"}};
  border: none;
  border-radius: 8px;
  padding: 4px;
  cursor: pointer;
  transition: all 0.2s ease;
  min-height: 40px; // 减小最小高度
  height: auto; // 允许高度自适应内容
  
  // 竖屏模式下确保按钮在容器中垂直居中
  @media (max-width: 768px) and (orientation: portrait) {
    min-height: 32px;
    height: 32px; // 固定高度以确保一致性
    padding: 0; // 移除内边距以控制高度
    margin: 0;
  }
  font-size: 12px;
  font-family: inherit;
  margin: 0;
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  
  // 添加渐变背景效果
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(52, 152, 219, 0.1), transparent);
    transition: all 0.5s ease;
  }
  
  &:hover {
    background-color: ${e=>{var t,n;return e.isActive?(null==(t=e.theme)?void 0:t.primary)||"#3498db":((null==(n=e.theme)?void 0:n.primary)||"#3498db")+"15"}};
    border-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#3498db"}};
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    
    &::before {
      left: 100%;
    }
  }
  
  &:focus {
    outline: none;
    border-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#3498db"}};
  }
  
  &:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
  }
`,Mi=Xn.span`
  font-size: 26px;
  display: flex;
  align-items: center;
  justify-content: center;
`,Wi=()=>v.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:v.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),Di=()=>v.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:v.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),Fi=()=>v.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:v.jsx("path",{d:"M8 5v14l11-7z"})}),Li=()=>v.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"#FFD700",children:v.jsx("path",{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6A4.997 4.997 0 0 1 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"})}),Bi=()=>v.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:[v.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",fill:"transparent",stroke:"currentColor",strokeWidth:"1.5"}),v.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"1"}),v.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"1"}),v.jsx("text",{x:"7",y:"10",fontSize:"6",fontWeight:"bold",children:"2"}),v.jsx("text",{x:"15",y:"18",fontSize:"6",fontWeight:"bold",children:"5"}),v.jsx("text",{x:"25",y:"6",fontSize:"7",fontWeight:"900",fill:"currentColor",children:"1"})]}),Oi=()=>v.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 256 256",fill:"currentColor",children:[v.jsx("path",{d:"m18 82.85c-2.3 3.07-1.51 73.57 0 76s105.83 59.7 108.54 59.7 111.26-62.11 111.86-64.22 1.81-67.54 0-69-54.22-29.33-57.54-29.33-50.65 26.53-53.37 26.53-49.14-27.11-52.76-27.11-54.88 25.02-56.73 27.43z"}),v.jsx("path",{d:"m126.59 226.53c-2.48 0-4.11 0-58.58-29.93s-55.41-31.38-56.75-33.53c-1.2-1.92-2.44-3.9-2.64-41.94-.21-38.76 1.29-40.76 3-43.08 1.2-1.59 2.55-3.4 30.57-17s30.64-13.63 32.54-13.63c3.33 0 6.33 1.28 33.23 16 6.7 3.67 15.43 8.45 19.59 10.51 4.35-2.07 13.65-7 20.78-10.73 26.67-14.06 29.37-15.2 32.53-15.2 2.32 0 4.16 0 33 15 4.54 2.35 27.31 14.18 29.67 16.15 3.29 2.74 3.5 6 3.73 17.11.15 7.47.12 16.85.06 23.41-.11 12.58-.42 34.1-1.21 36.87-1 3.33-3.11 4.69-8.31 7.95-3 1.87-7.23 4.44-12.65 7.66-9.9 5.88-23.36 13.71-37.9 22-14.25 8.21-27.88 15.85-38.25 21.64-19.38 10.74-20 10.74-22.41 10.74zm-101.14-72.31c14.41 8.86 85.68 48.05 101.07 55.58 15.71-8 89.25-50.18 104.23-59.78.52-11.66 1-48.65.35-59.82-10.07-5.62-41.48-22-50.19-25.72-4.85 2.19-16.82 8.5-25.12 12.87-24.1 12.7-25.4 13.19-28.3 13.19s-4.19-.48-27.22-13.09c-8.54-4.67-20.92-11.45-25.74-13.64-8.53 3.29-40.18 18.59-49.28 23.84-1.09 11.6-.74 54.56.2 66.57z"}),v.jsx("path",{d:"m18 82.85c-2.3 3.07-1.51 73.57 0 76s105.83 59.7 108.54 59.7 111.26-62.11 111.86-64.22 1.81-67.54 0-69-54.22-29.33-57.54-29.33-50.65 26.53-53.37 26.53-49.14-27.11-52.76-27.11-54.88 25.02-56.73 27.43z"}),v.jsx("path",{d:"m69.43 110.77c-.9 3.61-2.07 7.49-10.58 8.39-11 1.16-11 11.87 0 13.17 6.77.8 10 5.39 10.24 7.84 1.53 14.82 13.36 17.48 15.74 2.44.92-5.81 2.22-9.9 8.86-10.85 11.76-1.68 11.92-10.69 2.14-12.83-3-.66-8.77-1.17-10.24-7.79-2.86-12.89-12.49-15.04-16.16-.37z"}),v.jsx("path",{d:"m189.74 106.26c0 6.08-6 12.51-10.77 11.92-5.5-.69-10.54-5.61-10.54-11.69s4.24-10.1 10.31-10.31c6.64-.23 11 4 11 10.08z"}),v.jsx("path",{d:"m168.42 148.13c0-6.08 6-12.51 10.77-11.92 5.5.69 10.54 5.61 10.54 11.69s-4.24 10.1-10.31 10.31c-6.64.23-11-4.01-11-10.08z"}),v.jsx("path",{d:"m200 137.85c-6.08 0-12.51-6-11.92-10.77.69-5.5 5.61-10.54 11.69-10.54s10.1 4.24 10.31 10.31c.25 6.64-3.99 11-10.08 11z"}),v.jsx("path",{d:"m158.15 116.54c6.08 0 12.51 6 11.92 10.77-.69 5.5-5.61 10.54-11.69 10.54s-10.1-4.24-10.31-10.31c-.23-6.65 4-11 10.08-11z"}),v.jsx("path",{d:"M40 110h24v-24h24v24h24v24h-24v24h-24v-24h-24v-24z",fill:"white",stroke:"black",strokeWidth:"4"}),v.jsx("circle",{cx:"190",cy:"95",r:"14",fill:"white",stroke:"black",strokeWidth:"4"}),v.jsx("circle",{cx:"214",cy:"119",r:"14",fill:"white",stroke:"black",strokeWidth:"4"}),v.jsx("circle",{cx:"190",cy:"143",r:"14",fill:"white",stroke:"black",strokeWidth:"4"}),v.jsx("circle",{cx:"166",cy:"119",r:"14",fill:"white",stroke:"black",strokeWidth:"4"})]}),Hi=()=>v.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:[v.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}),v.jsx("path",{d:"M12 15.4l-3.78 1.98 0.69-4.06-2.97-2.88 4.08-0.6 1.98-3.7 1.98 3.7 4.08 0.6-2.97 2.88 0.69 4.06L12 15.4z"})]}),_i=({onNewGame:t,onPauseTimer:n,onGetHint:o,onShowTechniques:r,onToggleNotes:i,onSettings:l,isNotesMode:a=!1,isTimerActive:s=!0,gameCompleted:c=!1})=>{ne();const{t:d}=le(),{mode:u,setMode:h}=e.useContext(de),p=Tr(),{startLoading:f,stopLoading:g}=ce(),[m,y]=e.useState(!1),[x,b]=e.useState(!1),[w,C]=e.useState(!1),[S,k]=e.useState(!1),[$,T]=e.useState(!1),[A,z]=e.useState(0),[j,P]=e.useState(!1),[E,q]=e.useState({}),I=e.useRef(null),R=e.useRef(null),[N,M]=e.useState(0),[W,D]=e.useState([]);e.useEffect(()=>{const e=()=>{console.log("NavigationBlock: 接收到打开新游戏窗口的事件"),b(!1),y(!0)};return window.addEventListener("openNewGameWindow",e),()=>{window.removeEventListener("openNewGameWindow",e)}},[]);const F=()=>{if(p&&"function"==typeof p.areCandidatesComplete){p.areCandidatesComplete()?(q({title:d("noTechniquesAvailableTitle","没有可用技巧"),message:d("noTechniquesAvailableMessage","当前没有可用的技巧机会，是否需要提示一个答案？"),confirmText:d("yes","是"),cancelText:d("no","否"),onConfirm:()=>{L()}}),P(!0)):(q({title:d("candidatesIncompleteTitle","候选数不完整"),message:d("candidatesIncompleteMessage","当前候选数不完整，是否需要刷新填充候选数并查找新的技巧机会？"),confirmText:d("yes","是"),cancelText:d("no","否"),onConfirm:()=>{p.fillAllCandidates&&p.fillAllCandidates()}}),P(!0))}else K.info(d("noTechniquesAvailable",{defaultMessage:"当前没有可用的技巧机会"}),{position:"top-right",autoClose:2e3})},L=async()=>{try{const e=B();e?(K.info(`${d("answerHint","答案提示")}: ${e.description}`,{position:"top-right",autoClose:3e3}),p.fillCell&&(console.log("准备填入答案:",e),setTimeout(()=>{console.log("实际填入答案:",e.row,e.col,e.value),p.fillCell(e.row,e.col,e.value,!0),p.setSelectedCell&&p.setSelectedCell({row:e.row,col:e.col})},100))):K.info(d("noHintAvailable",{defaultMessage:"无法提供答案提示"}),{position:"top-right",autoClose:2e3})}catch(e){console.error("获取答案提示失败:",e),K.error(d("hintError",{defaultMessage:"获取答案提示时出错，请重试"}),{position:"top-right",autoClose:2e3})}},B=()=>p&&p.currentBoard?((e,t)=>{const n=(t,n)=>t>=0&&t<9&&n>=0&&n<9&&0===e[t][n],o=(t,n,o)=>{for(let l=0;l<9;l++)if(e[t][l]===o)return!1;for(let l=0;l<9;l++)if(e[l][n]===o)return!1;const r=3*Math.floor(t/3),i=3*Math.floor(n/3);for(let l=r;l<r+3;l++)for(let t=i;t<i+3;t++)if(e[l][t]===o)return!1;return!0};for(let i=0;i<9;i++)for(let e=0;e<9;e++)if(n(i,e)){const n=[];for(let t=1;t<=9;t++)o(i,e,t)&&n.push(t);if(1===n.length)return{row:i,col:e,value:t&&t[i]&&t[i][e]?t[i][e]:n[0],technique:"nakedSingle",description:`唯一数法：该单元格(${i+1},${e+1})只有一个可能的数字`}}for(let i=0;i<9;i++)for(let r=1;r<=9;r++){let l=!1;for(let t=0;t<9;t++)if(e[i][t]===r){l=!0;break}if(l)continue;let a=0,s=-1;for(let e=0;e<9;e++)n(i,e)&&o(i,e,r)&&(a++,s=e);if(1===a)return{row:i,col:s,value:t&&t[i]&&t[i][s]?t[i][s]:r,technique:"hiddenSingle",description:`行摒除法：该数字在第${i+1}行只能放在第${s+1}列`}}for(let i=0;i<9;i++)for(let r=1;r<=9;r++){let l=!1;for(let t=0;t<9;t++)if(e[t][i]===r){l=!0;break}if(l)continue;let a=0,s=-1;for(let e=0;e<9;e++)n(e,i)&&o(e,i,r)&&(a++,s=e);if(1===a)return{row:s,col:i,value:t&&t[s]&&t[s][i]?t[s][i]:r,technique:"hiddenSingle",description:`列摒除法：该数字在第${i+1}列只能放在第${s+1}行`}}for(let i=0;i<3;i++)for(let r=0;r<3;r++)for(let l=1;l<=9;l++){let a=!1;for(let t=0;t<3;t++){for(let n=0;n<3;n++){const o=3*r+n;if(e[3*i+t][o]===l){a=!0;break}}if(a)break}if(a)continue;let s=0,c=-1,d=-1;for(let e=0;e<3;e++)for(let t=0;t<3;t++){const a=3*i+e,u=3*r+t;n(a,u)&&o(a,u,l)&&(s++,c=a,d=u)}if(1===s)return{row:c,col:d,value:t&&t[c]&&t[c][d]?t[c][d]:l,technique:"hiddenSingle",description:`宫摒除法：该数字在第${3*Math.floor(row/3)+1}-${3*Math.floor(row/3)+3}行第${3*Math.floor(col/3)+1}-${3*Math.floor(col/3)+3}宫只能放在第${c+1}行第${d+1}列`}}const r=jo(e);if(r){const[e,n]=r;for(let r=1;r<=9;r++)if(o(e,n,r))return{row:e,col:n,value:t&&t[e]&&t[e][n]?t[e][n]:r,technique:"random",description:`提示：第${e+1}行第${n+1}列这是一个可能的数字`}}return null})(p.currentBoard,p.solution):null,O=e=>{const t=[],{cells:n=[],targetCells:o=[],values:r=[],removableCandidates:i=[],result:l={}}=e,a=e.type&&("nakedSingle"===e.type||"notesSingle"===e.type||e.type.includes("hiddenSingle")),s=e.type&&e.type.includes("alsXZ"),c=e.type&&("sdc"===e.type||e.type.includes("Sue De Coq"));if(a){if(!("number"==typeof e.row&&"number"==typeof e.col))return p.setHighlightedCells(t),t;const n=e.row,o=e.col;let r=e.value||e.number||"";if(t.push({row:n,col:o,techniqueIndicator:!0,targetNumber:r,isTarget:!0,techniqueType:e.type}),"hiddenSingleRow"===e.type)for(let e=0;e<9;e++)e!==o&&t.push({row:n,col:e,techniqueIndicator:!0,regionHighlight:!0});else if("hiddenSingleCol"===e.type)for(let e=0;e<9;e++)e!==n&&t.push({row:e,col:o,techniqueIndicator:!0,regionHighlight:!0});else if("hiddenSingleBox"===e.type){const e=Math.floor(n/3),r=Math.floor(o/3);for(let i=3*e;i<3*e+3;i++)for(let e=3*r;e<3*r+3;e++)i===n&&e===o||t.push({row:i,col:e,techniqueIndicator:!0,regionHighlight:!0})}else if("nakedSingle"===e.type||"notesSingle"===e.type){const e=new Set;e.add(`${n}-${o}`);for(let o=0;o<9;o++){const r=`${n}-${o}`;e.has(r)||(t.push({row:n,col:o,techniqueIndicator:!0,regionHighlight:!0}),e.add(r))}for(let n=0;n<9;n++){const r=`${n}-${o}`;e.has(r)||(t.push({row:n,col:o,techniqueIndicator:!0,regionHighlight:!0}),e.add(r))}const r=Math.floor(n/3),i=Math.floor(o/3);for(let n=3*r;n<3*r+3;n++)for(let o=3*i;o<3*i+3;o++){const r=`${n}-${o}`;e.has(r)||(t.push({row:n,col:o,techniqueIndicator:!0,regionHighlight:!0}),e.add(r))}}}else if(c){const n=p.pencilNotes||{},o=new Map;e.sdcCells&&Array.isArray(e.sdcCells)&&e.sdcCells.forEach(([t,r])=>{const i=`${t}-${r}`,l=n[i]||[];if(l.length>0){const n=e.sdcCandidates||[],a=l.filter(e=>n.includes(e));o.has(i)||o.set(i,{row:t,col:r,sdcCandidates:[],groupACandidates:[],groupBCandidates:[],removableCandidates:[]});const s=o.get(i);a.length>0&&s.sdcCandidates.push(...a)}}),e.groupA&&e.groupA.cells&&Array.isArray(e.groupA.cells)&&e.groupA.cells.forEach(([t,r])=>{const i=`${t}-${r}`,l=n[i]||[];if(l.length>0){const n=e.groupA.candidates||[],a=l.filter(e=>n.includes(e));o.has(i)||o.set(i,{row:t,col:r,sdcCandidates:[],groupACandidates:[],groupBCandidates:[],removableCandidates:[]});const s=o.get(i);a.length>0&&s.groupACandidates.push(...a)}}),e.groupB&&e.groupB.cells&&Array.isArray(e.groupB.cells)&&e.groupB.cells.forEach(([t,r])=>{const i=`${t}-${r}`,l=n[i]||[];if(l.length>0){const n=e.groupB.candidates||[],a=l.filter(e=>n.includes(e));o.has(i)||o.set(i,{row:t,col:r,sdcCandidates:[],groupACandidates:[],groupBCandidates:[],removableCandidates:[]});const s=o.get(i);a.length>0&&s.groupBCandidates.push(...a)}}),Array.isArray(e.removableCandidates)&&e.removableCandidates.forEach(e=>{const{row:t,col:r,value:i}=e,l=`${t}-${r}`;if((n[l]||[]).includes(i)){o.has(l)||o.set(l,{row:t,col:r,sdcCandidates:[],groupACandidates:[],groupBCandidates:[],removableCandidates:[]});o.get(l).removableCandidates.push(i)}}),o.forEach((n,o)=>{t.push({row:n.row,col:n.col,techniqueIndicator:!0,techniqueType:e.type,highlightType:"sdc",isTarget:!1,backgroundColor:"transparent",borderColor:"transparent",sdcCandidates:{sdcCandidates:n.sdcCandidates,groupACandidates:n.groupACandidates,groupBCandidates:n.groupBCandidates,removableCandidates:n.removableCandidates}})})}else if(s){const n=p.pencilNotes||{},o=new Map;e.als1&&Array.isArray(e.als1.cells)&&e.als1.cells.forEach(([t,r])=>{const i=`${t}-${r}`,l=n[i]||[];if(l.length>0){const n=l.filter(t=>t===e.x),a=l.filter(t=>t!==e.x);o.has(i)||o.set(i,{row:t,col:r,xCandidates:[],als1Candidates:[],als2Candidates:[],removableCandidates:[]});const s=o.get(i);n.length>0&&s.xCandidates.push(...n),a.length>0&&s.als1Candidates.push(...a)}}),e.als2&&Array.isArray(e.als2.cells)&&e.als2.cells.forEach(([t,r])=>{const i=`${t}-${r}`,l=n[i]||[];if(l.length>0){const n=l.filter(t=>t===e.x),a=l.filter(t=>t!==e.x);o.has(i)||o.set(i,{row:t,col:r,xCandidates:[],als1Candidates:[],als2Candidates:[],removableCandidates:[]});const s=o.get(i);n.length>0&&s.xCandidates.push(...n),a.length>0&&s.als2Candidates.push(...a)}}),Array.isArray(e.removableCandidates)&&e.removableCandidates.forEach(e=>{const{row:t,col:r,value:i}=e,l=`${t}-${r}`;if((n[l]||[]).includes(i)){o.has(l)||o.set(l,{row:t,col:r,xCandidates:[],als1Candidates:[],als2Candidates:[],removableCandidates:[]});o.get(l).removableCandidates.push(i)}}),o.forEach((n,o)=>{t.push({row:n.row,col:n.col,techniqueIndicator:!0,techniqueType:e.type,highlightType:"alsXZ",isTarget:!1,backgroundColor:"transparent",borderColor:"transparent",alsXZCandidates:{xCandidates:n.xCandidates,als1Candidates:n.als1Candidates,als2Candidates:n.als2Candidates,removableCandidates:n.removableCandidates}})})}else Array.isArray(n)&&n.length>0&&n.forEach(n=>{const o=Array.isArray(n)?n[0]:"number"==typeof n.row?n.row:null,r=Array.isArray(n)?n[1]:"number"==typeof n.col?n.col:null;null!==o&&null!==r&&t.push({row:o,col:r,techniqueIndicator:!0,techniqueType:e.type,highlightType:"condition",isTarget:!1,backgroundColor:"transparent",borderColor:"transparent"})}),Array.isArray(o)&&o.length>0&&o.forEach(n=>{const o=Array.isArray(n)?n[0]:"number"==typeof n.row?n.row:null,r=Array.isArray(n)?n[1]:"number"==typeof n.col?n.col:null;if(null!==o&&null!==r){const n=t.findIndex(e=>e.row===o&&e.col===r);-1===n?t.push({row:o,col:r,techniqueIndicator:!0,techniqueType:e.type,highlightType:"target",isTarget:!0,backgroundColor:"transparent",borderColor:"transparent"}):(t[n].highlightType="target",t[n].isTarget=!0,t[n].backgroundColor="transparent",t[n].borderColor="transparent")}});p.setHighlightedCells(t)},H=()=>{T(!0),z(0);const e=Date.now(),t=()=>{const n=Date.now()-e,o=Math.min(n/3e3*100,100);z(o),o<100?I.current=requestAnimationFrame(t):Z()};I.current=requestAnimationFrame(t)},_=()=>{R.current&&(clearTimeout(R.current),R.current=null),I.current&&(cancelAnimationFrame(I.current),I.current=null),$&&A<100&&G(),T(!1),z(0)},[X,Y]=e.useState(!1),G=()=>{if(!X){if(Y(!0),console.log("候选数按钮短点击"),console.log("sudokuContext:",p),!p)return console.log("sudokuContext不存在"),K.info(d("errorOccurred",{defaultMessage:"系统错误，请刷新页面重试"}),{position:"top-right",autoClose:2e3}),void setTimeout(()=>Y(!1),500);if(p.selectedCell){const{row:e,col:t}=p.selectedCell;console.log("选中的单元格:",e,t),p.currentBoard&&p.currentBoard[e]&&0===p.currentBoard[e][t]?(console.log("单元格是空白的，准备填充候选数"),p.fillSelectedCellCandidates?(console.log("调用fillSelectedCellCandidates方法"),p.fillSelectedCellCandidates(e,t)):(console.log("fillSelectedCellCandidates方法不存在"),K.info(d("functionNotAvailable",{defaultMessage:"该功能暂不可用"}),{position:"top-right",autoClose:2e3}))):(console.log("单元格不是空白的或currentBoard不存在"),K.info(d("selectEmptyCell",{defaultMessage:"请选择一个空白单元格"}),{position:"top-right",autoClose:2e3}))}else console.log("没有选中的单元格"),K.info(d("selectCellForCandidates",{defaultMessage:"请先选择一个空白单元格"}),{position:"top-right",autoClose:2e3});setTimeout(()=>Y(!1),500)}},Z=()=>{console.log("候选数按钮长按"),k(!0),i&&(i(),b(!0)),setTimeout(()=>{k(!1),T(!1),z(0)},3e3)};return v.jsxs(v.Fragment,{children:[v.jsx(Ii,{children:v.jsxs(Ri,{children:[v.jsx(Ni,{onClick:()=>{console.log("NavigationBlock: 打开难度选择模态框"),b(!1),y(!0)},title:d("newGame"),children:v.jsx(Mi,{children:v.jsx(Wi,{})})}),v.jsx(Ni,{onClick:c?void 0:n,disabled:c,title:d(c?"gameCompleted":s?"pauseTimer":"resume"),children:v.jsx(Mi,{children:c||s?v.jsx(Di,{}):v.jsx(Fi,{})})}),v.jsx(Ni,{onClick:()=>{if(p&&"function"==typeof p.setSelectedCell&&p.setSelectedCell(null),p&&"function"==typeof p.identifyTechniques)try{const e=p.identifyTechniques();if(e&&e.length>0){W.length===e.length&&JSON.stringify(W)===JSON.stringify(e)||(D(e),M(0));const t=e[N];let n=d("foundTechnique","找到技巧：");if(n+=d(t.type)||d("unknownTechnique")||t.type,void 0!==t.row&&void 0!==t.col){n+=` ${d("position",{defaultMessage:"位置"})}:(${t.row+1},${t.col+1})`}if(void 0!==t.value){n+=` ${d("number",{defaultMessage:"数字"})}:${t.value}`}K.info(n,{position:"top-right",autoClose:3e3}),p.setHighlightedCells&&O(t);const o=(N+1)%e.length;M(o)}else F()}catch(e){console.error("获取技巧失败:",e),K.error(d("techniqueError",{defaultMessage:"获取技巧时出错，请重试"}),{position:"top-right",autoClose:2e3})}else console.error("identifyTechniques 函数不可用"),o&&o()},title:d("hint"),children:v.jsx(Mi,{children:v.jsx(Li,{})})}),v.jsxs(Ni,{onMouseDown:H,onMouseUp:_,onMouseLeave:_,onTouchStart:e=>{H()},onTouchEnd:e=>{_()},title:d("notes"),isActive:x||S,style:{position:"relative"},children:[v.jsx(Mi,{children:S?v.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:[v.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",fill:"transparent",stroke:"currentColor",strokeWidth:"1.5"}),v.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"1"}),v.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"1"}),v.jsx("text",{x:"7",y:"10",fontSize:"6",fontWeight:"bold",children:"2"}),v.jsx("text",{x:"15",y:"18",fontSize:"6",fontWeight:"bold",children:"5"}),v.jsx("text",{x:"18",y:"6",fontSize:"6",fontWeight:"900",fill:"currentColor",children:"All"})]}):v.jsx(Bi,{})}),$&&v.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${A}%`,height:"100%",backgroundColor:"rgba(52, 152, 219, 0.3)",zIndex:-1,transition:"width 0.1s linear"}})]}),v.jsx(Ni,{onClick:()=>{C(!0)},title:"game"===u?d("switchToLearningMode")||"切换到学习模式":d("switchToGameMode")||"切换到游戏模式",children:v.jsx(Mi,{children:"game"===u?v.jsx(Oi,{}):v.jsx(Hi,{})})})]})}),v.jsx(Ci,{isOpen:m,onClose:()=>y(!1),onSelectDifficulty:async e=>{console.log("NavigationBlock: 选择难度:",e);try{b(!1),r&&console.log("将在生成新游戏时重置技巧状态"),f&&f(d("generatingNewPuzzle")),(null==p?void 0:p.startNewGame)?(console.log("调用 context.startNewGame"),await p.startNewGame(null,e),console.log("startNewGame 完成")):(null==p?void 0:p.generateNewPuzzle)?(console.log("调用 context.generateNewPuzzle"),await p.generateNewPuzzle(e),console.log("generateNewPuzzle 完成")):console.error("上下文函数不可用")}catch(t){console.error("生成新游戏失败:",t)}finally{g&&g()}},initialDifficulty:(null==p?void 0:p.difficulty)||kr.MEDIUM}),v.jsx(qi,{isOpen:w,onClose:()=>{C(!1)},currentMode:u,onConfirm:()=>{h("game"===u?"learning":"game"),C(!1)}}),v.jsx(si,{isOpen:j,onClose:()=>P(!1),onConfirm:E.onConfirm,title:E.title,message:E.message,confirmText:E.confirmText,cancelText:E.cancelText})]})},Xi=Xn(({theme:e,...t})=>v.jsx("div",{...t})).attrs({className:"display-block"})`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  border-radius: var(--border-radius, 8px);
  padding: 8px;
  box-shadow: 0 2px 8px ${e=>{var t;return(null==(t=e.theme)?void 0:t.shadow)||"rgba(0, 0, 0, 0.1)"}};
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 4px;
  width: 100%; // 继承父容器宽度，确保与控制面板同宽
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  margin: 0;
  box-sizing: border-box;
  border: 1px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  
  // 明确的竖屏模式检测 - 确保只影响竖屏显示
  @media (orientation: portrait) {
    padding: 4px 6px;
    gap: 4px;
    min-height: 32px;
    max-height: 32px; // 增加高度以确保文字正常显示
    line-height: 1.2;
    flex-direction: row; // 改为水平排列
    justify-content: space-between; // 均匀分布
  }
`,Yi=Xn.div`
  font-size: 14px;
  font-weight: 500;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.textSecondary)||"#666666"}};
  display: flex;
  align-items: center;
  gap: 4px;
  margin: 0;
  padding: 0;
  
  // 明确的竖屏模式 - 调整高度以确保文字正常显示
  @media (orientation: portrait) {
    font-size: 11px;
    line-height: 1.2;
    padding: 0;
    height: auto;
    margin: 0;
    flex-shrink: 0;
  }
`,Gi=Xn.span`
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.error)||"#ff3b30"}};
  font-weight: 600;
`,Zi=Xn.div`
  font-size: 16px;
  font-weight: 600;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
  text-align: center;
  margin: 0;
  padding: 0;
  
  // 明确的竖屏模式 - 调整高度以确保文字正常显示
  @media (orientation: portrait) {
    font-size: 12px;
    line-height: 1.2;
    padding: 0;
    height: auto;
    margin: 0;
    flex-shrink: 0;
  }
`,Ui=Xn.div`
  font-size: 16px;
  font-weight: 600;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  margin: 0;
  padding: 0;
  
  // 明确的竖屏模式 - 调整高度以确保文字正常显示
  @media (orientation: portrait) {
    font-size: 12px;
    line-height: 1.2;
    padding: 0;
    height: auto;
    margin: 0;
    flex-shrink: 0;
  }
`,Ji=({errorCount:e,difficulty:t,time:n})=>{ne();const{t:o}=le();return v.jsxs(Xi,{children:[v.jsxs(Yi,{children:[o("error"),": ",v.jsx(Gi,{children:e})]}),v.jsx(Zi,{children:o(t)}),v.jsx(Ui,{children:n})]})},Vi=({highlightedCells:t,boardWidth:n,boardHeight:o,isPortrait:r=!1})=>{if(!t||!Array.isArray(t))return null;const i=t.filter(e=>e&&!0===e.techniqueIndicator&&"number"==typeof e.row&&"number"==typeof e.col&&e.row>=0&&e.row<9&&e.col>=0&&e.col<9);if(0===i.length)return null;let l,a,s,c;r&&o?(l=n/9,a=o/9,s=`${Math.max(16,.45*Math.min(l,a))}px`,c=o):(l=n/9,a=l,s=`${Math.max(16,.45*l)}px`,c=n);const d=e.useMemo(()=>{const e=[];return i.forEach(t=>{if(t.techniqueType&&("nakedSingle"===t.techniqueType||"notesSingle"===t.techniqueType||t.techniqueType.includes("hiddenSingle"))&&t.relatedAreas&&Array.isArray(t.relatedAreas)){const{row:n,col:o}=t;if(t.relatedAreas.includes("row")&&e.push({type:"row",row:n,key:`row-${n}`}),t.relatedAreas.includes("col")&&e.push({type:"col",col:o,key:`col-${o}`}),t.relatedAreas.includes("box")){const t=Math.floor(n/3),r=Math.floor(o/3);e.push({type:"box",boxRow:t,boxCol:r,key:`box-${t}-${r}`})}}}),e},[i,l,a]),u=e=>e.techniqueType&&e.techniqueType.includes("alsXZ")?null:e.notesToRemove&&Array.isArray(e.notesToRemove)&&0!==e.notesToRemove.length?e.notesToRemove.map(t=>{if("number"!=typeof t||t<1||t>9)return null;const n=t-1,o=Math.floor(n/3),r=n%3,i=.35*Math.min(l,a),s=.05*Math.min(l,a),c=(Math.min(l,a)-2*s)/3,d=s+r*c+(c-i)/2,u=s+o*c+(c-i)/2;return v.jsxs("div",{style:{position:"absolute",left:`${d}px`,top:`${u}px`,width:`${i}px`,height:`${i}px`,display:"flex",alignItems:"center",justifyContent:"center",zIndex:60},children:[v.jsx("div",{style:{position:"absolute",width:.75*i+"px",height:.75*i+"px",backgroundColor:"#FF0000",borderRadius:"50%",zIndex:60,fontWeight:"bold",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"}}),v.jsx("span",{style:{fontSize:.7*i+"px",fontWeight:"bold",color:"#FFFFFF",zIndex:65,textShadow:"1px 1px 1px rgba(0, 0, 0, 0.5)",position:"relative"},children:t})]},`removable-note-${e.row}-${e.col}-${t}`)}):null,h=(e,t)=>{const n=[];return e.forEach((e,o)=>{e.notes.forEach(r=>{if("number"!=typeof r||r<1||r>9)return;const i=r-1,s=Math.floor(i/3),c=i%3,d=.35*Math.min(l,a),u=.05*Math.min(l,a),h=(Math.min(l,a)-2*u)/3,p=u+c*h+(h-d)/2,f=u+s*h+(h-d)/2;let g,m,y,x,b;switch(e.type){case"sdc-core":g="#FFD700",m="#000000",y="0 1px 2px rgba(0, 0, 0, 0.3)",x="50%",b=85;break;case"sdc-groupA":case"uniqueness-extra":g="#ADD8E6",m="#000000",y="0 1px 2px rgba(0, 0, 0, 0.3)",x="50%",b=80;break;case"sdc-groupB":case"uniqueness-base":g="#90EE90",m="#000000",y="0 1px 2px rgba(0, 0, 0, 0.3)",x="50%",b=75;break;case"sdc-removeable":case"alsXZ-removeable":case"uniqueness-removeable":g="#FF0000",m="#FFFFFF",y="0 1px 2px rgba(0, 0, 0, 0.3)",x="50%",b=90;break;case"alsXZ-x":g="#ADD8E6",m="#000000",y="0 1px 2px rgba(0, 0, 0, 0.3)",x="50%",b=85;break;case"alsXZ-als1-other":g="#90EE90",m="#000000",y="0 1px 2px rgba(0, 0, 0, 0.3)",x="50%",b=80;break;case"alsXZ-als2-other":g="#DDA0DD",m="#000000",y="0 1px 2px rgba(0, 0, 0, 0.3)",x="50%",b=75;break;case"alsXZ-z":g="#1E90FF",m="#FFFFFF",y="0 1px 2px rgba(0, 0, 0, 0.3)",x="50%",b=85;break;default:g="#FFFFFF",m="#000000",y="0 1px 2px rgba(0,0,0,0.3)",x="50%",b=70}n.push(v.jsxs("div",{style:{position:"absolute",left:`${p}px`,top:`${f}px`,width:`${d}px`,height:`${d}px`,display:"flex",alignItems:"center",justifyContent:"center",zIndex:b},children:[v.jsx("div",{style:{position:"absolute",width:.75*d+"px",height:.75*d+"px",backgroundColor:g,borderRadius:x,zIndex:b-1,fontWeight:"bold",border:"none",boxShadow:y,transform:"scale(1)",transition:"all 0.2s ease"}}),v.jsx("span",{style:{fontSize:.7*d+"px",fontWeight:"bold",color:m,zIndex:b,fontFamily:"Arial, sans-serif",position:"relative"},children:r})]},`alsXZ-${o}-${t.row}-${t.col}-${r}-${e.type}`))})}),n},p=e=>{if(e.techniqueType&&e.techniqueType.includes("sdc")&&e.sdcCandidates){const t=[],{sdcCandidates:n,groupACandidates:o,groupBCandidates:r,removableCandidates:i}=e.sdcCandidates;return n&&n.length>0&&t.push({notes:n,type:"sdc-core"}),o&&o.length>0&&t.push({notes:o,type:"sdc-groupA"}),r&&r.length>0&&t.push({notes:r,type:"sdc-groupB"}),i&&i.length>0&&t.push({notes:i,type:"sdc-removeable"}),t.length>0?h(t,e):null}if(e.techniqueType&&e.techniqueType.includes("sdc"))return null;if(e.techniqueType&&e.techniqueType.includes("alsXZ")&&e.alsXZCandidates){const t=[],{xCandidates:n,als1Candidates:o,als2Candidates:r,removableCandidates:i}=e.alsXZCandidates;return n&&n.length>0&&t.push({notes:n,type:"alsXZ-x"}),o&&o.length>0&&t.push({notes:o,type:"alsXZ-als1-other"}),r&&r.length>0&&t.push({notes:r,type:"alsXZ-als2-other"}),i&&i.length>0&&t.push({notes:i,type:"alsXZ-removeable"}),t.length>0?h(t,e):null}if(e.techniqueType&&("uniqueness"===e.techniqueType||e.techniqueType.includes("uniqueness_")||e.techniqueType.includes("Avoidable Rectangle"))&&e.uniquenessCandidates){const t=[],{baseCandidates:n,extraCandidates:o,removableCandidates:r}=e.uniquenessCandidates,i=r&&r.length>0;return!i&&n&&n.length>0&&t.push({notes:n,type:"uniqueness-base"}),!i&&o&&o.length>0&&t.push({notes:o,type:"uniqueness-extra"}),i&&r&&r.length>0&&t.push({notes:r,type:"uniqueness-removeable"}),t.length>0?h(t,e):null}if(e.techniqueType&&e.techniqueType.includes("alsXZ"))return null;if(e.techniqueType&&("uniqueness"===e.techniqueType||e.techniqueType.includes("uniqueness_")||e.techniqueType.includes("Avoidable Rectangle")))return null;const t=e.pairNotes||e.highlightedValues||[];return Array.isArray(t)&&0!==t.length?t.map(t=>{if("number"!=typeof t||t<1||t>9)return null;const n=t-1,o=Math.floor(n/3),r=n%3,i=.35*Math.min(l,a),s=.05*Math.min(l,a),c=(Math.min(l,a)-2*s)/3,d=s+r*c+(c-i)/2,u=s+o*c+(c-i)/2;let h="#00FF00",p="#000000";if(e.techniqueType&&e.techniqueType.includes("yWing")&&e.zValue===t&&(h="#ADD8E6",p="#000000"),e.techniqueType&&e.techniqueType.includes("xyzWing")&&e.zValue===t&&(h="#ADD8E6",p="#000000"),e.techniqueType&&e.techniqueType.includes("xyzWing")&&void 0!==e.x&&void 0!==e.y&&void 0!==e.z){const n=e.pivotCell&&(Array.isArray(e.pivotCell)&&e.pivotCell[0]===e.row&&e.pivotCell[1]===e.col||e.pivotCell.row===e.row&&e.pivotCell.col===e.col),o=e.xzCell&&(Array.isArray(e.xzCell)&&e.xzCell[0]===e.row&&e.xzCell[1]===e.col||e.xzCell.row===e.row&&e.xzCell.col===e.col),r=e.yzCell&&(Array.isArray(e.yzCell)&&e.yzCell[0]===e.row&&e.yzCell[1]===e.col||e.yzCell.row===e.row&&e.yzCell.col===e.col);!n||t!==e.x&&t!==e.y||(h="#00FF00",p="#000000"),o&&t===e.x&&(h="#00FF00",p="#000000"),r&&t===e.y&&(h="#00FF00",p="#000000")}return v.jsxs("div",{style:{position:"absolute",left:`${d}px`,top:`${u}px`,width:`${i}px`,height:`${i}px`,display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:[v.jsx("div",{style:{position:"absolute",width:.75*i+"px",height:.75*i+"px",backgroundColor:h,borderRadius:"50%",zIndex:50,fontWeight:"bold",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.3)",transform:"scale(1)",transition:"all 0.2s ease"}}),v.jsx("span",{style:{fontSize:.7*i+"px",fontWeight:"bold",color:p,zIndex:55,fontFamily:"Arial, sans-serif",textShadow:"1px 1px 1px rgba(255, 255, 255, 0.5)",position:"relative"},children:t})]},`condition-note-${e.row}-${e.col}-${t}`)}):null};return v.jsxs("div",{style:{position:"absolute",top:0,left:0,width:n,height:c,pointerEvents:"none"},children:[d.map(e=>{const{type:t}=e;let o={};if("row"===t)o={position:"absolute",left:0,top:e.row*a+"px",width:n,height:a,backgroundColor:e.isALSXZ?"rgba(173, 216, 230, 0.2)":"rgba(0, 255, 0, 0.3)",zIndex:5,pointerEvents:"none"};else if("col"===t)o={position:"absolute",left:e.col*l+"px",top:0,width:l,height:c,backgroundColor:e.isALSXZ?"rgba(173, 216, 230, 0.2)":"rgba(0, 255, 0, 0.3)",zIndex:5,pointerEvents:"none"};else if("box"===t){const{boxRow:t,boxCol:n}=e;o={position:"absolute",left:3*n*l+"px",top:3*t*a+"px",width:3*l+"px",height:3*a+"px",backgroundColor:e.isALSXZ?"rgba(173, 216, 230, 0.2)":"rgba(0, 255, 0, 0.3)",zIndex:5,pointerEvents:"none"}}return v.jsx("div",{style:o},e.key)}),i.map(e=>{var t,n;if("nakedSingle"===e.techniqueType||"notesSingle"===e.techniqueType||(null==(t=e.techniqueType)?void 0:t.includes("hiddenSingle")))return null;const o=(e=>{const t=e.techniqueType&&e.techniqueType.includes("alsXZ"),n=e.techniqueType&&("sdc"===e.techniqueType||e.techniqueType.includes("Sue De Coq")),o=e.techniqueType&&("uniqueness"===e.techniqueType||e.techniqueType.includes("uniqueness_")||e.techniqueType.includes("Avoidable Rectangle")),r=e.techniqueType&&("nakedSingle"===e.techniqueType||"notesSingle"===e.techniqueType||e.techniqueType.includes("hiddenSingle")||e.techniqueType.includes("pair")||e.techniqueType.includes("triple")||e.techniqueType.includes("quad")||e.techniqueType.includes("xWing")||e.techniqueType.includes("swordfish")||e.techniqueType.includes("yWing")||e.techniqueType.includes("xyzWing"));return t||n||o||r||e.techniqueType&&(e.techniqueType.includes("xWing")||e.techniqueType.includes("swordfish")||e.techniqueType.includes("yWing")||e.techniqueType.includes("xyzWing")||e.techniqueType.includes("nakedTriple")),null})(e),r=e.col*l,i=e.row*a;return v.jsxs("div",{style:{position:"absolute",left:`${r}px`,top:`${i}px`,width:`${l}px`,height:`${a}px`,zIndex:1},children:[o&&v.jsx("div",{style:o}),p(e),u(e),(void 0!==e.value&&null!==e.value||void 0!==e.number&&null!==e.number)&&v.jsx("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100,pointerEvents:"none"},children:v.jsx("span",{style:{fontSize:s,fontWeight:"bold",color:"nakedSingle"===e.techniqueType||"notesSingle"===e.techniqueType||(null==(n=e.techniqueType)?void 0:n.includes("hiddenSingle"))?"#FFFFFF":"#FF0000"},children:void 0!==e.value&&null!==e.value?e.value:e.number})})]},`tech-cell-${e.row}-${e.col}`)})]})},Ki=({highlightedCells:e,boardWidth:t,boardHeight:n,isPortrait:o=!1})=>{if(!e||!Array.isArray(e))return null;const r=e.filter(e=>e&&!0===e.techniqueIndicator&&"number"==typeof e.row&&"number"==typeof e.col&&e.row>=0&&e.row<9&&e.col>=0&&e.col<9);if(0===r.length)return null;let i,l,a;o&&n?(i=t/9,l=n/9,a=n):(i=t/9,l=i,a=t);if(!r.some(e=>{if("nakedSingle"===e.techniqueType)return!0;if(e.technique&&e.technique.includes("nakedSingle"))return!0;if("primary"===e.highlightType&&e.isTarget){if(1===r.filter(e=>e.isTarget).length)return!0}const t=r.some(e=>"row"===e.highlightType),n=r.some(e=>"col"===e.highlightType),o=r.some(e=>"box"===e.highlightType);if(t&&n&&o){if(1===r.filter(e=>e.isTarget).length)return!0}return!1}))return null;const s=[];r.forEach(e=>{const{row:t,col:n,highlightType:o,relatedAreas:r}=e;if(s.some(e=>"cell"===e.type&&e.row===t&&e.col===n)||s.push({type:"cell",row:t,col:n,key:`cell-${t}-${n}`}),r&&Array.isArray(r)&&r.forEach(e=>{if("row"===e&&(s.some(e=>"row"===e.type&&e.row===t)||s.push({type:"row",row:t,key:`row-${t}`})),"col"===e&&(s.some(e=>"col"===e.type&&e.col===n)||s.push({type:"col",col:n,key:`col-${n}`})),"box"===e){const e=Math.floor(t/3),o=Math.floor(n/3);s.some(t=>"box"===t.type&&t.boxRow===e&&t.boxCol===o)||s.push({type:"box",boxRow:e,boxCol:o,key:`box-${e}-${o}`})}}),"row"===o&&(s.some(e=>"row"===e.type&&e.row===t)||s.push({type:"row",row:t,key:`row-${t}`})),"col"===o&&(s.some(e=>"col"===e.type&&e.col===n)||s.push({type:"col",col:n,key:`col-${n}`})),"box"===o){const e=Math.floor(t/3),o=Math.floor(n/3);s.some(t=>"box"===t.type&&t.boxRow===e&&t.boxCol===o)||s.push({type:"box",boxRow:e,boxCol:o,key:`box-${e}-${o}`})}});const c=[];if(0===s.length)c.push({top:0,left:0,width:t,height:a,key:"full-mask"});else{const e=Array(9).fill().map(()=>Array(9).fill(!1));s.forEach(t=>{if("row"===t.type)for(let n=0;n<9;n++)e[t.row][n]=!0;if("col"===t.type)for(let n=0;n<9;n++)e[n][t.col]=!0;if("box"===t.type){const n=3*t.boxRow,o=3*t.boxCol;for(let t=n;t<n+3;t++)for(let n=o;n<o+3;n++)e[t][n]=!0}"cell"===t.type&&(e[t.row][t.col]=!0)});for(let t=0;t<9;t++)for(let n=0;n<9;n++)e[t][n]||c.push({top:t*l,left:n*i,width:i,height:l,key:`cell-${t}-${n}`})}return v.jsx("div",{className:"technique-mask-overlay",style:{position:"absolute",top:0,left:0,width:`${t}px`,height:`${a}px`,pointerEvents:"none",zIndex:10,boxSizing:"border-box"},children:c.map(e=>v.jsx("div",{style:{position:"absolute",top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`,backgroundColor:"rgba(0, 0, 0, 0.4)",pointerEvents:"none",zIndex:1}},e.key))})},Qi=({highlightedCells:e,boardWidth:t,boardHeight:n,isPortrait:o=!1})=>{if(!e||!Array.isArray(e))return null;const r=e.filter(e=>e&&!0===e.techniqueIndicator&&e.techniqueType&&e.techniqueType.includes("nakedPair")&&"number"==typeof e.row&&"number"==typeof e.col&&e.row>=0&&e.row<9&&e.col>=0&&e.col<9);if(0===r.length)return null;let i,l,a;o&&n?(i=t/9,l=n/9,a=n):(i=t/9,l=i,a=t);const s=e=>e.pairNotes&&Array.isArray(e.pairNotes)&&0!==e.pairNotes.length?e.pairNotes.map(t=>{if("number"!=typeof t||t<1||t>9)return null;const n=t-1,o=Math.floor(n/3),r=n%3,a=.35*Math.min(i,l),s=.05*Math.min(i,l),c=(Math.min(i,l)-2*s)/3,d=s+r*c+(c-a)/2,u=s+o*c+(c-a)/2;return v.jsx("div",{style:{position:"absolute",left:`${d}px`,top:`${u}px`,width:`${a}px`,height:`${a}px`,backgroundColor:"#00FF00",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",zIndex:60,fontWeight:"bold",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:v.jsx("span",{style:{fontSize:.7*a+"px",fontWeight:"bold",color:"#000000",zIndex:65,textShadow:"1px 1px 1px rgba(255, 255, 255, 0.5)"},children:t})},`pair-note-${e.row}-${e.col}-${t}`)}):null,c=e=>e.notesToRemove&&Array.isArray(e.notesToRemove)&&0!==e.notesToRemove.length?e.notesToRemove.map(t=>{if("number"!=typeof t||t<1||t>9)return null;const n=t-1,o=Math.floor(n/3),r=n%3,a=.35*Math.min(i,l),s=.05*Math.min(i,l),c=(Math.min(i,l)-2*s)/3,d=s+r*c+(c-a)/2,u=s+o*c+(c-a)/2;return v.jsx("div",{style:{position:"absolute",left:`${d}px`,top:`${u}px`,width:`${a}px`,height:`${a}px`,backgroundColor:"#FF0000",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",zIndex:60,fontWeight:"bold",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:v.jsx("span",{style:{fontSize:.7*a+"px",fontWeight:"bold",color:"#FFFFFF",zIndex:65,textShadow:"1px 1px 1px rgba(0, 0, 0, 0.5)"},children:t})},`removable-note-${e.row}-${e.col}-${t}`)}):null;return v.jsx("div",{className:"naked-pair-overlay",style:{position:"absolute",top:0,left:0,width:`${t}px`,height:`${a}px`,pointerEvents:"none",zIndex:14,boxSizing:"border-box",background:"transparent"},children:r.map(e=>{const t=(e=>{const t={position:"absolute",left:e.col*i+"px",top:e.row*l+"px",width:`${i}px`,height:`${l}px`,pointerEvents:"none",boxSizing:"border-box",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},n={pair:{backgroundColor:"transparent",borderColor:"transparent",border:"none",zIndex:20},condition:{backgroundColor:"transparent",borderColor:"transparent",border:"none",zIndex:25},target:{backgroundColor:"transparent",borderColor:"transparent",border:"none",zIndex:30},removal:{backgroundColor:"transparent",borderColor:"transparent",border:"none",zIndex:25},default:{backgroundColor:"transparent",borderColor:"transparent",border:"none",zIndex:35}};return e.highlightType&&n[e.highlightType]?{...t,...n[e.highlightType]}:e.isTarget?{...t,...n.target}:{...t,...n.pair}})(e);return v.jsxs("div",{style:t,children:[s(e),c(e)]},`naked-pair-${e.row}-${e.col}-${e.highlightType||"default"}-${e.isTarget?"target":"normal"}`)})})};
/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */
function el(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function tl(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,sl(o.key),o)}}function nl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=dl(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(a)throw i}}}}function ol(e,t,n){return(t=sl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(n),!0).forEach(function(t){ol(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=i.call(n)).done)&&(a.push(o.value),a.length!==t);s=!0);}catch(d){c=!0,r=d}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw r}}return a}}(e,t)||dl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(e){return function(e){if(Array.isArray(e))return el(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sl(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function cl(e){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dl(e,t){if(e){if("string"==typeof e)return el(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?el(e,t):void 0}}var ul=function(){},hl={},pl={},fl=null,gl={mark:ul,measure:ul};try{"undefined"!=typeof window&&(hl=window),"undefined"!=typeof document&&(pl=document),"undefined"!=typeof MutationObserver&&(fl=MutationObserver),"undefined"!=typeof performance&&(gl=performance)}catch(Fh){}var ml=(hl.navigator||{}).userAgent,yl=void 0===ml?"":ml,xl=hl,bl=pl,vl=fl,wl=gl;xl.document;var Cl,Sl=!!bl.documentElement&&!!bl.head&&"function"==typeof bl.addEventListener&&"function"==typeof bl.createElement,kl=~yl.indexOf("MSIE")||~yl.indexOf("Trident/"),$l={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},Tl=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],Al="classic",zl="duotone",jl="sharp",Pl="sharp-duotone",El="chisel",ql="etch",Il="jelly",Rl="jelly-duo",Nl="jelly-fill",Ml="notdog",Wl="notdog-duo",Dl="slab",Fl="slab-press",Ll="thumbprint",Bl="utility",Ol="utility-duo",Hl="utility-fill",_l="whiteboard",Xl=[Al,zl,jl,Pl,El,ql,Il,Rl,Nl,Ml,Wl,Dl,Fl,Ll,Bl,Ol,Hl,_l];ol(ol(ol(ol(ol(ol(ol(ol(ol(ol(Cl={},Al,"Classic"),zl,"Duotone"),jl,"Sharp"),Pl,"Sharp Duotone"),El,"Chisel"),ql,"Etch"),Il,"Jelly"),Rl,"Jelly Duo"),Nl,"Jelly Fill"),Ml,"Notdog"),ol(ol(ol(ol(ol(ol(ol(ol(Cl,Wl,"Notdog Duo"),Dl,"Slab"),Fl,"Slab Press"),Ll,"Thumbprint"),Bl,"Utility"),Ol,"Utility Duo"),Hl,"Utility Fill"),_l,"Whiteboard");var Yl=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),Gl=["fak","fa-kit","fakd","fa-kit-duotone"],Zl={fak:"kit","fa-kit":"kit"},Ul={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"};ol(ol({},"kit","Kit"),"kit-duotone","Kit Duotone");var Jl,Vl={kit:"fak"},Kl={"kit-duotone":"fakd"},Ql="duotone-group",ea="swap-opacity",ta="primary",na="secondary";ol(ol(ol(ol(ol(ol(ol(ol(ol(ol(Jl={},"classic","Classic"),"duotone","Duotone"),"sharp","Sharp"),"sharp-duotone","Sharp Duotone"),"chisel","Chisel"),"etch","Etch"),"jelly","Jelly"),"jelly-duo","Jelly Duo"),"jelly-fill","Jelly Fill"),"notdog","Notdog"),ol(ol(ol(ol(ol(ol(ol(ol(Jl,"notdog-duo","Notdog Duo"),"slab","Slab"),"slab-press","Slab Press"),"thumbprint","Thumbprint"),"utility","Utility"),"utility-duo","Utility Duo"),"utility-fill","Utility Fill"),"whiteboard","Whiteboard");ol(ol({},"kit","Kit"),"kit-duotone","Kit Duotone");var oa={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},ra=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"]),ia=[1,2,3,4,5,6,7,8,9,10],la=ia.concat([11,12,13,14,15,16,17,18,19,20]),aa=[].concat(al(Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]})),["solid","regular","light","thin","duotone","brands","semibold"],["aw","fw","pull-left","pull-right"],["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Ql,ea,ta,na]).concat(ia.map(function(e){return"".concat(e,"x")})).concat(la.map(function(e){return"w-".concat(e)})),sa="___FONT_AWESOME___",ca="svg-inline--fa",da="data-fa-i2svg",ua="data-fa-pseudo-element",ha="data-prefix",pa="data-icon",fa="fontawesome-i2svg",ga=["HTML","HEAD","STYLE","SCRIPT"],ma=["::before","::after",":before",":after"],ya=function(){try{return!0}catch(e){return!1}}();function xa(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[Al]}})}var ba=il({},$l);ba[Al]=il(il(il(il({},{"fa-duotone":"duotone"}),$l[Al]),Zl),Ul);var va=xa(ba),wa=il({},{chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}});wa[Al]=il(il(il(il({},{duotone:"fad"}),wa[Al]),Vl),Kl);var Ca=xa(wa),Sa=il({},oa);Sa[Al]=il(il({},Sa[Al]),{fak:"fa-kit"});var ka=xa(Sa),$a=il({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}});$a[Al]=il(il({},$a[Al]),{"fa-kit":"fak"}),xa($a);var Ta=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Aa="fa-layers-text",za=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i;xa(il({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}}));var ja=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Pa={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ea=[].concat(al(["kit"]),al(aa)),qa=xl.FontAwesomeConfig||{};if(bl&&"function"==typeof bl.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=ll(e,2),n=t[0],o=t[1],r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=bl.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=r&&(qa[o]=r)})}var Ia={styleDefault:"solid",familyDefault:Al,cssPrefix:"fa",replacementClass:ca,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};qa.familyPrefix&&(qa.cssPrefix=qa.familyPrefix);var Ra=il(il({},Ia),qa);Ra.autoReplaceSvg||(Ra.observeMutations=!1);var Na={};Object.keys(Ia).forEach(function(e){Object.defineProperty(Na,e,{enumerable:!0,set:function(t){Ra[e]=t,Ma.forEach(function(e){return e(Na)})},get:function(){return Ra[e]}})}),Object.defineProperty(Na,"familyPrefix",{enumerable:!0,set:function(e){Ra.cssPrefix=e,Ma.forEach(function(e){return e(Na)})},get:function(){return Ra.cssPrefix}}),xl.FontAwesomeConfig=Na;var Ma=[];var Wa=16,Da={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Fa(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function La(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Ba(e){return e.classList?La(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(e){return e})}function Oa(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ha(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function _a(e){return e.size!==Da.size||e.x!==Da.x||e.y!==Da.y||e.rotate!==Da.rotate||e.flipX||e.flipY}function Xa(){var e="fa",t=ca,n=Na.cssPrefix,o=Na.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";\n  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";\n  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";\n  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";\n  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";\n  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";\n  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";\n  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";\n  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";\n  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";\n  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";\n  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";\n  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";\n  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";\n  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";\n}\n\n.svg-inline--fa {\n  box-sizing: content-box;\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n  width: var(--fa-width, 1.25em);\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285714em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left,\n.svg-inline--fa .fa-pull-start {\n  float: inline-start;\n  margin-inline-end: var(--fa-pull-margin, 0.3em);\n}\n.svg-inline--fa.fa-pull-right,\n.svg-inline--fa .fa-pull-end {\n  float: inline-end;\n  margin-inline-start: var(--fa-pull-margin, 0.3em);\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));\n  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: var(--fa-width, 1.25em);\n}\n.fa-layers .svg-inline--fa {\n  inset: 0;\n  margin: auto;\n  position: absolute;\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-xs {\n  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-sm {\n  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-lg {\n  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-xl {\n  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-2xl {\n  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that\'s relative to the scale\'s 16px base */\n  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it\'s parent */\n  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text\'s descender */\n}\n\n.fa-width-auto {\n  --fa-width: auto;\n}\n\n.fa-fw,\n.fa-width-fixed {\n  --fa-width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-inline-start: var(--fa-li-margin, 2.5em);\n  padding-inline-start: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n/* Heads Up: Bordered Icons will not be supported in the future!\n  - This feature will be deprecated in the next major release of Font Awesome (v8)!\n  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.\n*/\n/* Notes:\n* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)\n* --@{v.$css-prefix}-border-padding =\n  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it\'s vertical alignment)\n  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)\n*/\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.0625em);\n  box-sizing: var(--fa-border-box-sizing, content-box);\n  padding: var(--fa-border-padding, 0.1875em 0.25em);\n}\n\n.fa-pull-left,\n.fa-pull-start {\n  float: inline-start;\n  margin-inline-end: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right,\n.fa-pull-end {\n  float: inline-end;\n  margin-inline-start: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n  .fa-bounce,\n  .fa-fade,\n  .fa-beat-fade,\n  .fa-flip,\n  .fa-pulse,\n  .fa-shake,\n  .fa-spin,\n  .fa-spin-pulse {\n    animation: none !important;\n    transition: none !important;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.svg-inline--fa.fa-inverse {\n  fill: var(--fa-inverse, #fff);\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  line-height: 2em;\n  position: relative;\n  vertical-align: middle;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  --fa-width: 1.25em;\n  height: 1em;\n  width: var(--fa-width);\n}\n.svg-inline--fa.fa-stack-2x {\n  --fa-width: 2.5em;\n  height: 2em;\n  width: var(--fa-width);\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  inset: 0;\n  margin: auto;\n  position: absolute;\n  z-index: var(--fa-stack-z-index, auto);\n}';if(n!==e||o!==t){var i=new RegExp("\\.".concat(e,"\\-"),"g"),l=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");r=r.replace(i,".".concat(n,"-")).replace(l,"--".concat(n,"-")).replace(a,".".concat(o))}return r}var Ya=!1;function Ga(){Na.autoAddCss&&!Ya&&(!function(e){if(e&&Sl){var t=bl.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=bl.head.childNodes,o=null,r=n.length-1;r>-1;r--){var i=n[r],l=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(o=i)}bl.head.insertBefore(t,o)}}(Xa()),Ya=!0)}var Za={mixout:function(){return{dom:{css:Xa,insertCss:Ga}}},hooks:function(){return{beforeDOMElementCreation:function(){Ga()},beforeI2svg:function(){Ga()}}}},Ua=xl||{};Ua[sa]||(Ua[sa]={}),Ua[sa].styles||(Ua[sa].styles={}),Ua[sa].hooks||(Ua[sa].hooks={}),Ua[sa].shims||(Ua[sa].shims=[]);var Ja=Ua[sa],Va=[],Ka=function(){bl.removeEventListener("DOMContentLoaded",Ka),Qa=1,Va.map(function(e){return e()})},Qa=!1;function es(e){var t=e.tag,n=e.attributes,o=void 0===n?{}:n,r=e.children,i=void 0===r?[]:r;return"string"==typeof e?Oa(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(Oa(e[n]),'" ')},"").trim()}(o),">").concat(i.map(es).join(""),"</").concat(t,">")}function ts(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Sl&&((Qa=(bl.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(bl.readyState))||bl.addEventListener("DOMContentLoaded",Ka));var ns=function(e,t,n,o){var r,i,l,a=Object.keys(e),s=a.length,c=void 0!==o?function(e,t){return function(n,o,r,i){return e.call(t,n,o,r,i)}}(t,o):t;for(void 0===n?(r=1,l=e[a[0]]):(r=0,l=n);r<s;r++)l=c(l,e[i=a[r]],i,e);return l};function os(e){return 1!==al(e).length?null:e.codePointAt(0).toString(16)}function rs(e){return Object.keys(e).reduce(function(t,n){var o=e[n];return!!o.icon?t[o.iconName]=o.icon:t[n]=o,t},{})}function is(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,o=void 0!==n&&n,r=rs(t);"function"!=typeof Ja.hooks.addPack||o?Ja.styles[e]=il(il({},Ja.styles[e]||{}),r):Ja.hooks.addPack(e,rs(t)),"fas"===e&&is("fa",t)}var ls=Ja.styles,as=Ja.shims,ss=Object.keys(ka),cs=ss.reduce(function(e,t){return e[t]=Object.keys(ka[t]),e},{}),ds=null,us={},hs={},ps={},fs={},gs={};function ms(e,t){var n,o=t.split("-"),r=o[0],i=o.slice(1).join("-");return r!==e||""===i||(n=i,~Ea.indexOf(n))?null:i}var ys,xs=function(){var e=function(e){return ns(ls,function(t,n,o){return t[o]=ns(n,e,{}),t},{})};us=e(function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter(function(e){return"number"==typeof e}).forEach(function(t){e[t.toString(16)]=n});return e}),hs=e(function(e,t,n){(e[n]=n,t[2])&&t[2].filter(function(e){return"string"==typeof e}).forEach(function(t){e[t]=n});return e}),gs=e(function(e,t,n){var o=t[2];return e[n]=n,o.forEach(function(t){e[t]=n}),e});var t="far"in ls||Na.autoFetchSvg,n=ns(as,function(e,n){var o=n[0],r=n[1],i=n[2];return"far"!==r||t||(r="fas"),"string"==typeof o&&(e.names[o]={prefix:r,iconName:i}),"number"==typeof o&&(e.unicodes[o.toString(16)]={prefix:r,iconName:i}),e},{names:{},unicodes:{}});ps=n.names,fs=n.unicodes,ds=Ss(Na.styleDefault,{family:Na.familyDefault})};function bs(e,t){return(us[e]||{})[t]}function vs(e,t){return(gs[e]||{})[t]}function ws(e){return ps[e]||{prefix:null,iconName:null}}function Cs(){return ds}ys=function(e){ds=Ss(e.styleDefault,{family:Na.familyDefault})},Ma.push(ys),xs();function Ss(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?Al:t,o=va[n][e];if(n===zl&&!e)return"fad";var r=Ca[n][e]||Ca[n][o],i=e in Ja.styles?e:null;return r||i||null}function ks(e){return e.sort().filter(function(e,t,n){return n.indexOf(e)===t})}var $s=ra.concat(Gl);function Ts(e){var t,n,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==o&&o,i=null,l=ks(e.filter(function(e){return $s.includes(e)})),a=ks(e.filter(function(e){return!$s.includes(e)})),s=ll(l.filter(function(e){return i=e,!Tl.includes(e)}),1)[0],c=void 0===s?null:s,d=function(e){var t=Al,n=ss.reduce(function(e,t){return e[t]="".concat(Na.cssPrefix,"-").concat(t),e},{});return Xl.forEach(function(o){(e.includes(n[o])||e.some(function(e){return cs[o].includes(e)}))&&(t=o)}),t}(l),u=il(il({},(t=[],n=null,a.forEach(function(e){var o=ms(Na.cssPrefix,e);o?n=o:e&&t.push(e)}),{iconName:n,rest:t})),{},{prefix:Ss(c,{family:d})});return il(il(il({},u),function(e){var t=e.values,n=e.family,o=e.canonical,r=e.givenPrefix,i=void 0===r?"":r,l=e.styles,a=void 0===l?{}:l,s=e.config,c=void 0===s?{}:s,d=n===zl,u=t.includes("fa-duotone")||t.includes("fad"),h="duotone"===c.familyDefault,p="fad"===o.prefix||"fa-duotone"===o.prefix;!d&&(u||h||p)&&(o.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(o.prefix="fab");if(!o.prefix&&As.includes(n)){if(Object.keys(a).find(function(e){return zs.includes(e)})||c.autoFetchSvg){var f=Yl.get(n).defaultShortPrefixId;o.prefix=f,o.iconName=vs(o.prefix,o.iconName)||o.iconName}}"fa"!==o.prefix&&"fa"!==i||(o.prefix=Cs()||"fas");return o}({values:e,family:d,styles:ls,config:Na,canonical:u,givenPrefix:i})),function(e,t,n){var o=n.prefix,r=n.iconName;if(e||!o||!r)return{prefix:o,iconName:r};var i="fa"===t?ws(r):{},l=vs(o,r);r=i.iconName||l||r,"far"!==(o=i.prefix||o)||ls.far||!ls.fas||Na.autoFetchSvg||(o="fas");return{prefix:o,iconName:r}}(r,i,u))}var As=Xl.filter(function(e){return e!==Al||e!==zl}),zs=Object.keys(oa).filter(function(e){return e!==Al}).map(function(e){return Object.keys(oa[e])}).flat();var js=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}},t=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n.reduce(this._pullDefinitions,{});Object.keys(r).forEach(function(t){e.definitions[t]=il(il({},e.definitions[t]||{}),r[t]),is(t,r[t]);var n=ka[Al][t];n&&is(n,r[t]),xs()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var o=n[t],r=o.prefix,i=o.iconName,l=o.icon,a=l[2];e[r]||(e[r]={}),a.length>0&&a.forEach(function(t){"string"==typeof t&&(e[r][t]=l)}),e[r][i]=l}),e}}],t&&tl(e.prototype,t),n&&tl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),Ps=[],Es={},qs={},Is=Object.keys(qs);function Rs(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return(Es[e]||[]).forEach(function(e){t=e.apply(null,[t].concat(o))}),t}function Ns(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];(Es[e]||[]).forEach(function(e){e.apply(null,n)})}function Ms(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return qs[e]?qs[e].apply(null,t):void 0}function Ws(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Cs();if(t)return t=vs(n,t)||t,ts(Ds.definitions,n,t)||ts(Ja.styles,n,t)}var Ds=new js,Fs={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Sl?(Ns("beforeI2svg",e),Ms("pseudoElements2svg",e),Ms("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===Na.autoReplaceSvg&&(Na.autoReplaceSvg=!0),Na.observeMutations=!0,e=function(){Bs({autoReplaceSvgRoot:n}),Ns("watch",t)},Sl&&(Qa?setTimeout(e,0):Va.push(e))}},Ls={noAuto:function(){Na.autoReplaceSvg=!1,Na.observeMutations=!1,Ns("noAuto")},config:Na,dom:Fs,parse:{icon:function(e){if(null===e)return null;if("object"===cl(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:vs(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Ss(e[0]);return{prefix:n,iconName:vs(n,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(Na.cssPrefix,"-"))>-1||e.match(Ta))){var o=Ts(e.split(" "),{skipLookups:!0});return{prefix:o.prefix||Cs(),iconName:vs(o.prefix,o.iconName)||o.iconName}}if("string"==typeof e){var r=Cs();return{prefix:r,iconName:vs(r,e)||e}}}},library:Ds,findIconDefinition:Ws,toHtml:es},Bs=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?bl:e;(Object.keys(Ja.styles).length>0||Na.autoFetchSvg)&&Sl&&Na.autoReplaceSvg&&Ls.dom.i2svg({node:t})};function Os(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return es(e)})}}),Object.defineProperty(e,"node",{get:function(){if(Sl){var t=bl.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Hs(e){var t=e.icons,n=t.main,o=t.mask,r=e.prefix,i=e.iconName,l=e.transform,a=e.symbol,s=e.maskId,c=e.extra,d=e.watchable,u=void 0!==d&&d,h=o.found?o:n,p=h.width,f=h.height,g=[Na.replacementClass,i?"".concat(Na.cssPrefix,"-").concat(i):""].filter(function(e){return-1===c.classes.indexOf(e)}).filter(function(e){return""!==e||!!e}).concat(c.classes).join(" "),m={children:[],attributes:il(il({},c.attributes),{},{"data-prefix":r,"data-icon":i,class:g,role:c.attributes.role||"img",viewBox:"0 0 ".concat(p," ").concat(f)})};(function(e){return["aria-label","aria-labelledby","title","role"].some(function(t){return t in e})})(c.attributes)||c.attributes["aria-hidden"]||(m.attributes["aria-hidden"]="true"),u&&(m.attributes[da]="");var y=il(il({},m),{},{prefix:r,iconName:i,main:n,mask:o,maskId:s,transform:l,symbol:a,styles:il({},c.styles)}),x=o.found&&n.found?Ms("generateAbstractMask",y)||{children:[],attributes:{}}:Ms("generateAbstractIcon",y)||{children:[],attributes:{}},b=x.children,v=x.attributes;return y.children=b,y.attributes=v,a?function(e){var t=e.prefix,n=e.iconName,o=e.children,r=e.attributes,i=e.symbol,l=!0===i?"".concat(t,"-").concat(Na.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:il(il({},r),{},{id:l}),children:o}]}]}(y):function(e){var t=e.children,n=e.main,o=e.mask,r=e.attributes,i=e.styles,l=e.transform;if(_a(l)&&n.found&&!o.found){var a={x:n.width/n.height/2,y:.5};r.style=Ha(il(il({},i),{},{"transform-origin":"".concat(a.x+l.x/16,"em ").concat(a.y+l.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(y)}function _s(e){var t=e.content,n=e.width,o=e.height,r=e.transform,i=e.extra,l=e.watchable,a=void 0!==l&&l,s=il(il({},i.attributes),{},{class:i.classes.join(" ")});a&&(s[da]="");var c=il({},i.styles);_a(r)&&(c.transform=function(e){var t=e.transform,n=e.width,o=void 0===n?16:n,r=e.height,i=void 0===r?16:r,l=e.startCentered,a=void 0!==l&&l,s="";return s+=a&&kl?"translate(".concat(t.x/Wa-o/2,"em, ").concat(t.y/Wa-i/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/Wa,"em), calc(-50% + ").concat(t.y/Wa,"em)) "):"translate(".concat(t.x/Wa,"em, ").concat(t.y/Wa,"em) "),s+="scale(".concat(t.size/Wa*(t.flipX?-1:1),", ").concat(t.size/Wa*(t.flipY?-1:1),") "),s+"rotate(".concat(t.rotate,"deg) ")}({transform:r,startCentered:!0,width:n,height:o}),c["-webkit-transform"]=c.transform);var d=Ha(c);d.length>0&&(s.style=d);var u=[];return u.push({tag:"span",attributes:s,children:[t]}),u}var Xs=Ja.styles;function Ys(e){var t=e[0],n=e[1],o=ll(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(Na.cssPrefix,"-").concat(Pa.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Na.cssPrefix,"-").concat(Pa.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(Na.cssPrefix,"-").concat(Pa.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var Gs={found:!1,width:512,height:512};function Zs(e,t){var n=t;return"fa"===t&&null!==Na.styleDefault&&(t=Cs()),new Promise(function(o,r){if("fa"===n){var i=ws(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&Xs[t]&&Xs[t][e])return o(Ys(Xs[t][e]));!function(e,t){ya||Na.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),o(il(il({},Gs),{},{icon:Na.showMissingIcons&&e&&Ms("missingIconAbstract")||{}}))})}var Us=function(){},Js=Na.measurePerformance&&wl&&wl.mark&&wl.measure?wl:{mark:Us,measure:Us},Vs='FA "7.1.0"',Ks=function(e){Js.mark("".concat(Vs," ").concat(e," ends")),Js.measure("".concat(Vs," ").concat(e),"".concat(Vs," ").concat(e," begins"),"".concat(Vs," ").concat(e," ends"))},Qs=function(e){return Js.mark("".concat(Vs," ").concat(e," begins")),function(){return Ks(e)}},ec=function(){};function tc(e){return"string"==typeof(e.getAttribute?e.getAttribute(da):null)}function nc(e){return bl.createElementNS("http://www.w3.org/2000/svg",e)}function oc(e){return bl.createElement(e)}function rc(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?nc:oc:t;if("string"==typeof e)return bl.createTextNode(e);var o=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(t){o.setAttribute(t,e.attributes[t])}),(e.children||[]).forEach(function(e){o.appendChild(rc(e,{ceFn:n}))}),o}var ic={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(e){t.parentNode.insertBefore(rc(e),t)}),null===t.getAttribute(da)&&Na.keepOriginalSource){var n=bl.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~Ba(t).indexOf(Na.replacementClass))return ic.replace(e);var o=new RegExp("".concat(Na.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var r=n[0].attributes.class.split(" ").reduce(function(e,t){return t===Na.replacementClass||t.match(o)?e.toSvg.push(t):e.toNode.push(t),e},{toNode:[],toSvg:[]});n[0].attributes.class=r.toSvg.join(" "),0===r.toNode.length?t.removeAttribute("class"):t.setAttribute("class",r.toNode.join(" "))}var i=n.map(function(e){return es(e)}).join("\n");t.setAttribute(da,""),t.innerHTML=i}};function lc(e){e()}function ac(e,t){var n="function"==typeof t?t:ec;if(0===e.length)n();else{var o=lc;"async"===Na.mutateApproach&&(o=xl.requestAnimationFrame||lc),o(function(){var t=!0===Na.autoReplaceSvg?ic.replace:ic[Na.autoReplaceSvg]||ic.replace,o=Qs("mutate");e.map(t),o(),n()})}}var sc=!1;function cc(){sc=!0}function dc(){sc=!1}var uc=null;function hc(e){if(vl&&Na.observeMutations){var t=e.treeCallback,n=void 0===t?ec:t,o=e.nodeCallback,r=void 0===o?ec:o,i=e.pseudoElementsCallback,l=void 0===i?ec:i,a=e.observeMutationsRoot,s=void 0===a?bl:a;uc=new vl(function(e){if(!sc){var t=Cs();La(e).forEach(function(e){if("childList"===e.type&&e.addedNodes.length>0&&!tc(e.addedNodes[0])&&(Na.searchPseudoElements&&l(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&Na.searchPseudoElements&&l([e.target],!0),"attributes"===e.type&&tc(e.target)&&~ja.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(ha):null,n=e.getAttribute?e.getAttribute(pa):null;return t&&n}(e.target)){var o=Ts(Ba(e.target)),i=o.prefix,a=o.iconName;e.target.setAttribute(ha,i||t),a&&e.target.setAttribute(pa,a)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(Na.replacementClass)&&r(e.target);var s})}}),Sl&&uc.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function pc(e){var t,n,o=e.getAttribute("data-prefix"),r=e.getAttribute("data-icon"),i=void 0!==e.innerText?e.innerText.trim():"",l=Ts(Ba(e));return l.prefix||(l.prefix=Cs()),o&&r&&(l.prefix=o,l.iconName=r),l.iconName&&l.prefix||(l.prefix&&i.length>0&&(l.iconName=(t=l.prefix,n=e.innerText,(hs[t]||{})[n]||bs(l.prefix,os(e.innerText)))),!l.iconName&&Na.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(l.iconName=e.firstChild.data)),l}function fc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=pc(e),o=n.iconName,r=n.prefix,i=n.rest,l=function(e){return La(e.attributes).reduce(function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e},{})}(e),a=Rs("parseNodeAttributes",{},e),s=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(e,t){var n=t.split(":"),o=n[0],r=n.slice(1);return o&&r.length>0&&(e[o]=r.join(":").trim()),e},{})),n}(e):[];return il({iconName:o,prefix:r,transform:Da,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:s,attributes:l}},a)}var gc=Ja.styles;function mc(e){var t="nest"===Na.autoReplaceSvg?fc(e,{styleParser:!1}):fc(e);return~t.extra.classes.indexOf(Aa)?Ms("generateLayersText",e,t):Ms("generateSvgReplacementMutation",e,t)}function yc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Sl)return Promise.resolve();var n=bl.documentElement.classList,o=function(e){return n.add("".concat(fa,"-").concat(e))},r=function(e){return n.remove("".concat(fa,"-").concat(e))},i=Na.autoFetchSvg?[].concat(al(Gl),al(ra)):Tl.concat(Object.keys(gc));i.includes("fa")||i.push("fa");var l=[".".concat(Aa,":not([").concat(da,"])")].concat(i.map(function(e){return".".concat(e,":not([").concat(da,"])")})).join(", ");if(0===l.length)return Promise.resolve();var a=[];try{a=La(e.querySelectorAll(l))}catch(d){}if(!(a.length>0))return Promise.resolve();o("pending"),r("complete");var s=Qs("onTree"),c=a.reduce(function(e,t){try{var n=mc(t);n&&e.push(n)}catch(d){ya||"MissingIcon"===d.name&&console.error(d)}return e},[]);return new Promise(function(e,n){Promise.all(c).then(function(n){ac(n,function(){o("active"),o("complete"),r("pending"),"function"==typeof t&&t(),s(),e()})}).catch(function(e){s(),n(e)})})}function xc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;mc(e).then(function(e){e&&ac([e],t)})}var bc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,o=void 0===n?Da:n,r=t.symbol,i=void 0!==r&&r,l=t.mask,a=void 0===l?null:l,s=t.maskId,c=void 0===s?null:s,d=t.classes,u=void 0===d?[]:d,h=t.attributes,p=void 0===h?{}:h,f=t.styles,g=void 0===f?{}:f;if(e){var m=e.prefix,y=e.iconName,x=e.icon;return Os(il({type:"icon"},e),function(){return Ns("beforeDOMElementCreation",{iconDefinition:e,params:t}),Hs({icons:{main:Ys(x),mask:a?Ys(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:m,iconName:y,transform:il(il({},Da),o),symbol:i,maskId:c,extra:{attributes:p,styles:g,classes:u}})})}},vc={mixout:function(){return{icon:(e=bc,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(t||{}).icon?t:Ws(t||{}),r=n.mask;return r&&(r=(r||{}).icon?r:Ws(r||{})),e(o,il(il({},n),{},{mask:r}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=yc,e.nodeCallback=xc,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?bl:t,o=e.callback;return yc(n,void 0===o?function(){}:o)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,o=t.prefix,r=t.transform,i=t.symbol,l=t.mask,a=t.maskId,s=t.extra;return new Promise(function(t,c){Promise.all([Zs(n,o),l.iconName?Zs(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(l){var c=ll(l,2),d=c[0],u=c[1];t([e,Hs({icons:{main:d,mask:u},prefix:o,iconName:n,transform:r,symbol:i,maskId:a,extra:s,watchable:!0})])}).catch(c)})},e.generateAbstractIcon=function(e){var t,n=e.children,o=e.attributes,r=e.main,i=e.transform,l=Ha(e.styles);return l.length>0&&(o.style=l),_a(i)&&(t=Ms("generateAbstractTransformGrouping",{main:r,transform:i,containerWidth:r.width,iconWidth:r.width})),n.push(t||r.icon),{children:n,attributes:o}}}},wc={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,o=void 0===n?[]:n;return Os({type:"layer"},function(){Ns("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e(function(e){Array.isArray(e)?e.map(function(e){n=n.concat(e.abstract)}):n=n.concat(e.abstract)}),[{tag:"span",attributes:{class:["".concat(Na.cssPrefix,"-layers")].concat(al(o)).join(" ")},children:n}]})}}}},Cc={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,o=void 0===n?null:n,r=t.classes,i=void 0===r?[]:r,l=t.attributes,a=void 0===l?{}:l,s=t.styles,c=void 0===s?{}:s;return Os({type:"counter",content:e},function(){return Ns("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.extra,o=il(il({},n.attributes),{},{class:n.classes.join(" ")}),r=Ha(n.styles);r.length>0&&(o.style=r);var i=[];return i.push({tag:"span",attributes:o,children:[t]}),i}({content:e.toString(),title:o,extra:{attributes:a,styles:c,classes:["".concat(Na.cssPrefix,"-layers-counter")].concat(al(i))}})})}}}},Sc={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,o=void 0===n?Da:n,r=t.classes,i=void 0===r?[]:r,l=t.attributes,a=void 0===l?{}:l,s=t.styles,c=void 0===s?{}:s;return Os({type:"text",content:e},function(){return Ns("beforeDOMElementCreation",{content:e,params:t}),_s({content:e,transform:il(il({},Da),o),extra:{attributes:a,styles:c,classes:["".concat(Na.cssPrefix,"-layers-text")].concat(al(i))}})})}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.transform,o=t.extra,r=null,i=null;if(kl){var l=parseInt(getComputedStyle(e).fontSize,10),a=e.getBoundingClientRect();r=a.width/l,i=a.height/l}return Promise.resolve([e,_s({content:e.innerHTML,width:r,height:i,transform:n,extra:o,watchable:!0})])}}},kc=new RegExp('"',"ug"),$c=[1105920,1112319],Tc=il(il(il(il({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),Ac=Object.keys(Tc).reduce(function(e,t){return e[t.toLowerCase()]=Tc[t],e},{}),zc=Object.keys(Ac).reduce(function(e,t){var n=Ac[t];return e[t]=n[900]||al(Object.entries(n))[0][1],e},{});function jc(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(o,r){if(null!==e.getAttribute(n))return o();var i,l,a,s=La(e.children).filter(function(e){return e.getAttribute(ua)===t})[0],c=xl.getComputedStyle(e,t),d=c.getPropertyValue("font-family"),u=d.match(za),h=c.getPropertyValue("font-weight"),p=c.getPropertyValue("content");if(s&&!u)return e.removeChild(s),o();if(u&&"none"!==p&&""!==p){var f=c.getPropertyValue("content"),g=function(e,t){var n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),o=parseInt(t),r=isNaN(o)?"normal":o;return(Ac[n]||{})[r]||zc[n]}(d,h),m=function(e){return os(al(e.replace(kc,""))[0]||"")}(f),y=u[0].startsWith("FontAwesome"),x=function(e){var t=e.getPropertyValue("font-feature-settings").includes("ss01"),n=e.getPropertyValue("content").replace(kc,""),o=n.codePointAt(0),r=o>=$c[0]&&o<=$c[1],i=2===n.length&&n[0]===n[1];return r||i||t}(c),b=bs(g,m),v=b;if(y){var w=(l=fs[i=m],a=bs("fas",i),l||(a?{prefix:"fas",iconName:a}:null)||{prefix:null,iconName:null});w.iconName&&w.prefix&&(b=w.iconName,g=w.prefix)}if(!b||x||s&&s.getAttribute(ha)===g&&s.getAttribute(pa)===v)o();else{e.setAttribute(n,v),s&&e.removeChild(s);var C={iconName:null,prefix:null,transform:Da,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},S=C.extra;S.attributes[ua]=t,Zs(b,g).then(function(r){var i=Hs(il(il({},C),{},{icons:{main:r,mask:{prefix:null,iconName:null,rest:[]}},prefix:g,iconName:v,extra:S,watchable:!0})),l=bl.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=i.map(function(e){return es(e)}).join("\n"),e.removeAttribute(n),o()}).catch(r)}}else o()})}function Pc(e){return Promise.all([jc(e,"::before"),jc(e,"::after")])}function Ec(e){return!(e.parentNode===document.head||~ga.indexOf(e.tagName.toUpperCase())||e.getAttribute(ua)||e.parentNode&&"svg"===e.parentNode.tagName)}var qc=function(e){return!!e&&ma.some(function(t){return e.includes(t)})},Ic=function(e){if(!e)return[];var t,n=new Set,o=e.split(/,(?![^()]*\))/).map(function(e){return e.trim()}),r=nl(o=o.flatMap(function(e){return e.includes("(")?e:e.split(",").map(function(e){return e.trim()})}));try{for(r.s();!(t=r.n()).done;){var i=t.value;if(qc(i)){var l=ma.reduce(function(e,t){return e.replace(t,"")},i);""!==l&&"*"!==l&&n.add(l)}}}catch(a){r.e(a)}finally{r.f()}return n};function Rc(e){if(Sl){var t;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])t=e;else if(Na.searchPseudoElementsFullScan)t=e.querySelectorAll("*");else{var n,o=new Set,r=nl(document.styleSheets);try{for(r.s();!(n=r.n()).done;){var i=n.value;try{var l,a=nl(i.cssRules);try{for(a.s();!(l=a.n()).done;){var s,c=l.value,d=nl(Ic(c.selectorText));try{for(d.s();!(s=d.n()).done;){var u=s.value;o.add(u)}}catch(p){d.e(p)}finally{d.f()}}}catch(p){a.e(p)}finally{a.f()}}catch(f){Na.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(i.href," (").concat(f.message,')\nIf it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.'))}}}catch(p){r.e(p)}finally{r.f()}if(!o.size)return;var h=Array.from(o).join(", ");try{t=e.querySelectorAll(h)}catch(g){}}return new Promise(function(e,n){var o=La(t).filter(Ec).map(Pc),r=Qs("searchPseudoElements");cc(),Promise.all(o).then(function(){r(),dc(),e()}).catch(function(){r(),dc(),n()})})}}var Nc=!1,Mc=function(e){return e.toLowerCase().split(" ").reduce(function(e,t){var n=t.toLowerCase().split("-"),o=n[0],r=n.slice(1).join("-");if(o&&"h"===r)return e.flipX=!0,e;if(o&&"v"===r)return e.flipY=!0,e;if(r=parseFloat(r),isNaN(r))return e;switch(o){case"grow":e.size=e.size+r;break;case"shrink":e.size=e.size-r;break;case"left":e.x=e.x-r;break;case"right":e.x=e.x+r;break;case"up":e.y=e.y-r;break;case"down":e.y=e.y+r;break;case"rotate":e.rotate=e.rotate+r}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Wc={mixout:function(){return{parse:{transform:function(e){return Mc(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Mc(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,o=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(o/2," 256)")},l="translate(".concat(32*n.x,", ").concat(32*n.y,") "),a="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),s="rotate(".concat(n.rotate," 0 0)"),c={outer:i,inner:{transform:"".concat(l," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}};return{tag:"g",attributes:il({},c.outer),children:[{tag:"g",attributes:il({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:il(il({},t.icon.attributes),c.path)}]}]}}}},Dc={x:0,y:0,width:"100%",height:"100%"};function Fc(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Lc,Bc={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),o=n?Ts(n.split(" ").map(function(e){return e.trim()})):{prefix:null,iconName:null,rest:[]};return o.prefix||(o.prefix=Cs()),e.mask=o,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,o=e.attributes,r=e.main,i=e.mask,l=e.maskId,a=e.transform,s=r.width,c=r.icon,d=i.width,u=i.icon,h=function(e){var t=e.transform,n=e.containerWidth,o=e.iconWidth,r={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),l="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(l," ").concat(a)},path:{transform:"translate(".concat(o/2*-1," -256)")}}}({transform:a,containerWidth:d,iconWidth:s}),p={tag:"rect",attributes:il(il({},Dc),{},{fill:"white"})},f=c.children?{children:c.children.map(Fc)}:{},g={tag:"g",attributes:il({},h.inner),children:[Fc(il({tag:c.tag,attributes:il(il({},c.attributes),h.path)},f))]},m={tag:"g",attributes:il({},h.outer),children:[g]},y="mask-".concat(l||Fa()),x="clip-".concat(l||Fa()),b={tag:"mask",attributes:il(il({},Dc),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,m]},v={tag:"defs",children:[{tag:"clipPath",attributes:{id:x},children:(t=u,"g"===t.tag?t.children:[t])},b]};return n.push(v,{tag:"rect",attributes:il({fill:"currentColor","clip-path":"url(#".concat(x,")"),mask:"url(#".concat(y,")")},Dc)}),{children:n,attributes:o}}}};Lc={mixoutsTo:Ls}.mixoutsTo,Ps=[Za,vc,wc,Cc,Sc,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Rc,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?bl:t;Na.searchPseudoElements&&Rc(n)}}},{mixout:function(){return{dom:{unwatch:function(){cc(),Nc=!0}}}},hooks:function(){return{bootstrap:function(){hc(Rs("mutationObserverCallbacks",{}))},noAuto:function(){uc&&uc.disconnect()},watch:function(e){var t=e.observeMutationsRoot;Nc?dc():hc(Rs("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Wc,Bc,{provides:function(e){var t=!1;xl.matchMedia&&(t=xl.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:il(il({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var r=il(il({},o),{},{attributeName:"opacity"}),i={tag:"circle",attributes:il(il({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||i.children.push({tag:"animate",attributes:il(il({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:il(il({},r),{},{values:"1;0;1;1;0;1;"})}),e.push(i),e.push({tag:"path",attributes:il(il({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:il(il({},r),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:il(il({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:il(il({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),o=null!==n&&(""===n||n);return e.symbol=o,e}}}}],Es={},Object.keys(qs).forEach(function(e){-1===Is.indexOf(e)&&delete qs[e]}),Ps.forEach(function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach(function(e){"function"==typeof t[e]&&(Lc[e]=t[e]),"object"===cl(t[e])&&Object.keys(t[e]).forEach(function(n){Lc[e]||(Lc[e]={}),Lc[e][n]=t[e][n]})}),e.hooks){var n=e.hooks();Object.keys(n).forEach(function(e){Es[e]||(Es[e]=[]),Es[e].push(n[e])})}e.provides&&e.provides(qs)});var Oc=Ls.config,Hc=Ls.parse,_c=Ls.icon;function Xc(e){return t=e,(t-=0)==t?e:(e=e.replace(/[_-]+(.)?/g,(e,t)=>t?t.toUpperCase():"")).charAt(0).toLowerCase()+e.slice(1);var t}function Yc(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Gc=new Map;function Zc(e){if(Gc.has(e))return Gc.get(e);const t={};let n=0;const o=e.length;for(;n<o;){const r=e.indexOf(";",n),i=-1===r?o:r,l=e.slice(n,i).trim();if(l){const e=l.indexOf(":");if(e>0){const n=l.slice(0,e).trim(),o=l.slice(e+1).trim();if(n&&o){const e=Xc(n);t[e.startsWith("webkit")?Yc(e):e]=o}}}n=i+1}if(1e3===Gc.size){const e=Gc.keys().next().value;e&&Gc.delete(e)}return Gc.set(e,t),t}var Uc=function e(t,n,o={}){if("string"==typeof n)return n;const r=(n.children||[]).map(n=>e(t,n)),i=n.attributes||{},l={};for(const[d,u]of Object.entries(i))switch(!0){case"class"===d:l.className=u;break;case"style"===d:l.style=Zc(String(u));break;case d.startsWith("aria-"):case d.startsWith("data-"):l[d.toLowerCase()]=u;break;default:l[Xc(d)]=u}const{style:a,"aria-label":s,...c}=o;return a&&(l.style=l.style?{...l.style,...a}:a),s&&(l["aria-label"]=s,l["aria-hidden"]="false"),t(n.tag,{...c,...l},...r)}.bind(null,n.createElement),Jc=(t,n)=>{const o=e.useId();return t||(n?o:void 0)},Vc="searchPseudoElementsFullScan"in Oc?"7.0.0":"6.0.0",Kc=Number.parseInt(Vc)>=7,Qc="fa",ed="fa-beat",td="fa-fade",nd="fa-beat-fade",od="fa-bounce",rd="fa-shake",id="fa-spin",ld="fa-spin-pulse",ad="fa-spin-reverse",sd="fa-pulse",cd={left:"fa-pull-left",right:"fa-pull-right"},dd={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},ud={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},hd="fa-border",pd="fa-fw",fd="fa-flip",gd="fa-flip-horizontal",md="fa-flip-vertical",yd="fa-inverse",xd="fa-rotate-by",bd="fa-swap-opacity",vd="fa-width-auto";function wd(e){const t=Oc.cssPrefix||Oc.familyPrefix||Qc;return t===Qc?e:e.replace(new RegExp(`(?<=^|\\s)${Qc}-`,"g"),`${t}-`)}function Cd(e){if(e)return(e=>"object"==typeof e&&"icon"in e&&!!e.icon)(e)?e:Hc.icon(e)}var Sd=new class{constructor(e="react-fontawesome"){this.enabled=!1;let t=!1;try{t="undefined"!=typeof process&&!1}catch{}this.scope=e,this.enabled=t}log(...e){this.enabled&&console.log(`[${this.scope}]`,...e)}warn(...e){this.enabled&&console.warn(`[${this.scope}]`,...e)}error(...e){this.enabled&&console.error(`[${this.scope}]`,...e)}}("FontAwesomeIcon"),kd={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},$d=new Set(Object.keys(kd)),Td=n.forwardRef((e,t)=>{const n={...kd,...e},{icon:o,mask:r,symbol:i,title:l,titleId:a,maskId:s,transform:c}=n,d=Jc(s,Boolean(r)),u=Jc(a,Boolean(l)),h=Cd(o);if(!h)return Sd.error("Icon lookup is undefined",o),null;const p=function(e){const{beat:t,fade:n,beatFade:o,bounce:r,shake:i,spin:l,spinPulse:a,spinReverse:s,pulse:c,fixedWidth:d,inverse:u,border:h,flip:p,size:f,rotation:g,pull:m,swapOpacity:y,rotateBy:x,widthAuto:b,className:v}=e,w=[];return v&&w.push(...v.split(" ")),t&&w.push(ed),n&&w.push(td),o&&w.push(nd),r&&w.push(od),i&&w.push(rd),l&&w.push(id),s&&w.push(ad),a&&w.push(ld),c&&w.push(sd),d&&w.push(pd),u&&w.push(yd),h&&w.push(hd),!0===p&&w.push(fd),"horizontal"!==p&&"both"!==p||w.push(gd),"vertical"!==p&&"both"!==p||w.push(md),null!=f&&w.push(ud[f]),null!=g&&0!==g&&w.push(dd[g]),null!=m&&w.push(cd[m]),y&&w.push(bd),Kc?(x&&w.push(xd),b&&w.push(vd),(Oc.cssPrefix||Oc.familyPrefix||Qc)===Qc?w:w.map(wd)):w}(n),f="string"==typeof c?Hc.transform(c):c,g=Cd(r),m=_c(h,{...p.length>0&&{classes:p},...f&&{transform:f},...g&&{mask:g},symbol:i,title:l,titleId:u,maskId:d});if(!m)return Sd.error("Could not find icon",h),null;const{abstract:y}=m,x={ref:t};for(const b of function(e){return Object.keys(e)}(n))$d.has(b)||(x[b]=n[b]);return Uc(y[0],x)});Td.displayName="FontAwesomeIcon";
/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */
var Ad={prefix:"fas",iconName:"sun",icon:[576,512,[9728],"f185","M178.2-10.1c7.4-3.1 15.8-2.2 22.5 2.2l87.8 58.2 87.8-58.2c6.7-4.4 15.1-5.2 22.5-2.2S411.4-.5 413 7.3l20.9 103.2 103.2 20.9c7.8 1.6 14.4 7 17.4 14.3s2.2 15.8-2.2 22.5l-58.2 87.8 58.2 87.8c4.4 6.7 5.2 15.1 2.2 22.5s-9.6 12.8-17.4 14.3L433.8 401.4 413 504.7c-1.6 7.8-7 14.4-14.3 17.4s-15.8 2.2-22.5-2.2l-87.8-58.2-87.8 58.2c-6.7 4.4-15.1 5.2-22.5 2.2s-12.8-9.6-14.3-17.4L143 401.4 39.7 380.5c-7.8-1.6-14.4-7-17.4-14.3s-2.2-15.8 2.2-22.5L82.7 256 24.5 168.2c-4.4-6.7-5.2-15.1-2.2-22.5s9.6-12.8 17.4-14.3L143 110.6 163.9 7.3c1.6-7.8 7-14.4 14.3-17.4zM207.6 256a80.4 80.4 0 1 1 160.8 0 80.4 80.4 0 1 1 -160.8 0zm208.8 0a128.4 128.4 0 1 0 -256.8 0 128.4 128.4 0 1 0 256.8 0z"]},zd={prefix:"fas",iconName:"moon",icon:[512,512,[127769,9214],"f186","M256 0C114.6 0 0 114.6 0 256S114.6 512 256 512c68.8 0 131.3-27.2 177.3-71.4 7.3-7 9.4-17.9 5.3-27.1s-13.7-14.9-23.8-14.1c-4.9 .4-9.8 .6-14.8 .6-101.6 0-184-82.4-184-184 0-72.1 41.5-134.6 102.1-164.8 9.1-4.5 14.3-14.3 13.1-24.4S322.6 8.5 312.7 6.3C294.4 2.2 275.4 0 256 0z"]},jd={prefix:"fas",iconName:"arrow-left",icon:[512,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},Pd={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M65.9 228.5c13.3-93 93.4-164.5 190.1-164.5 53 0 101 21.5 135.8 56.2 .2 .2 .4 .4 .6 .6l7.6 7.2-47.9 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.4-11.3-10.7C390.5 28.6 326.5 0 256 0 127 0 20.3 95.4 2.6 219.5 .1 237 12.2 253.2 29.7 255.7s33.7-9.7 36.2-27.1zm443.5 64c2.5-17.5-9.7-33.7-27.1-36.2s-33.7 9.7-36.2 27.1c-13.3 93-93.4 164.5-190.1 164.5-53 0-101-21.5-135.8-56.2-.2-.2-.4-.4-.6-.6l-7.6-7.2 47.9 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 320c-8.5 0-16.7 3.4-22.7 9.5S-.1 343.7 0 352.3l1 127c.1 17.7 14.6 31.9 32.3 31.7S65.2 496.4 65 478.7l-.4-51.5 10.7 10.1c46.3 46.1 110.2 74.7 180.7 74.7 129 0 235.7-95.4 253.4-219.5z"]};const Ed=()=>{var t,n,i,l,a,s,c,d,u,h,p,f;r();const g=o(),{isLoading:m,startLoading:y,stopLoading:x}=ce(),b=Tr(),{t:w}=le(),C=(null==b?void 0:b.currentBoard)||Array(9).fill().map(()=>Array(9).fill(0)),S=(null==b?void 0:b.originalPuzzle)||null,k=(null==b?void 0:b.selectedCell)||null,$=(null==b?void 0:b.difficulty)||"medium",T=(null==b?void 0:b.timeElapsed)||0,A=(null==b?void 0:b.errorCount)||0,z=(null==b?void 0:b.isTimerActive)??!0,j=(null==b?void 0:b.isPencilMode)??!1,P=(null==b?void 0:b.setSelectedCell)||(()=>{}),E=(null==b?void 0:b.setHighlightedCells)||(()=>{}),q=(null==b?void 0:b.setDifficulty)||(()=>{});null==b||b.setBoard,null==b||b.setSolution,null==b||b.generateNewPuzzle;const I=(null==b?void 0:b.togglePencilMode)||(()=>{}),R=(null==b?void 0:b.toggleTimer)||(()=>{});null==b||b.getHint;const N=(null==b?void 0:b.clearCell)||(()=>{}),M=(null==b?void 0:b.identifyTechniques)||(()=>[]),W=(null==b?void 0:b.openSettings)||(()=>{}),D=(null==b?void 0:b.fillCell)||(()=>{}),F=(null==b?void 0:b.fillAllCandidates)||(()=>{}),L=(null==b?void 0:b.undo)||(()=>{}),B=(null==b?void 0:b.solution)||Array(9).fill().map(()=>Array(9).fill(0));null==b||b.highlightedCells;const O=(null==b?void 0:b.pencilNotes)||[],H=(null==b?void 0:b.calculateTechniques)||(()=>{}),_=async()=>{try{const e=localStorage.getItem("customPuzzle");e?(console.log("检测到自定义数独数据，重新初始化游戏..."),console.log("自定义数独数据内容:",e),(null==b?void 0:b.generateNewPuzzle)&&(y(),await b.generateNewPuzzle("custom"),x())):console.log("未检测到自定义数独数据")}catch(e){console.error("检查自定义数独数据失败:",e)}};e.useEffect(()=>{console.log("SudokuGamePage组件挂载，检查自定义数独数据...");const e=setTimeout(_,500);return()=>clearTimeout(e)},[]),e.useEffect(()=>{if(console.log("路由路径变化:",g.pathname),"/game"===g.pathname){const e=setTimeout(_,200);return()=>clearTimeout(e)}},[g.pathname]);const X=(()=>{const e={};for(let t=1;t<=9;t++)e[t]=9;for(let t=0;t<9;t++)for(let n=0;n<9;n++){const o=C[t][n];0!==o&&B[t][n]===o&&e[o]--}return e})(),[Y,G]=e.useState(window.innerHeight>window.innerWidth),[Z,U]=e.useState(!1),[J,V]=e.useState(!1),[Q,ee]=e.useState(!1),te=e.useRef(null);e.useRef(null);const ne=e.useRef(null);e.useEffect(()=>{const e=()=>{const e=window.innerWidth<992,t=window.innerHeight>window.innerWidth;G(e&&t)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]);const oe=e=>{const t=e.target.closest("div[row]")||e.target.closest("div[col]"),n=e.target.closest(".board-container"),o=e.target.closest(".controls-container"),r=e.target.closest(".nav-block"),i=e.target.closest(".display-block");t||n||o||r||i||(P(null),(null==b?void 0:b.setHighlightedCells)&&b.setHighlightedCells([]))};e.useEffect(()=>{const e=ne.current;return e&&e.addEventListener("click",oe),()=>{e&&e.removeEventListener("click",oe)}},[k]);const re=(e,t)=>{P({row:e,col:t}),(null==b?void 0:b.setHighlightedCells)&&b.setHighlightedCells([])},ie=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),o=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},ae=e=>{try{if(!k){const t=[];for(let i=0;i<9;i++)for(let n=0;n<9;n++){(C&&C[i]?C[i][n]:0)===e&&e>0&&t.push({row:i,col:n,number:e})}const n=[],o=new Set,r=(e,t)=>{const n=[],r=Math.floor(e/3),i=Math.floor(t/3);for(let l=0;l<9;l++){const t=`${e}-${l}`;o.has(t)||(o.add(t),n.push({row:e,col:l,regionHighlight:!0}))}for(let l=0;l<9;l++){const e=`${l}-${t}`;o.has(e)||(o.add(e),n.push({row:l,col:t,regionHighlight:!0}))}for(let l=3*r;l<3*(r+1);l++)for(let e=3*i;e<3*(i+1);e++){const t=`${l}-${e}`;o.has(t)||(o.add(t),n.push({row:l,col:e,regionHighlight:!0}))}return n};for(const e of t){const t=`${e.row}-${e.col}`;o.has(t)||(o.add(t),n.push({...e,sameNumber:!0}));const i=r(e.row,e.col);n.push(...i)}return void((null==b?void 0:b.setHighlightedCells)&&b.setHighlightedCells(n))}if(S&&S[k.row]&&0!==S[k.row][k.col])return void P(null);const t=`${k.row}-${k.col}`;if((null==b?void 0:b.lockedCells)&&b.lockedCells.has(t))return void P(null);D(k.row,k.col,e)}catch(t){console.error("Error updating cell:",t)}},se=()=>{if(k)try{N(k.row,k.col)}catch(e){console.error("Error clearing cell:",e)}},de=()=>{console.log("handleNewGame 被调用"),ee(!1),V(!1),P(null),(null==b?void 0:b.setHighlightedCells)&&b.setHighlightedCells([]),U(!0),console.log("设置 showDifficultyModal 为 true")};e.useEffect(()=>{if(!C||C.every(e=>e.every(e=>0===e))){(async()=>{try{if(y&&y(w("loadingGame")),(null==b?void 0:b.setCurrentBoard)&&(null==b?void 0:b.setOriginalPuzzle)&&(null==b?void 0:b.setSolution)){console.log("直接使用本地预设谜题初始化游戏");const e=[[5,3,0,0,7,0,0,0,0],[6,0,0,1,9,5,0,0,0],[0,9,8,0,0,0,0,6,0],[8,0,0,0,6,0,0,0,3],[4,0,0,8,0,3,0,0,1],[7,0,0,0,2,0,0,0,6],[0,6,0,0,0,0,2,8,0],[0,0,0,4,1,9,0,0,5],[0,0,0,0,8,0,0,7,9]],t=[[5,3,4,6,7,8,9,1,2],[6,7,2,1,9,5,3,4,8],[1,9,8,3,4,2,5,6,7],[8,5,9,7,6,1,4,2,3],[4,2,6,8,5,3,7,9,1],[7,1,3,9,2,4,8,5,6],[9,6,1,5,3,7,2,8,4],[2,8,7,4,1,9,6,3,5],[3,4,5,2,8,6,1,7,9]];b.setCurrentBoard(e),b.setOriginalPuzzle(e),b.setSolution(t),b.setGameStarted(!0),b.setTimerActive(!0)}else console.log("尝试使用上下文的其他方法初始化游戏")}catch(e){console.error("初始化游戏失败:",e),console.error("错误详情:",e.message,e.stack)}finally{x&&x()}})()}},[]);const ue=()=>{R&&R()},he=e.useCallback(()=>{if(P(null),M){const e=M();if(e&&e.length>0){const t=e[Math.floor(Math.random()*e.length)];let n=w("foundRandomTechnique","找到随机技巧：");if(n+=w(t.type)||w("unknownTechnique")||t.type,void 0!==t.row&&void 0!==t.col){n+=` ${w("position",{defaultMessage:"位置"})}:(${t.row+1},${t.col+1})`,E([[t.row,t.col]])}if(void 0!==t.value){n+=` ${w("number",{defaultMessage:"数字"})}:${t.value}`}K.info(n,{position:"top-right",autoClose:3e3})}else K.info(w("noTechniquesAvailable",{defaultMessage:"当前没有可用的技巧机会"}),{position:"top-right",autoClose:2e3})}else console.error("identifyTechniques 函数不可用")},[M,E,P,w]),pe=e.useCallback(()=>{P(null);const e=M();e.length>0?K.info(`找到${e.length}个可用技巧，可在技巧标签页中查看详情`,{position:"top-right",autoClose:2e3}):K.info("当前棋盘没有找到可用技巧，请尝试其他解法或获取提示",{position:"top-right",autoClose:2e3})},[M,P]),fe=()=>{F&&(F(),ee(!0),setTimeout(()=>ee(!1),2e3))},ge=()=>{I&&(I(),V(!0),setTimeout(()=>V(!1),2e3))},me=()=>{W&&W()};return v.jsxs("div",{className:"sudoku-game-container",ref:ne,children:[!z&&!(null==b?void 0:b.gameCompleted)&&(null==b?void 0:b.gameStarted)&&!(null==b?void 0:b.isLoading)&&v.jsx("div",{className:"pause-overlay",onClick:ue,children:v.jsxs("div",{className:"pause-message",children:[v.jsx("h2",{children:w("gamePaused")}),v.jsx("p",{children:w("clickToResume")})]})}),v.jsx("div",{className:"main-content",children:Y?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"scroll-hint"}),v.jsx(Ji,{errorCount:A,difficulty:$,time:ie(T)}),v.jsx(_i,{onNewGame:de,onPauseTimer:ue,onGetHint:he,onShowTechniques:pe,onToggleNotes:fe,onSettings:me,isNotesMode:j,isTimerActive:z,gameCompleted:(null==b?void 0:b.gameCompleted)||!1}),v.jsxs("div",{className:"board-container",ref:te,onClick:e=>e.stopPropagation(),style:{position:"relative"},children:[v.jsx(ei,{board:C||Array(9).fill().map(()=>Array(9).fill(0)),originalPuzzle:S,selectedCell:k,highlightedCells:(null==b?void 0:b.highlightedCells)||[],incorrectCells:(null==b?void 0:b.incorrectCells)||new Set,onCellClick:re,isPencilMode:j,pencilNotes:(null==b?void 0:b.pencilNotes)||[]}),v.jsx(Ki,{highlightedCells:((null==b?void 0:b.highlightedCells)||[]).filter(e=>e.techniqueIndicator),boardWidth:(null==(t=te.current)?void 0:t.offsetWidth)||450,boardHeight:(null==(n=te.current)?void 0:n.offsetHeight)||450,isPortrait:Y}),v.jsx(Vi,{highlightedCells:((null==b?void 0:b.highlightedCells)||[]).filter(e=>e.techniqueIndicator),boardWidth:(null==(i=te.current)?void 0:i.offsetWidth)||450,boardHeight:(null==(l=te.current)?void 0:l.offsetHeight)||450,isPortrait:Y}),v.jsx(Qi,{highlightedCells:((null==b?void 0:b.highlightedCells)||[]).filter(e=>!0===e.techniqueIndicator&&e.techniqueType&&e.techniqueType.includes("nakedPair")),boardWidth:(null==(a=te.current)?void 0:a.offsetWidth)||450,boardHeight:(null==(s=te.current)?void 0:s.offsetHeight)||450,isPortrait:Y})]}),v.jsx("div",{className:"controls-container",onClick:e=>e.stopPropagation(),children:v.jsx(hi,{onNumberSelect:ae,onClearCell:se,onUndo:L,selectedNumber:(null==k?void 0:k.value)||null,isPencilMode:j,togglePencilMode:ge,fillAllCandidates:F,calculateTechniques:H,remainingNumbers:X})})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"top-row",children:[v.jsx("div",{className:"nav-block",children:v.jsx(_i,{onNewGame:de,onPauseTimer:ue,onGetHint:he,onShowTechniques:pe,onToggleNotes:fe,onSettings:me,isNotesMode:j,isTimerActive:z})}),v.jsxs("div",{className:"display-block",children:[v.jsxs("div",{children:[w("error"),"：",v.jsx("span",{className:"value error-count",style:{color:"#ff4d4d"},children:A})]}),v.jsx("div",{children:w($)}),v.jsx("div",{children:ie(T)})]})]}),v.jsxs("div",{className:"bottom-row",children:[v.jsxs("div",{className:"board-container",ref:te,onClick:e=>e.stopPropagation(),style:{position:"relative"},children:[v.jsx(ei,{board:C||Array(9).fill().map(()=>Array(9).fill(0)),originalPuzzle:S,selectedCell:k,highlightedCells:(null==b?void 0:b.highlightedCells)||[],incorrectCells:(null==b?void 0:b.incorrectCells)||new Set,onCellClick:re,isPencilMode:j,pencilNotes:O}),v.jsx(Ki,{highlightedCells:((null==b?void 0:b.highlightedCells)||[]).filter(e=>e.techniqueIndicator),boardWidth:(null==(c=te.current)?void 0:c.offsetWidth)||450,boardHeight:(null==(d=te.current)?void 0:d.offsetHeight)||450,isPortrait:Y}),v.jsx(Vi,{highlightedCells:((null==b?void 0:b.highlightedCells)||[]).filter(e=>e.techniqueIndicator),boardWidth:(null==(u=te.current)?void 0:u.offsetWidth)||450,boardHeight:(null==(h=te.current)?void 0:h.offsetHeight)||450,isPortrait:Y}),v.jsx(Qi,{highlightedCells:((null==b?void 0:b.highlightedCells)||[]).filter(e=>!0===e.techniqueIndicator&&e.techniqueType&&e.techniqueType.includes("nakedPair")),boardWidth:(null==(p=te.current)?void 0:p.offsetWidth)||450,boardHeight:(null==(f=te.current)?void 0:f.offsetHeight)||450,isPortrait:Y})]}),v.jsx("div",{className:"controls-container",onClick:e=>e.stopPropagation(),children:v.jsx(hi,{onNumberSelect:ae,onClearCell:se,onUndo:L,selectedNumber:(null==k?void 0:k.value)||null,isPencilMode:j,togglePencilMode:ge,fillAllCandidates:F,calculateTechniques:H,remainingNumbers:X})})]})]})}),v.jsxs("div",{className:"sudoku-info-section",children:[v.jsxs("div",{className:"info-block welcome-section",children:[v.jsx("h2",{children:w("welcomeTitle")}),v.jsx("p",{children:w("welcomeContent")})]}),v.jsxs("div",{className:"info-block rules-section",children:[v.jsx("h2",{children:w("rulesTitle")}),v.jsx("p",{children:w("rulesContent")})]}),v.jsxs("div",{className:"info-block techniques-section",children:[v.jsx("h2",{children:w("techniquesTitle")}),v.jsx("div",{className:"techniques-container",dangerouslySetInnerHTML:{__html:w("techniquesContent")}})]})]}),m&&v.jsx("div",{className:"loading-overlay",children:v.jsx("div",{children:"加载中..."})}),v.jsx(Ci,{isOpen:Z,onClose:()=>U(!1),onSelectDifficulty:async e=>{try{if(console.log(`handleDifficultySelect 被调用，选择难度: ${e}`),U(!1),console.log("关闭难度选择模态框"),y&&(y(w("generatingNewPuzzle")),console.log("显示加载状态")),console.log("sudokuContext 可用:",!!b),console.log("startNewGame 方法可用:",!!(null==b?void 0:b.startNewGame)),console.log("generateNewPuzzle 方法可用:",!!(null==b?void 0:b.generateNewPuzzle)),null==b?void 0:b.startNewGame)console.log("调用 startNewGame 方法"),await b.startNewGame(null,e),console.log("startNewGame 调用完成");else if(null==b?void 0:b.generateNewPuzzle)console.log("调用 generateNewPuzzle 方法"),await b.generateNewPuzzle(e),console.log("generateNewPuzzle 调用完成");else{console.warn("无法开始新游戏：上下文函数不可用"),console.log("使用备用方案：离线谜题生成器"),q&&q(e);const t=(e=>{console.log(`生成离线谜题，难度: ${e}`);const t={easy:40,medium:50,hard:58,expert:64}[e]||50,n=[[5,3,4,6,7,8,9,1,2],[6,7,2,1,9,5,3,4,8],[1,9,8,3,4,2,5,6,7],[8,5,9,7,6,1,4,2,3],[4,2,6,8,5,3,7,9,1],[7,1,3,9,2,4,8,5,6],[9,6,1,5,3,7,2,8,4],[2,8,7,4,1,9,6,3,5],[3,4,5,2,8,6,1,7,9]],o=n.map(e=>[...e]);let r=t;for(;r>0;){const e=Math.floor(9*Math.random()),t=Math.floor(9*Math.random());0!==o[e][t]&&(o[e][t]=0,r--)}return{puzzle:o,solution:n}})(e);console.log("离线谜题生成完成"),(null==b?void 0:b.setCurrentBoard)&&(null==b?void 0:b.setCurrentPuzzle)&&(null==b?void 0:b.setSolution)&&(console.log("设置谜题到上下文"),b.setCurrentPuzzle(t),b.setCurrentBoard(t.puzzle),b.setSolution(t.solution)),P(null),console.log("重置选中单元格")}}catch(t){console.error("Error starting new game:",t),console.error("错误详情:",t.message,t.stack)}finally{x&&(x(),console.log("隐藏加载状态"))}},initialDifficulty:$}),J&&v.jsx("div",{className:"pencil-mode-instructions",children:w(j?"enterPencilMode":"exitPencilMode")}),Q&&v.jsx("div",{className:"pencil-mode-instructions",children:w("notesCalculated")})]})},qd=Xn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  background-color: ${e=>e.theme.background};
  padding: 20px;
  gap: 20px;
`,Id=Xn.div`
  display: flex;
  gap: 20px;
  align-items: flex-start;
  justify-content: center;
  flex-wrap: wrap;
  max-width: 1200px;
  margin: 0 auto;
`,Rd=Xn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 15px;
`,Nd=Xn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
`,Md=Xn.h1`
  color: ${e=>e.theme.text};
  margin-bottom: 20px;
  text-align: center;
  font-size: 24px;
`,Wd=()=>{const{theme:t}=ne(),{t:n}=le(),o=r(),i=Array(9).fill().map(()=>Array(9).fill(0)),[l,a]=e.useState(i),[s,c]=e.useState(null),[d,u]=e.useState({}),h=e=>{let t="";for(let n=0;n<9;n++)for(let o=0;o<9;o++)t+=e[n][o]||"0";return t},[p,f]=e.useState(h(i)),g=e.useRef(null);e.useEffect(()=>{f(h(l))},[l]);const m=()=>{let e=0;for(let n=0;n<9;n++)for(let t=0;t<9;t++)0!==l[n][t]&&e++;if(e<17)return void alert(n("invalidSudoku")||`数独至少需要17个数字，当前只有${e}个`);if(!Ro(l))return void alert(n("invalidSudoku")||"数独不符合规则，请检查棋盘数据");const t=(e=>{try{const t=Ao.solveSudoku(e);if(t)return t}catch(o){console.error("使用DLX算法求解数独时出错:",o)}const t=e.map(e=>[...e]),n=()=>{const e=jo(t);if(!e)return!0;const[o,r]=e;for(let i=1;i<=9;i++)if(zo(t,o,r,i)){if(t[o][r]=i,n())return!0;t[o][r]=0}return!1};return n(),t})(l);if(t)if(Po(l))try{const e={puzzle:l,solution:t,difficulty:"custom",timestamp:Date.now()};console.log("保存自定义数独到localStorage:",e),localStorage.setItem("customPuzzle",JSON.stringify(e)),console.log("保存完成，跳转到游戏页面"),o("/game")}catch(r){console.error("数独验证失败:",r),alert(n("validationError")||"验证失败，请检查棋盘数据")}else alert(n("notUniqueSolution")||"该数独不仅有一个解，请修改棋盘数据");else alert(n("noSolution")||"该数独无法求解，请检查棋盘数据")},y=(()=>{const e={};for(let t=1;t<=9;t++)e[t]=9;for(let t=0;t<9;t++)for(let n=0;n<9;n++)0!==l[t][n]&&e[l[t][n]]--;return e})();return v.jsxs(qd,{theme:t,children:[v.jsx(Md,{theme:t,children:n("customSudoku")}),v.jsxs(Id,{children:[v.jsx(Rd,{children:v.jsx("div",{className:"board-container",ref:g,onClick:e=>e.stopPropagation(),style:{position:"relative"},children:v.jsx(ei,{board:l,originalPuzzle:Array(9).fill().map(()=>Array(9).fill(0)),selectedCell:s,highlightedCells:[],incorrectCells:new Set,onCellClick:(e,t)=>{c({row:e,col:t})},isPencilMode:!1,pencilNotes:d})})}),v.jsx(Nd,{children:v.jsxs("div",{className:"controls-container",onClick:e=>e.stopPropagation(),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[v.jsx("div",{style:{width:"100%",maxWidth:"280px",marginBottom:"0px",padding:"2px",boxSizing:"border-box"},children:v.jsx("textarea",{value:p,onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"").slice(0,81);f(t),81===t.length&&a((e=>{const t=Array(9).fill().map(()=>Array(9).fill(0));if(81===e.length)for(let n=0;n<9;n++)for(let o=0;o<9;o++){const r=parseInt(e[9*n+o]);!isNaN(r)&&r>=0&&r<=9&&(t[n][o]=r)}return t})(t))},placeholder:n("enterSudokuData")||"输入81位数字（0表示空格）",rows:3,style:{width:"100%",height:"auto",minHeight:"80px",padding:"15px",fontSize:"16px",fontFamily:"Arial, sans-serif",borderRadius:"8px",border:"2px solid #3498db",boxSizing:"border-box",backgroundColor:"#ffffff",color:"#333333",outline:"none",transition:"border-color 0.2s ease",resize:"vertical","&:focus":{borderColor:"#2980b9"}},title:n("sudokuDataTooltip")||"输入81位数字，0表示空格，从左到右、从上到下填充棋盘"})}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",width:"100%",maxWidth:"280px",padding:"4px",boxSizing:"border-box"},children:[1,2,3,4,5,6,7,8,9].map(e=>{const t=y[e]||0,n=0===t;return v.jsxs("button",{className:"number-button",disabled:n,onClick:t=>{t.stopPropagation(),!n&&(e=>{if(!s)return;const t=l.map(e=>[...e]);t[s.row][s.col]=e,a(t)})(e)},style:{position:"relative",backgroundColor:"#ffffff",color:"#3498db",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"12px",fontFamily:"Arial, sans-serif",fontWeight:"400",lineHeight:"1",cursor:n?"not-allowed":"pointer",boxSizing:"border-box",width:"100%",aspectRatio:"1",minHeight:"80px",maxHeight:"180px",overflow:"visible",fontSize:"0",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease",opacity:n?.5:1},title:`${e}`,children:[v.jsx("span",{style:{fontSize:"clamp(40px, 12vw, 90px)",fontWeight:"400",lineHeight:"1",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",width:"100%",height:"100%",boxSizing:"border-box"},children:e}),v.jsx("span",{style:{position:"absolute",top:"4px",right:"4px",backgroundColor:"transparent",color:"#3498db",fontSize:"16px",fontWeight:"bold",padding:"2px 6px",borderRadius:"10px",minWidth:"20px",textAlign:"center",display:0===t?"none":"inline-block"},children:t})]},e)})}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",width:"100%",maxWidth:"280px",marginTop:"0px",padding:"2px",boxSizing:"border-box"},children:[v.jsx("button",{onClick:e=>{e.stopPropagation(),s?(()=>{if(!s)return;const e=l.map(e=>[...e]);e[s.row][s.col]=0,a(e);const t=`${s.row}-${s.col}`,n={...d};delete n[t],u(n)})():alert(n("pleaseSelectCell")||"请先选择一个单元格")},title:n("clearCell"),style:{position:"relative",backgroundColor:"#ff4444",color:"white",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"8px",fontSize:"24px",fontFamily:"Arial, sans-serif",fontWeight:"600",lineHeight:"1.2",cursor:"pointer",boxSizing:"border-box",width:"100%",aspectRatio:"1",minHeight:"80px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:v.jsxs("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M3 6h18"}),v.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),v.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),v.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),v.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})}),v.jsx("button",{onClick:e=>{e.stopPropagation(),m()},title:n("save")||"保存",style:{position:"relative",backgroundColor:"#27ae60",color:"white",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",borderRadius:"8px",fontSize:"24px",fontFamily:"Arial, sans-serif",fontWeight:"600",lineHeight:"1.2",cursor:"pointer",boxSizing:"border-box",gridColumn:"span 2",width:"100%",aspectRatio:"2 / 1",minHeight:"80px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08)",transition:"all 0.2s ease"},children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})]})})]})]})},Dd=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 30px;
`,Fd=Xn.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
`,Ld=Xn.div`
  background-color: ${e=>e.theme.surface};
  border-radius: 12px;
  padding: 25px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  cursor: pointer;
  border-left: 5px solid ${e=>e.$mastered?e.theme.success:e.theme.primary};
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  }
`,Bd=Xn.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
`,Od=Xn.h3`
  font-size: 22px;
  color: ${e=>e.theme.text};
  margin: 0;
`,Hd=Xn.div`
  background-color: ${e=>e.$mastered?e.theme.success:e.theme.primary};
  color: white;
  padding: 5px 10px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
`,_d=Xn.p`
  font-size: 16px;
  color: ${e=>e.theme.textSecondary};
  line-height: 1.6;
  margin-bottom: 15px;
`,Xd=Xn.div`
  width: 100%;
  height: 8px;
  background-color: ${e=>e.theme.background};
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 10px;
`,Yd=Xn.div`
  height: 100%;
  background-color: ${e=>e.$mastered?e.theme.success:e.theme.primary};
  border-radius: 4px;
  width: ${e=>e.percentage}%;
  transition: width 0.3s ease;
`,Gd=Xn.div`
  display: flex;
  justify-content: space-between;
  font-size: 14px;
  color: ${e=>e.theme.textSecondary};
`,Zd=Xn.div`
  background-color: ${e=>e.theme.surface};
  border-radius: 12px;
  padding: 30px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,Ud=Xn.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 30px;
`,Jd=Xn.h2`
  font-size: 32px;
  color: ${e=>e.theme.text};
  margin: 0;
`,Vd=Xn.button`
  background-color: ${e=>e.theme.surface};
  color: ${e=>e.theme.text};
  border: 2px solid ${e=>e.theme.border};
  padding: 10px 20px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background-color: ${e=>e.theme.primary};
    color: white;
    border-color: ${e=>e.theme.primary};
  }
`,Kd=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 25px;
`,Qd=Xn.h3`
  font-size: 24px;
  color: ${e=>e.theme.text};
  margin: 0;
`,eu=Xn.div`
  background-color: ${e=>e.theme.background};
  border-radius: 8px;
  padding: 20px;
`,tu=Xn.ol`
  padding-left: 20px;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 15px;
`,nu=Xn.li`
  font-size: 16px;
  color: ${e=>e.theme.text};
  line-height: 1.6;
`,ou=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
  align-items: center;
`,ru=Xn.img`
  width: 100%;
  max-width: 600px;
  height: auto;
  border-radius: 8px;
  border: 2px solid ${e=>e.theme.border};
  object-fit: contain;
`,iu=Xn.div`
  background-color: ${e=>e.theme.background};
  border-radius: 8px;
  padding: 30px;
  width: 100%;
  max-width: 600px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border: 2px solid ${e=>e.theme.border};
`,lu=Xn.button`
  background-color: ${e=>e.theme.primary};
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 8px;
  font-size: 18px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  align-self: flex-start;
  
  &:hover {
    background-color: ${e=>e.theme.primary}aa;
    transform: translateY(-2px);
  }
`,au=()=>{const{theme:t}=ne(),{techniquesProgress:n,incrementTechniquePractice:o}=wo(),{t:i}=le(),[l,a]=e.useState(null),s=r(),c=[{id:"nakedSingles",name:i("nakedSingleTechnique"),description:i("nakedSingleTechniqueDescription"),details:{description:i("nakedSingleTechniqueDetail"),steps:[i("nakedSingleStep1"),i("nakedSingleStep2"),i("nakedSingleStep3"),i("nakedSingleStep4"),i("nakedSingleStep5")],examples:i("nakedSingleExample"),diagram:{type:"nakedSingle"}}},{id:"hiddenSingles",name:i("hiddenSingleTechnique"),description:i("hiddenSingleTechniqueDescription"),details:{description:i("hiddenSingleTechniqueDetail"),steps:[i("hiddenSingleStep1"),i("hiddenSingleStep2"),i("hiddenSingleStep3"),i("hiddenSingleStep4")],examples:i("hiddenSingleExample"),diagram:{type:"hiddenSingle"}}},{id:"nakedPairs",name:i("nakedPairTechnique"),description:i("nakedPairTechniqueDescription"),details:{description:i("nakedPairTechniqueDetail"),steps:[i("nakedPairStep1"),i("nakedPairStep2"),i("nakedPairStep3")],examples:i("nakedPairExample"),diagram:{type:"nakedPair"}}},{id:"hiddenPairs",name:i("hiddenPairTechnique"),description:i("hiddenPairTechniqueDescription"),details:{description:i("hiddenPairTechniqueDetail"),steps:[i("hiddenPairStep1"),i("hiddenPairStep2"),i("hiddenPairStep3")],examples:i("hiddenPairExample"),diagram:{type:"hiddenPair"}}},{id:"pointingPairs",name:i("pointingPairsTechnique"),description:i("pointingPairsTechniqueDescription"),details:{description:i("pointingPairsTechniqueDetail"),steps:[i("pointingPairsStep1"),i("pointingPairsStep2"),i("pointingPairsStep3"),i("pointingPairsStep4")],examples:i("pointingPairsExample"),diagram:{type:"pointingPairs"}}},{id:"boxLineReduction",name:i("boxLineReductionTechnique"),description:i("boxLineReductionTechniqueDescription"),details:{description:i("boxLineReductionTechniqueDetail"),steps:[i("boxLineReductionStep1"),i("boxLineReductionStep2"),i("boxLineReductionStep3"),i("boxLineReductionStep4")],examples:i("boxLineReductionExample"),diagram:{type:"boxLineReduction"}}},{id:"nakedTriples",name:i("nakedTripleTechnique"),description:i("nakedTripleTechniqueDescription"),details:{description:i("nakedTripleTechniqueDetail"),steps:[i("nakedTripleStep1"),i("nakedTripleStep2"),i("nakedTripleStep3")],examples:i("nakedTripleExample"),diagram:{type:"nakedTriple"}}},{id:"hiddenTriples",name:i("hiddenTripleTechnique"),description:i("hiddenTripleTechniqueDescription"),details:{description:i("hiddenTripleTechniqueDetail"),steps:[i("hiddenTripleStep1"),i("hiddenTripleStep2"),i("hiddenTripleStep3")],examples:i("hiddenTripleExample"),diagram:{type:"hiddenTriple"}}},{id:"xWing",name:i("xWingTechnique"),description:i("xWingTechniqueDescription"),details:{description:i("xWingTechniqueDetail"),steps:[i("xWingStep1"),i("xWingStep2"),i("xWingStep3"),i("xWingStep4")],examples:i("xWingExample"),diagram:{type:"xWing"}}},{id:"yWing",name:i("yWingTechnique"),description:i("yWingTechniqueDescription"),details:{description:i("yWingTechniqueDetail"),steps:[i("yWingStep1"),i("yWingStep2"),i("yWingStep3"),i("yWingStep4")],examples:i("yWingExample"),diagram:{type:"yWing"}}}],d=e=>{const t=n[e]||{mastered:0,practiced:0};return Math.min(100,t.practiced/10*20)};return v.jsx(Dd,{children:l?v.jsxs(Zd,{theme:t,children:[v.jsxs(Ud,{children:[v.jsx(Jd,{theme:t,children:l.name}),v.jsx(Vd,{onClick:()=>{a(null)},theme:t,children:i("close")})]}),v.jsxs(Kd,{children:[v.jsxs("div",{children:[v.jsx(Qd,{theme:t,children:i("techniqueDescription")}),v.jsx("p",{style:{fontSize:"16px",color:t.textSecondary,lineHeight:"1.6"},children:l.details.description})]}),v.jsxs("div",{children:[v.jsx(Qd,{theme:t,children:i("techniqueSteps")}),v.jsx(tu,{children:l.details.steps.map((e,n)=>v.jsx(nu,{theme:t,children:e},n))})]}),v.jsxs("div",{children:[v.jsx(Qd,{theme:t,children:i("techniqueExamples")}),v.jsx(eu,{theme:t,children:v.jsx("p",{style:{fontSize:"16px",color:t.textSecondary,lineHeight:"1.6"},children:l.details.examples})})]}),l.details.diagram&&v.jsxs("div",{children:[v.jsx(Qd,{theme:t,children:i("techniqueDiagram")||"图例"}),v.jsx(ou,{theme:t,children:v.jsx(iu,{theme:t,children:v.jsx(ru,{src:`/technique-diagrams/${l.id}.png`,alt:l.name,theme:t,onError:e=>{console.warn(`图例图片加载失败: ${l.id}.png`),e.target.style.display="none"}})})})]}),v.jsx(lu,{onClick:()=>(e=>{var t;o(e);const n=null==(t=c.find(t=>t.id===e))?void 0:t.name;K.info(i("startPractice",{techniqueName:n}),{position:"top-right",autoClose:2e3}),s(`/game?techniqueId=${e}`)})(l.id),theme:t,children:i("startPracticeButton")})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("h2",{style:{fontSize:"32px",color:t.text,margin:0},children:i("techniqueLearningTitle")}),v.jsx("p",{style:{fontSize:"18px",color:t.textSecondary,marginBottom:"30px"},children:i("techniqueLearningDescription")}),v.jsx(Fd,{children:c.map(e=>{const o=n[e.id]||{mastered:0,practiced:0},r=d(e.id),l=(s=e.id,d(s)>=80);var s;return v.jsxs(Ld,{onClick:()=>(e=>{a(e)})(e),$mastered:l,theme:t,children:[v.jsxs(Bd,{children:[v.jsx(Od,{theme:t,children:e.name}),v.jsx(Hd,{$mastered:l,theme:t,children:i(l?"mastered":"learning")})]}),v.jsx(_d,{theme:t,children:e.description}),v.jsx(Xd,{theme:t,children:v.jsx(Yd,{percentage:r,$mastered:l,theme:t})}),v.jsxs(Gd,{theme:t,children:[v.jsxs("span",{children:[i("practiceCount"),": ",o.practiced]}),v.jsxs("span",{children:[i("masteryLevel"),": ",r.toFixed(0),"%"]})]})]},e.id)})})]})})},su=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 30px;
`,cu=Xn.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,du=Xn.h2`
  font-size: 32px;
  color: ${e=>e.theme.text};
  margin: 0;
`,uu=Xn.button`
  background-color: ${e=>e.theme.error};
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background-color: ${e=>e.theme.error}aa;
    transform: translateY(-2px);
  }
  
  &:disabled {
    background-color: ${e=>e.theme.disabled};
    cursor: not-allowed;
    transform: none;
  }
`,hu=Xn.div`
  display: flex;
  gap: 15px;
  margin-bottom: 15px;
`,pu=Xn.button`
  background-color: ${e=>e.active?e.theme.primary:e.theme.surface};
  color: ${e=>e.active?"white":e.theme.text};
  border: 2px solid ${e=>e.active?e.theme.primary:e.theme.border};
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background-color: ${e=>e.active?e.theme.primary:e.theme.background};
  }
`,fu=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,gu=Xn.div`
  background-color: ${e=>e.theme.surface};
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-left: 5px solid ${e=>{switch(e.status){case"in-progress":return e.theme.warning;case"completed":return e.theme.success;case"paused":return e.theme.info;default:return e.theme.primary}}};
`,mu=Xn.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
`,yu=Xn.h3`
  font-size: 20px;
  color: ${e=>e.theme.text};
  margin: 0;
`,xu=Xn.div`
  background-color: ${e=>{switch(e.status){case"in-progress":return e.theme.warning;case"completed":return e.theme.success;case"paused":return e.theme.info;default:return e.theme.primary}}};
  color: white;
  padding: 5px 10px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
`,bu=Xn.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
  margin-bottom: 15px;
`,vu=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
`,wu=Xn.span`
  font-size: 14px;
  color: ${e=>e.theme.textSecondary};
`,Cu=Xn.span`
  font-size: 16px;
  font-weight: 600;
  color: ${e=>e.theme.text};
`,Su=Xn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
`,ku=Xn.button`
  background-color: ${e=>{switch(e.type){case"primary":return e.theme.primary;case"danger":return e.theme.error;default:return e.theme.surface}}};
  color: ${e=>"secondary"===e.type?e.theme.text:"white"};
  border: ${e=>"secondary"===e.type?`2px solid ${e.theme.border}`:"none"};
  padding: 8px 16px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    opacity: 0.9;
    transform: translateY(-2px);
  }
`,$u=Xn.div`
  text-align: center;
  padding: 60px 20px;
  color: ${e=>e.theme.textSecondary};
`,Tu=Xn.div`
  font-size: 72px;
  margin-bottom: 20px;
  color: ${e=>e.theme.disabled};
`,Au=Xn.h3`
  font-size: 24px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  margin-bottom: 10px;
`,zu=Xn.p`
  font-size: 16px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.textSecondary)||"#666666"}};
  margin-bottom: 20px;
`,ju=Xn.button`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}}aa;
    transform: translateY(-2px);
  }
`,Pu=Xn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
`,Eu=Xn.div`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  border-radius: 12px;
  padding: 30px;
  width: 90%;
  max-width: 500px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
`,qu=Xn.h3`
  font-size: 24px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  margin-top: 0;
  margin-bottom: 20px;
`,Iu=Xn.p`
  font-size: 16px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.textSecondary)||"#666666"}};
  margin-bottom: 30px;
  line-height: 1.6;
`,Ru=Xn.div`
  display: flex;
  gap: 15px;
  justify-content: flex-end;
`,Nu=()=>{const{theme:t}=ne(),{userId:n}=wo(),{loadSavedGame:o}=Tr(),{executeWithLoading:r}=ce(),{t:i}=le(),[l,a]=e.useState([]),[s,c]=e.useState("all"),[d,u]=e.useState(!1),[h,p]=e.useState(null);e.useEffect(()=>{f()},[]);const f=async()=>{try{await r(async()=>{const e=await So.getUserProgress(n);a(e.data||[])},"加载游戏进度中...")}catch(e){console.error("加载进度失败:",e),a(g())}},g=()=>[{id:"1",puzzleId:"puzzle-1",difficulty:"easy",startTime:"2023-10-15T14:30:00",lastUpdated:"2023-10-15T15:45:00",completed:!1,completionTime:null,filledCells:42,totalCells:81,status:"in-progress",puzzleState:[]},{id:"2",puzzleId:"puzzle-2",difficulty:"medium",startTime:"2023-10-14T09:15:00",lastUpdated:"2023-10-14T10:30:00",completed:!0,completionTime:"2023-10-14T10:30:00",filledCells:81,totalCells:81,status:"completed",puzzleState:[]},{id:"3",puzzleId:"puzzle-3",difficulty:"hard",startTime:"2023-10-13T18:00:00",lastUpdated:"2023-10-13T18:30:00",completed:!1,completionTime:null,filledCells:28,totalCells:81,status:"paused",puzzleState:[]}],m=l.filter(e=>"all"===s||("completed"===s?"completed"===e.status:"in-progress"!==s||"completed"!==e.status)),y=e=>{p(e),u(!0)},x=()=>{u(!1),p(null)},b=e=>new Date(e).toLocaleString(),w=e=>{switch(e){case"easy":return i("easy");case"medium":return i("medium");case"hard":return i("hard");case"expert":return i("expert");default:return e}};return v.jsxs(su,{children:[v.jsxs(cu,{children:[v.jsx(du,{children:i("progress")}),l.length>0&&v.jsx(uu,{onClick:()=>y("clear-all"),children:i("clearAllProgress")})]}),l.length>0&&v.jsxs(hu,{children:[v.jsx(pu,{active:"all"===s,onClick:()=>c("all"),children:i("allProgress")}),v.jsx(pu,{active:"in-progress"===s,onClick:()=>c("in-progress"),children:i("inProgress")}),v.jsx(pu,{active:"completed"===s,onClick:()=>c("completed"),children:i("completed")})]}),m.length>0?v.jsx(fu,{children:m.map(e=>{return v.jsxs(gu,{status:e.status,children:[v.jsxs(mu,{children:[v.jsxs(yu,{children:[i("sudokuGame")," #",e.id]}),v.jsx(xu,{status:e.status,theme:t,children:"completed"===e.status?i("completed"):"in-progress"===e.status?i("inProgress"):i("paused")})]}),v.jsxs(bu,{children:[v.jsxs(vu,{children:[v.jsx(wu,{theme:t,children:i("difficulty")}),v.jsx(Cu,{theme:t,children:w(e.difficulty)})]}),v.jsxs(vu,{children:[v.jsx(wu,{theme:t,children:i("startTime")}),v.jsx(Cu,{theme:t,children:b(e.startTime)})]}),v.jsxs(vu,{children:[v.jsx(wu,{theme:t,children:i("lastUpdated")}),v.jsx(Cu,{theme:t,children:b(e.lastUpdated)})]}),v.jsxs(vu,{children:[v.jsx(wu,{theme:t,children:i("completionProgress")}),v.jsxs(Cu,{theme:t,children:[(n=e.filledCells,a=e.totalCells,Math.round(n/a*100)),"%"]})]})]}),v.jsxs(Su,{children:["completed"!==e.status&&v.jsx(ku,{type:"primary",onClick:()=>(async e=>{try{await r(async()=>{const t=l.find(t=>t.id===e);t&&(await o(t.puzzleState,t.puzzleId),window.location.href="/game")},"加载游戏中...")}catch(t){console.error("加载游戏失败:",t),K.error(i("loadGameFailed"),{position:"top-right",autoClose:2e3})}})(e.id),children:i("continueGame")}),v.jsx(ku,{type:"danger",onClick:()=>y(e.id),children:i("deleteProgress")})]})]},e.id);var n,a})}):v.jsxs($u,{children:[v.jsx(Tu,{children:"📝"}),v.jsx(Au,{children:i("noProgress")}),v.jsx(zu,{children:i("all"!==s?"noFilteredProgress":"noStartedGames")}),v.jsx(ju,{onClick:()=>window.location.href="/game",children:i("startNewGame")})]}),d&&v.jsx(Pu,{children:v.jsxs(Eu,{children:[v.jsx(qu,{children:i("clear-all"===h?"confirmClearAllProgress":"confirmDeleteProgress")}),v.jsx(Iu,{children:i("clear-all"===h?"clearAllProgressWarning":"deleteProgressWarning")}),v.jsxs(Ru,{children:[v.jsx(ku,{type:"secondary",onClick:x,children:i("cancel")}),v.jsx(ku,{type:"danger",onClick:()=>{"clear-all"===h?(async()=>{try{await r(async()=>{a([])},"清空进度中...")}catch(e){console.error("清空进度失败:",e),K.error(i("clearProgressFailed"),{position:"top-right",autoClose:2e3})}})():"string"==typeof h&&(async e=>{try{await r(async()=>{a(t=>t.filter(t=>t.id!==e))},"删除进度中...")}catch(t){console.error("删除进度失败:",t),K.error(i("deleteProgressFailed"),{position:"top-right",autoClose:2e3})}})(h),x()},children:i("confirmDelete")})]})]})})]})},Mu=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 30px;
`,Wu=Xn.h2`
  font-size: 32px;
  color: ${e=>e.theme.text};
  margin: 0;
`,Du=Xn.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
`,Fu=Xn.div`
  background-color: ${e=>e.theme.surface};
  border-radius: 12px;
  padding: 25px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  gap: 10px;
  border-left: 5px solid ${e=>e.color||e.theme.primary};
`,Lu=Xn.div`
  font-size: 48px;
  font-weight: 700;
  color: ${e=>e.color||e.theme.primary};
`,Bu=Xn.div`
  font-size: 16px;
  color: ${e=>e.theme.textSecondary};
`,Ou=Xn.div`
  font-size: 14px;
  color: ${e=>e.positive?e.theme.success:e.theme.error};
`,Hu=Xn.div`
  background-color: ${e=>e.theme.surface};
  border-radius: 12px;
  padding: 25px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,_u=Xn.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
`,Xu=Xn.h3`
  font-size: 24px;
  color: ${e=>e.theme.text};
  margin: 0;
`,Yu=Xn.div`
  display: flex;
  gap: 10px;
`,Gu=Xn.button`
  background-color: ${e=>e.active?e.theme.primary:e.theme.surface};
  color: ${e=>e.active?"white":e.theme.text};
  border: 2px solid ${e=>e.active?e.theme.primary:e.theme.border};
  padding: 6px 12px;
  border-radius: 16px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
`,Zu=Xn.div`
  height: 300px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: ${e=>e.theme.textSecondary};
  font-size: 18px;
  background-color: ${e=>e.theme.background};
  border-radius: 8px;
`,Uu=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,Ju=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
`,Vu=Xn.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Ku=Xn.span`
  font-size: 16px;
  font-weight: 600;
  color: ${e=>e.theme.text};
`,Qu=Xn.span`
  font-size: 16px;
  color: ${e=>e.theme.textSecondary};
`,eh=Xn.div`
  width: 100%;
  height: 10px;
  background-color: ${e=>e.theme.background};
  border-radius: 5px;
  overflow: hidden;
`,th=Xn.div`
  height: 100%;
  background-color: ${e=>{switch(e.difficulty){case"easy":return"#4CAF50";case"medium":return"#FF9800";case"hard":return"#F44336";case"expert":return"#9C27B0";default:return e.theme.primary}}};
  border-radius: 5px;
  width: ${e=>e.percentage}%;
`,nh=Xn.div`
  background-color: ${e=>e.theme.surface};
  border-radius: 12px;
  padding: 25px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,oh=Xn.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 15px;
  margin-top: 20px;
`,rh=Xn.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  background-color: ${e=>e.theme.background};
  border-radius: 8px;
  border-left: 4px solid ${e=>e.mastered?e.theme.success:e.theme.primary};
`,ih=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
`,lh=Xn.span`
  font-size: 16px;
  font-weight: 600;
  color: ${e=>e.theme.text};
`,ah=Xn.span`
  font-size: 14px;
  color: ${e=>e.theme.textSecondary};
`,sh=Xn.div`
  background-color: ${e=>e.mastered?e.theme.success:e.theme.primary};
  color: white;
  padding: 5px 10px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
`,ch=()=>{const{theme:t}=ne(),{userId:n,userStats:o,techniquesProgress:r}=wo(),{executeWithLoading:i}=ce(),[l,a]=e.useState(null),[s,c]=e.useState("all");e.useEffect(()=>{d()},[s]);const d=async()=>{try{await i(async()=>{const e=await So.getUserStatistics(n,s);a(e.data)},"加载统计数据中...")}catch(e){console.error("加载统计数据失败:",e),a(u())}},u=()=>({totalGames:42,completedGames:38,winRate:90.5,averageTime:1245,favoriteDifficulty:"medium",bestTime:420,currentStreak:5,longestStreak:12,totalPlayTime:145200,difficultyBreakdown:{easy:15,medium:20,hard:5,expert:2},recentPerformance:[{date:"2023-10-10",games:3,completed:3},{date:"2023-10-11",games:2,completed:2},{date:"2023-10-12",games:4,completed:3},{date:"2023-10-13",games:1,completed:1},{date:"2023-10-14",games:2,completed:2},{date:"2023-10-15",games:3,completed:3},{date:"2023-10-16",games:2,completed:2}]}),h=l||u(),p=r||{},f=e=>{if(!e)return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`},g=()=>{if(h.totalGames)return h.totalGames;const e=h.difficultyBreakdown||{};return Object.values(e).reduce((e,t)=>e+t,0)},m=e=>{const t=p[e]||{practiced:0};return Math.min(100,t.practiced/10*20)};return v.jsxs(Mu,{children:[v.jsx(Wu,{theme:t,children:"我的统计"}),v.jsxs(Du,{children:[v.jsxs(Fu,{color:t.primary,theme:t,children:[v.jsx(Lu,{color:t.primary,theme:t,children:g()}),v.jsx(Bu,{theme:t,children:"总游戏数"}),v.jsx(Ou,{positive:!0,theme:t,children:"+5 本周"})]}),v.jsxs(Fu,{color:t.success,theme:t,children:[v.jsx(Lu,{color:t.success,theme:t,children:h.completedGames}),v.jsx(Bu,{theme:t,children:"完成游戏"}),v.jsx(Ou,{positive:!0,theme:t,children:"全部完成"})]}),v.jsxs(Fu,{color:t.warning,theme:t,children:[v.jsxs(Lu,{color:t.warning,theme:t,children:[h.winRate,"%"]}),v.jsx(Bu,{theme:t,children:"胜率"}),v.jsx(Ou,{positive:!0,theme:t,children:"+2% 本月"})]}),v.jsxs(Fu,{color:t.info,theme:t,children:[v.jsx(Lu,{color:t.info,theme:t,children:f(h.averageTime)}),v.jsx(Bu,{theme:t,children:"平均时间"}),v.jsx(Ou,{positive:!0,theme:t,children:"-30秒"})]}),v.jsxs(Fu,{color:t.error,theme:t,children:[v.jsx(Lu,{color:t.error,theme:t,children:f(h.bestTime)}),v.jsx(Bu,{theme:t,children:"最佳时间"}),v.jsx(Ou,{positive:!0,theme:t,children:"记录保持中"})]}),v.jsxs(Fu,{color:t.primary,theme:t,children:[v.jsx(Lu,{color:t.primary,theme:t,children:h.currentStreak}),v.jsx(Bu,{theme:t,children:"当前连续天数"}),v.jsx(Ou,{positive:h.currentStreak>1,theme:t,children:h.currentStreak>1?"🔥 加油！":"今天开始"})]})]}),v.jsxs(Hu,{theme:t,children:[v.jsxs(_u,{children:[v.jsx(Xu,{theme:t,children:"游戏进度"}),v.jsxs(Yu,{children:[v.jsx(Gu,{active:"week"===s,onClick:()=>c("week"),theme:t,children:"本周"}),v.jsx(Gu,{active:"month"===s,onClick:()=>c("month"),theme:t,children:"本月"}),v.jsx(Gu,{active:"all"===s,onClick:()=>c("all"),theme:t,children:"全部"})]})]}),v.jsx(Zu,{theme:t,children:"📊 游戏进度图表"})]}),v.jsxs(Hu,{theme:t,children:[v.jsx(_u,{children:v.jsx(Xu,{theme:t,children:"难度分布"})}),v.jsx(Uu,{children:Object.entries(h.difficultyBreakdown||{}).map(([e,n])=>{const o=(e=>{const t=h.difficultyBreakdown||{},n=g();return n>0?t[e]/n*100:0})(e);return v.jsxs(Ju,{children:[v.jsxs(Vu,{children:[v.jsx(Ku,{theme:t,children:{easy:"简单",medium:"中等",hard:"困难",expert:"专家"}[e]||e}),v.jsxs(Qu,{theme:t,children:[n," 局 (",o.toFixed(1),"%)"]})]}),v.jsx(eh,{theme:t,children:v.jsx(th,{difficulty:e,percentage:o})})]},e)})})]}),v.jsxs(nh,{theme:t,children:[v.jsx(Xu,{theme:t,children:"技巧掌握"}),v.jsx(oh,{children:[{id:"nakedSingles",name:"唯一候选数"},{id:"hiddenSingles",name:"隐性唯一"},{id:"nakedPairs",name:"数对"},{id:"hiddenPairs",name:"隐性数对"},{id:"pointingPairs",name:"指向对"},{id:"boxLineReduction",name:"宫行列排除"}].map(e=>{var n;const o=m(e.id),r=(i=e.id,m(i)>=80);var i;const l=(null==(n=p[e.id])?void 0:n.practiced)||0;return v.jsxs(rh,{mastered:r,theme:t,children:[v.jsxs(ih,{children:[v.jsx(lh,{theme:t,children:e.name}),v.jsxs(ah,{theme:t,children:["练习 ",l," 次 · 掌握度 ",o.toFixed(0),"%"]})]}),v.jsx(sh,{mastered:r,theme:t,children:r?"已掌握":"学习中"})]},e.id)})})]})]})},dh=Xn.div`
  display: flex;
  flex-direction: column;
  gap: 30px;
  max-width: 800px;
  margin: 0 auto;
`,uh=Xn.div`
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 20px;
`,hh=Xn(i)`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  border: 2px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  transition: all 0.3s ease;
  text-decoration: none;
  
  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
    color: white;
    border-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
    transform: translateX(-3px);
  }
`,ph=Xn.h1`
  font-size: 32px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  margin: 0;
  flex: 1;
`,fh=Xn.section`
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.surface)||"#ffffff"}};
  border-radius: 16px;
  padding: 25px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
  }
`,gh=Xn.h2`
  font-size: 24px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  margin: 0 0 20px 0;
  border-bottom: 2px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  padding-bottom: 10px;
`,mh=Xn.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 0;
  border-bottom: 1px solid ${e=>{var t;return(null==(t=e.theme)?void 0:t.border)||"#e0e0e0"}};
  
  &:last-child {
    border-bottom: none;
  }
`,yh=Xn.div`
  font-size: 18px;
  color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  font-weight: 500;
`,xh=Xn.div`
  display: flex;
  gap: 10px;
`,bh=Xn.button`
  background-color: ${e=>{var t,n;return e.active?(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7":(null==(n=e.theme)?void 0:n.surface)||"#ffffff"}};
  color: ${e=>{var t;return e.active?"white":(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  border: 2px solid ${e=>{var t,n;return e.active?(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7":(null==(n=e.theme)?void 0:n.border)||"#e0e0e0"}};
  padding: 10px 20px;
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background-color: ${e=>{var t,n;return e.active?(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7":(null==(n=e.theme)?void 0:n.background)||"#f5f5f5"}};
    transform: translateY(-1px);
  }
`,vh=Xn.div`
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
`,wh=Xn.button`
  display: flex;
  align-items: center;
  gap: 8px;
  background-color: ${e=>{var t,n;return e.active?(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7":(null==(n=e.theme)?void 0:n.surface)||"#ffffff"}};
  color: ${e=>{var t;return e.active?"white":(null==(t=e.theme)?void 0:t.text)||"#333333"}};
  border: 2px solid ${e=>{var t,n;return e.active?(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7":(null==(n=e.theme)?void 0:n.border)||"#e0e0e0"}};
  padding: 10px 20px;
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background-color: ${e=>{var t,n;return e.active?(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7":(null==(n=e.theme)?void 0:n.background)||"#f5f5f5"}};
    transform: translateY(-1px);
  }
`;Xn.div`
  display: flex;
  gap: 10px;
  align-items: center;
`,Xn(i)`
  display: flex;
  align-items: center;
  gap: 8px;
  background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)||"#4a6cf7"}};
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background-color: ${e=>{var t;return(null==(t=e.theme)?void 0:t.primary)?`${e.theme.primary}dd`:"#4a6cf7dd"}};
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }
`;const Ch=()=>{const{theme:e,themeMode:t,setLightTheme:n,setDarkTheme:o,setSystemTheme:i}=ne(),{language:l,changeLanguage:a,availableLanguages:s,t:c}=le();return r(),v.jsxs(dh,{children:[v.jsxs(uh,{children:[v.jsx(hh,{to:"/",theme:e,children:v.jsx(Td,{icon:jd,size:"lg"})}),v.jsx(ph,{theme:e,children:c("settingsPageTitle")})]}),v.jsxs(fh,{theme:e,children:[v.jsx(gh,{theme:e,children:c("language")}),v.jsxs(mh,{children:[v.jsx(yh,{theme:e,children:c("language")}),v.jsx(xh,{children:s.map(t=>v.jsx(bh,{active:l===t.code,onClick:()=>a(t.code),theme:e,children:t.name},t.code))})]})]}),v.jsxs(fh,{theme:e,children:[v.jsx(gh,{theme:e,children:c("theme")}),v.jsxs(vh,{children:[v.jsxs(wh,{active:"light"===t,onClick:n,theme:e,children:[v.jsx(Td,{icon:Ad,size:"lg"}),c("lightTheme")]}),v.jsxs(wh,{active:"dark"===t,onClick:o,theme:e,children:[v.jsx(Td,{icon:zd,size:"lg"}),c("darkTheme")]}),v.jsxs(wh,{active:"system"===t,onClick:i,theme:e,children:[v.jsx(Td,{icon:Pd,size:"lg"}),c("systemTheme")]})]})]})]})},Sh=[{id:"easy",titleKey:"beginnerChallenge",descriptionKey:"beginnerDescription",icon:"👶",difficulty:"easy",timeKey:"timeEasy"},{id:"medium",titleKey:"intermediateChallenge",descriptionKey:"intermediateDescription",icon:"🧩",difficulty:"medium",timeKey:"timeMedium"},{id:"hard",titleKey:"expertChallenge",descriptionKey:"expertDescription",icon:"💪",difficulty:"hard",timeKey:"timeHard"},{id:"expert",titleKey:"masterChallenge",descriptionKey:"masterDescription",icon:"🎯",difficulty:"expert",timeKey:"timeExpert"},{id:"daily",titleKey:"dailyChallenge",descriptionKey:"dailyDescription",icon:"📅",difficulty:"medium",timeKey:"timeDaily"},{id:"special",titleKey:"specialChallenge",descriptionKey:"specialDescription",icon:"🔥",difficulty:"hard",timeKey:"timeSpecial"}],kh=()=>{const{theme:e}=ne(),{t:t}=le(),n=r(),{setDifficulty:o,startNewGame:i}=Tr(),{executeWithLoading:l,isLoading:a}=ce(),s=t=>{switch(t){case"easy":return e.success||"#28a745";case"medium":return e.warning||"#ffc107";case"hard":return e.error||"#dc3545";case"expert":return e.primary||"#007bff";default:return e.textSecondary||"#6c757d"}},c=async e=>{try{o(e.difficulty);const r=await l(()=>i(null,e.difficulty),t("generatingNewPuzzle"));r&&n(`/game/${r.id}`)}catch(r){console.error("启动挑战失败:",r)}};return v.jsxs($h,{theme:e,children:[v.jsx(Th,{theme:e,children:t("difficulty")}),a?v.jsx(Ah,{children:v.jsx(fo,{showMessage:!0,message:t("loading")})}):v.jsx(zh,{theme:e,children:Sh.map(n=>{return v.jsxs(jh,{theme:e,onClick:()=>c(n),children:[v.jsx(Ph,{theme:e,children:v.jsx(Eh,{children:n.icon})}),v.jsx(qh,{theme:e,color:s(n.difficulty),children:(o=n.difficulty,o?o.charAt(0).toUpperCase()+o.slice(1):"")}),v.jsx(Ih,{theme:e,children:t(n.titleKey)}),v.jsx(Rh,{theme:e,children:t(n.descriptionKey)}),v.jsxs(Nh,{theme:e,children:[v.jsxs(Mh,{theme:e,children:["⏱️ ",t(n.timeKey)]}),v.jsx(Wh,{theme:e,onClick:e=>{e.stopPropagation(),c(n)},children:t("startGame")})]})]},n.id);var o})})]})},$h=Xn.div`
  padding: 20px 0;
`,Th=Xn.h1`
  font-size: 2.5rem;
  margin-bottom: 30px;
  color: ${e=>e.theme.text||"#333"};
  text-align: center;
  @media (max-width: 640px) {
    font-size: 2rem;
    margin-bottom: 20px;
  }
`,Ah=Xn.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 400px;
`,zh=Xn.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
  @media (max-width: 640px) {
    grid-template-columns: 1fr;
    gap: 15px;
  }
`,jh=Xn.div`
  background-color: ${e=>e.theme.surface||"#fff"};
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  cursor: pointer;
  position: relative;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
  }
`,Ph=Xn.div`
  position: absolute;
  top: 10px;
  right: 10px;
  background-color: ${e=>e.theme.background||"#f5f5f5"};
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
`,Eh=Xn.div`
  font-size: 24px;
  max-width: 32px;
  max-height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
`,qh=Xn.div`
  display: inline-block;
  padding: 4px 12px;
  border-radius: 20px;
  background-color: ${e=>e.color};
  color: white;
  font-size: 12px;
  font-weight: 500;
  margin-bottom: 10px;
`,Ih=Xn.h3`
  font-size: 1.2rem;
  margin-bottom: 10px;
  color: ${e=>e.theme.text||"#333"};
`,Rh=Xn.p`
  color: ${e=>e.theme.textSecondary||"#666"};
  margin-bottom: 15px;
  font-size: 0.95rem;
  line-height: 1.5;
`,Nh=Xn.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Mh=Xn.div`
  color: ${e=>e.theme.textSecondary||"#666"};
  font-size: 0.9rem;
`,Wh=Xn.button`
  background-color: ${e=>e.theme.primary||"#007bff"};
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 0.9rem;
  cursor: pointer;
  transition: background-color 0.2s ease;
  
  &:hover {
    background-color: ${e=>e.theme.primaryDark||"#0056b3"};
  }
`,Dh={"/":{title:"Sudoku Advanced Techniques - Learn & Master Expert Sudoku Strategies",description:"Free open-source Sudoku game platform focused on advanced techniques. Learn X-Wing, XY-Wing, Swordfish, and expert puzzle solving.",keywords:"sudoku,advanced sudoku techniques,X-Wing solution,XY-Wing sudoku,expert sudoku"},"/home":{title:"Sudoku Learning Platform - Advanced Techniques & Expert Challenges",description:"Master advanced Sudoku solving techniques with interactive tutorials and practice challenges.",keywords:"sudoku learning,sudoku techniques,sudoku tutorial,expert sudoku"},"/game":{title:"Play Sudoku - Advanced Techniques Learning Game | SudokuTech",description:"Play challenging Sudoku puzzles and learn advanced solving techniques in real-time.",keywords:"play sudoku,sudoku game,sudoku puzzle solver,sudoku strategies"},"/techniques":{title:"Sudoku Advanced Techniques Tutorial - X-Wing, Swordfish & More",description:"Complete guide to advanced Sudoku techniques including X-Wing, XY-Wing, Swordfish, BUG+1, and ALS-XZ solving strategies.",keywords:"sudoku techniques,X-Wing,XY-Wing,Swordfish,BUG+1,ALS-XZ,sudoku solving"},"/challenges":{title:"Expert Sudoku Challenges - Master & Expert Difficulty Puzzles",description:"Challenge yourself with expert and master level Sudoku puzzles. Test your skills and improve your solving speed.",keywords:"sudoku challenges,expert sudoku,master sudoku,difficult sudoku puzzles"},"/progress":{title:"Your Sudoku Progress - Track Learning & Mastery | SudokuTech",description:"Monitor your Sudoku solving progress and track your technique mastery levels.",keywords:"sudoku progress,learning tracker,sudoku statistics"},"/stats":{title:"Sudoku Statistics - Analyze Your Solving Performance",description:"Detailed statistics and analytics of your Sudoku solving performance and technique usage.",keywords:"sudoku stats,solving analysis,technique statistics"},"/settings":{title:"Settings - Customize Your Sudoku Experience",description:"Configure your preferences for the Sudoku learning platform.",keywords:"sudoku settings,preferences,configuration"},"/custom":{title:"Custom Sudoku - Create Your Own Puzzles",description:"Create and solve your own custom Sudoku puzzles. Fill in the board and test your solving skills.",keywords:"custom sudoku,create sudoku,sudoku puzzle creator"}};(e=>{const t=(e=>{if(Dh[e])return Dh[e];for(const[t,n]of Object.entries(Dh))if(e.startsWith(t)&&"/"!==t)return n;return Dh["/"]})(e);document.title=t.title;let n=document.querySelector('meta[name="description"]');n&&(n.content=t.description);let o=document.querySelector('meta[name="keywords"]');o&&(o.content=t.keywords);let r=document.querySelector('meta[property="og:title"]');r&&(r.content=t.title.split(" |")[0].trim());let i=document.querySelector('meta[property="og:description"]');i&&(i.content=t.description);let l=document.querySelector('meta[name="twitter:title"]');l&&(l.content=t.title.split(" |")[0].trim());let a=document.querySelector('meta[name="twitter:description"]');a&&(a.content=t.description)})(window.location.pathname);w.createRoot(document.getElementById("root")).render(v.jsxs(n.StrictMode,{children:[v.jsx(te,{children:v.jsx(ie,{children:v.jsx(se,{children:v.jsx(vo,{children:v.jsx($r,{children:v.jsx(l,{children:v.jsx(xo,{children:v.jsxs(a,{children:[v.jsx(s,{path:"/",element:v.jsx(Ed,{})}),v.jsx(s,{path:"/home",element:v.jsx(Ur,{})}),v.jsx(s,{path:"/game",element:v.jsx(Ed,{})}),v.jsx(s,{path:"/game/:puzzleId",element:v.jsx(Ed,{})}),v.jsx(s,{path:"/custom",element:v.jsx(Wd,{})}),v.jsx(s,{path:"/techniques",element:v.jsx(au,{})}),v.jsx(s,{path:"/progress",element:v.jsx(Nu,{})}),v.jsx(s,{path:"/stats",element:v.jsx(ch,{})}),v.jsx(s,{path:"/settings",element:v.jsx(Ch,{})}),v.jsx(s,{path:"/difficulty",element:v.jsx(kh,{})}),v.jsx(s,{path:"/challenges",element:v.jsx(kh,{})})]})})})})})})})}),v.jsx(O,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("ServiceWorker 注册成功:",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&(console.log("发现新版本，提示用户刷新"),function(){if(document.getElementById("update-notification"))return void console.log("更新通知已存在，不再创建");const e=localStorage.getItem("language")||"en",t={en:{updateAvailable:"New version available!",updateNow:"Update Now"},zh:{updateAvailable:"网站有新版本可用！",updateNow:"立即更新"}},n=document.createElement("div");n.id="update-notification",n.style.cssText="\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n    background-color: #4a6fa5;\n    color: white;\n    padding: 15px 20px;\n    border-radius: 8px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    z-index: 9999;\n    display: flex;\n    align-items: center;\n    gap: 15px;\n    font-size: 14px;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  ",n.innerHTML=`\n    <span>${t[e].updateAvailable}</span>\n    <button id="refreshBtn" style="background: white; color: #4a6fa5; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: bold;">\n      ${t[e].updateNow}\n    </button>\n  `,document.body.appendChild(n),n.querySelector("button").onclick=function(){n.parentNode===document.body&&document.body.removeChild(n),setTimeout(()=>{window.location.reload()},10)},setTimeout(()=>{document.body.contains(n)&&(document.body.removeChild(n),console.log("更新通知已自动移除"))},3e4)}())})})}).catch(e=>{console.log("ServiceWorker 注册失败:",e)})});
